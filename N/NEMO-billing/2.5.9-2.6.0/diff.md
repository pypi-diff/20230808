# Comparing `tmp/NEMO_billing-2.5.9-py3-none-any.whl.zip` & `tmp/NEMO_billing-2.6.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,152 +1,154 @@
-Zip file size: 189919 bytes, number of entries: 150
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/__init__.py
--rw-r--r--  2.0 unx    14038 b- defN 23-Jul-27 22:33 NEMO_billing/admin.py
--rw-r--r--  2.0 unx     2638 b- defN 23-Jul-27 22:33 NEMO_billing/api.py
--rw-r--r--  2.0 unx      285 b- defN 23-Jul-27 22:33 NEMO_billing/app_settings.py
--rw-r--r--  2.0 unx      426 b- defN 23-Jul-27 22:33 NEMO_billing/apps.py
--rw-r--r--  2.0 unx      199 b- defN 23-Jul-27 22:33 NEMO_billing/decorators.py
--rw-r--r--  2.0 unx      122 b- defN 23-Jul-27 22:33 NEMO_billing/exceptions.py
--rw-r--r--  2.0 unx     5773 b- defN 23-Jul-27 22:33 NEMO_billing/models.py
--rw-r--r--  2.0 unx     1304 b- defN 23-Jul-27 22:33 NEMO_billing/urls.py
--rw-r--r--  2.0 unx     3111 b- defN 23-Jul-27 22:33 NEMO_billing/utilities.py
--rw-r--r--  2.0 unx     6371 b- defN 23-Jul-27 22:33 NEMO_billing/views.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/__init__.py
--rw-r--r--  2.0 unx     4880 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/admin.py
--rw-r--r--  2.0 unx      102 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/app_settings.py
--rw-r--r--  2.0 unx      444 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/apps.py
--rw-r--r--  2.0 unx     2991 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/customization.py
--rw-r--r--  2.0 unx      892 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/exceptions.py
--rw-r--r--  2.0 unx    18184 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/models.py
--rw-r--r--  2.0 unx    21607 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/processors.py
--rw-r--r--  2.0 unx      550 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/urls.py
--rw-r--r--  2.0 unx     1706 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/views.py
--rw-r--r--  2.0 unx     7568 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/migrations/0001_initial.py
--rw-r--r--  2.0 unx     1665 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/migrations/0002_version_2_0_0.py
--rw-r--r--  2.0 unx     4815 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/migrations/0003_multi_tier_discount.py
--rw-r--r--  2.0 unx     3478 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/migrations/0004_shortened_unique_constraints.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/migrations/__init__.py
--rw-rw-rw-  2.0 unx     1415 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/templates/cap_discount/cap_discount_status.html
--rw-rw-rw-  2.0 unx     1772 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/templates/cap_discount/usage_cap_discounts.html
--rw-rw-rw-  2.0 unx     4068 b- defN 23-Jul-27 22:33 NEMO_billing/cap_discount/templates/customizations/customizations_cap_discount.html
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/__init__.py
--rw-r--r--  2.0 unx    10823 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/admin.py
--rw-r--r--  2.0 unx     7049 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/api.py
--rw-r--r--  2.0 unx      176 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/app_settings.py
--rw-r--r--  2.0 unx      445 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/apps.py
--rw-r--r--  2.0 unx     4448 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/customization.py
--rw-r--r--  2.0 unx     2642 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/exceptions.py
--rw-r--r--  2.0 unx    23629 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/models.py
--rw-r--r--  2.0 unx    12477 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/pdf_utilities.py
--rw-r--r--  2.0 unx    30163 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/processors.py
--rw-r--r--  2.0 unx    26169 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/renderers.py
--rw-r--r--  2.0 unx     3044 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/urls.py
--rw-r--r--  2.0 unx     4235 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/utilities.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/management/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/management/commands/__init__.py
--rw-r--r--  2.0 unx      298 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/management/commands/deactivate_expired_projects.py
--rw-r--r--  2.0 unx      318 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/management/commands/send_invoice_payment_reminder.py
--rw-r--r--  2.0 unx     9795 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/migrations/0001_initial.py
--rw-r--r--  2.0 unx     2794 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/migrations/0002_version_1_2_0.py
--rw-r--r--  2.0 unx     1063 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/migrations/0003_version_1_4_0.py
--rw-r--r--  2.0 unx      467 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/migrations/0004_version_1_6_0.py
--rw-r--r--  2.0 unx      485 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/migrations/0005_version_1_6_1.py
--rw-r--r--  2.0 unx      518 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/migrations/0006_version_1_7_1.py
--rw-r--r--  2.0 unx      458 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/migrations/0007_version_1_8_0.py
--rw-r--r--  2.0 unx      437 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/migrations/0008_version_1_10_0.py
--rw-r--r--  2.0 unx     1183 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/migrations/0009_version_1_23_0.py
--rw-r--r--  2.0 unx      439 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/migrations/0010_version_2_0_0.py
--rw-r--r--  2.0 unx     1280 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/migrations/0011_version_2_4_0.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/migrations/__init__.py
--rw-rw-rw-  2.0 unx     1072 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/static/invoices/invoices.css
--rw-rw-rw-  2.0 unx     5678 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/customizations/customizations_billing.html
--rw-rw-rw-  2.0 unx     8157 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/customizations/customizations_invoices.html
--rw-rw-rw-  2.0 unx      212 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/invoices/base.html
--rw-rw-rw-  2.0 unx    13011 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/invoices/invoice.html
--rw-rw-rw-  2.0 unx     3375 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/invoices/invoice_details.html
--rw-rw-rw-  2.0 unx    12799 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/invoices/invoices.html
--rw-rw-rw-  2.0 unx    13766 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/invoices/usage.html
--rw-rw-rw-  2.0 unx     1274 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_message.html
--rw-rw-rw-  2.0 unx      173 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_subject.txt
--rw-rw-rw-  2.0 unx     1330 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_message.html
--rw-rw-rw-  2.0 unx     1344 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_reminder_message.html
--rw-rw-rw-  2.0 unx      155 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_reminder_subject.txt
--rw-rw-rw-  2.0 unx      155 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_subject.txt
--rw-rw-rw-  2.0 unx    15358 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/invoices/project/edit_project.html
--rw-rw-rw-  2.0 unx     3668 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/templates/invoices/project/view_project_additional_info.html
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/views/__init__.py
--rw-r--r--  2.0 unx    19159 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/views/invoices.py
--rw-r--r--  2.0 unx     6861 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/views/project.py
--rw-r--r--  2.0 unx    10791 b- defN 23-Jul-27 22:33 NEMO_billing/invoices/views/usage.py
--rw-r--r--  2.0 unx     3156 b- defN 23-Jul-27 22:33 NEMO_billing/migrations/0001_initial.py
--rw-r--r--  2.0 unx      573 b- defN 23-Jul-27 22:33 NEMO_billing/migrations/0002_version_1_2_0.py
--rw-r--r--  2.0 unx      466 b- defN 23-Jul-27 22:33 NEMO_billing/migrations/0003_version_2_0_0.py
--rw-r--r--  2.0 unx     7722 b- defN 23-Jul-27 22:33 NEMO_billing/migrations/0004_version_2_4_0.py
--rw-r--r--  2.0 unx      351 b- defN 23-Jul-27 22:33 NEMO_billing/migrations/0005_version_2_5_6.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/migrations/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/__init__.py
--rw-r--r--  2.0 unx     2843 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/admin.py
--rw-r--r--  2.0 unx     1680 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/api.py
--rw-r--r--  2.0 unx       71 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/app_settings.py
--rw-r--r--  2.0 unx      559 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/apps.py
--rw-r--r--  2.0 unx     1876 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/exceptions.py
--rw-r--r--  2.0 unx    17260 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/models.py
--rw-r--r--  2.0 unx     5159 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/policy.py
--rw-r--r--  2.0 unx      462 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/urls.py
--rw-r--r--  2.0 unx     4314 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/migrations/0001_initial.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/migrations/__init__.py
--rw-rw-rw-  2.0 unx     5351 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/templates/prepayments/prepaid_project_status.html
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/views/__init__.py
--rw-r--r--  2.0 unx     2985 b- defN 23-Jul-27 22:33 NEMO_billing/prepayments/views/prepayments.py
--rw-r--r--  2.0 unx        1 b- defN 23-Jul-27 22:33 NEMO_billing/rates/__init__.py
--rw-r--r--  2.0 unx     8271 b- defN 23-Jul-27 22:33 NEMO_billing/rates/admin.py
--rw-r--r--  2.0 unx     2318 b- defN 23-Jul-27 22:33 NEMO_billing/rates/api.py
--rw-r--r--  2.0 unx      100 b- defN 23-Jul-27 22:33 NEMO_billing/rates/app_settings.py
--rw-r--r--  2.0 unx      715 b- defN 23-Jul-27 22:33 NEMO_billing/rates/apps.py
--rw-r--r--  2.0 unx      520 b- defN 23-Jul-27 22:33 NEMO_billing/rates/customization.py
--rw-r--r--  2.0 unx     1913 b- defN 23-Jul-27 22:33 NEMO_billing/rates/model_diff.py
--rw-r--r--  2.0 unx    22892 b- defN 23-Jul-27 22:33 NEMO_billing/rates/models.py
--rw-r--r--  2.0 unx     4042 b- defN 23-Jul-27 22:33 NEMO_billing/rates/rates_class.py
--rw-r--r--  2.0 unx      838 b- defN 23-Jul-27 22:33 NEMO_billing/rates/urls.py
--rw-r--r--  2.0 unx    12483 b- defN 23-Jul-27 22:33 NEMO_billing/rates/views.py
--rw-r--r--  2.0 unx     5101 b- defN 23-Jul-27 22:33 NEMO_billing/rates/migrations/0001_initial.py
--rw-r--r--  2.0 unx      602 b- defN 23-Jul-27 22:33 NEMO_billing/rates/migrations/0002_version_1_15_0.py
--rw-r--r--  2.0 unx     1999 b- defN 23-Jul-27 22:33 NEMO_billing/rates/migrations/0003_version_1_17_0.py
--rw-r--r--  2.0 unx      421 b- defN 23-Jul-27 22:33 NEMO_billing/rates/migrations/0004_version_2_0_0.py
--rw-r--r--  2.0 unx      448 b- defN 23-Jul-27 22:33 NEMO_billing/rates/migrations/0005_version_2_3_0.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/rates/migrations/__init__.py
--rw-rw-rw-  2.0 unx       81 b- defN 23-Jul-27 22:33 NEMO_billing/rates/static/rates/rates.css
--rw-rw-rw-  2.0 unx     1808 b- defN 23-Jul-27 22:33 NEMO_billing/rates/templates/customizations/customizations_billing_rates.html
--rw-rw-rw-  2.0 unx      160 b- defN 23-Jul-27 22:33 NEMO_billing/rates/templates/rates/base.html
--rw-rw-rw-  2.0 unx     6047 b- defN 23-Jul-27 22:33 NEMO_billing/rates/templates/rates/rate.html
--rw-rw-rw-  2.0 unx     5591 b- defN 23-Jul-27 22:33 NEMO_billing/rates/templates/rates/rate_form_details.html
--rw-rw-rw-  2.0 unx     4602 b- defN 23-Jul-27 22:33 NEMO_billing/rates/templates/rates/rates.html
--rw-rw-rw-  2.0 unx      192 b- defN 23-Jul-27 22:33 NEMO_billing/templates/base/navbar.html
--rw-rw-rw-  2.0 unx     1065 b- defN 23-Jul-27 22:33 NEMO_billing/templates/base/navbar_billing.html
--rw-rw-rw-  2.0 unx     1162 b- defN 23-Jul-27 22:33 NEMO_billing/templates/billing/cap_and_prepaid_base.html
--rw-rw-rw-  2.0 unx     8882 b- defN 23-Jul-27 22:33 NEMO_billing/templates/billing/custom_charge.html
--rw-rw-rw-  2.0 unx     2074 b- defN 23-Jul-27 22:33 NEMO_billing/templates/billing/custom_charges.html
--rw-rw-rw-  2.0 unx     1259 b- defN 23-Jul-27 22:33 NEMO_billing/templates/staff_charges/choose_project.html
--rw-rw-rw-  2.0 unx     1979 b- defN 23-Jul-27 22:33 NEMO_billing/templates/staff_charges/new_custom_staff_charge.html
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/templatetags/__init__.py
--rw-r--r--  2.0 unx     1013 b- defN 23-Jul-27 22:33 NEMO_billing/templatetags/billing_tags.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/tests/__init__.py
--rw-r--r--  2.0 unx     3079 b- defN 23-Jul-27 22:33 NEMO_billing/tests/test_settings.py
--rw-r--r--  2.0 unx     1472 b- defN 23-Jul-27 22:33 NEMO_billing/tests/test_urls.py
--rw-r--r--  2.0 unx     1094 b- defN 23-Jul-27 22:33 NEMO_billing/tests/test_utilities.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/tests/cap/__init__.py
--rw-r--r--  2.0 unx    19521 b- defN 23-Jul-27 22:33 NEMO_billing/tests/cap/test_cap_discount.py
--rw-r--r--  2.0 unx    32811 b- defN 23-Jul-27 22:33 NEMO_billing/tests/cap/test_cap_invoicing.py
--rw-r--r--  2.0 unx     4271 b- defN 23-Jul-27 22:33 NEMO_billing/tests/cap/test_cap_utilities.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/tests/prepayments/__init__.py
--rw-r--r--  2.0 unx    14410 b- defN 23-Jul-27 22:33 NEMO_billing/tests/prepayments/test_prepayments.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 22:33 NEMO_billing/tests/rates/__init__.py
--rw-r--r--  2.0 unx    33260 b- defN 23-Jul-27 22:33 NEMO_billing/tests/rates/test_rate_amount.py
--rw-r--r--  2.0 unx    20895 b- defN 23-Jul-27 22:33 NEMO_billing/tests/rates/test_rate_time.py
--rw-r--r--  2.0 unx     6164 b- defN 23-Jul-27 22:33 NEMO_billing/tests/rates/test_rate_uniqueness.py
--rw-r--r--  2.0 unx    27008 b- defN 23-Jul-27 22:33 NEMO_billing/tests/rates/test_split_billables.py
--rw-rw-rw-  2.0 unx     1074 b- defN 23-Jul-27 22:33 NEMO_billing-2.5.9.dist-info/LICENSE
--rw-r--r--  2.0 unx     5513 b- defN 23-Jul-27 22:33 NEMO_billing-2.5.9.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jul-27 22:33 NEMO_billing-2.5.9.dist-info/WHEEL
--rw-r--r--  2.0 unx       13 b- defN 23-Jul-27 22:33 NEMO_billing-2.5.9.dist-info/top_level.txt
--rw-rw-r--  2.0 unx    15143 b- defN 23-Jul-27 22:33 NEMO_billing-2.5.9.dist-info/RECORD
-150 files, 712804 bytes uncompressed, 165047 bytes compressed:  76.8%
+Zip file size: 193210 bytes, number of entries: 152
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/__init__.py
+-rw-r--r--  2.0 unx    14038 b- defN 23-Aug-08 20:31 NEMO_billing/admin.py
+-rw-r--r--  2.0 unx     2638 b- defN 23-Aug-08 20:31 NEMO_billing/api.py
+-rw-r--r--  2.0 unx      285 b- defN 23-Aug-08 20:31 NEMO_billing/app_settings.py
+-rw-r--r--  2.0 unx      426 b- defN 23-Aug-08 20:31 NEMO_billing/apps.py
+-rw-r--r--  2.0 unx      199 b- defN 23-Aug-08 20:31 NEMO_billing/decorators.py
+-rw-r--r--  2.0 unx      122 b- defN 23-Aug-08 20:31 NEMO_billing/exceptions.py
+-rw-r--r--  2.0 unx     5773 b- defN 23-Aug-08 20:31 NEMO_billing/models.py
+-rw-r--r--  2.0 unx     1304 b- defN 23-Aug-08 20:31 NEMO_billing/urls.py
+-rw-r--r--  2.0 unx     3111 b- defN 23-Aug-08 20:31 NEMO_billing/utilities.py
+-rw-r--r--  2.0 unx     6371 b- defN 23-Aug-08 20:31 NEMO_billing/views.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/__init__.py
+-rw-r--r--  2.0 unx     4880 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/admin.py
+-rw-r--r--  2.0 unx      102 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/app_settings.py
+-rw-r--r--  2.0 unx      444 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/apps.py
+-rw-r--r--  2.0 unx     2991 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/customization.py
+-rw-r--r--  2.0 unx      892 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/exceptions.py
+-rw-r--r--  2.0 unx    18543 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/models.py
+-rw-r--r--  2.0 unx    21627 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/processors.py
+-rw-r--r--  2.0 unx      690 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/urls.py
+-rw-r--r--  2.0 unx     4306 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/views.py
+-rw-r--r--  2.0 unx     7568 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/migrations/0001_initial.py
+-rw-r--r--  2.0 unx     1665 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/migrations/0002_version_2_0_0.py
+-rw-r--r--  2.0 unx     4815 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/migrations/0003_multi_tier_discount.py
+-rw-r--r--  2.0 unx     3478 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/migrations/0004_shortened_unique_constraints.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/migrations/__init__.py
+-rw-rw-rw-  2.0 unx     2383 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/templates/cap_discount/cap_discount_status.html
+-rw-rw-rw-  2.0 unx     1772 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/templates/cap_discount/usage_cap_discounts.html
+-rw-rw-rw-  2.0 unx     4068 b- defN 23-Aug-08 20:31 NEMO_billing/cap_discount/templates/customizations/customizations_cap_discount.html
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/__init__.py
+-rw-r--r--  2.0 unx    10823 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/admin.py
+-rw-r--r--  2.0 unx     7049 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/api.py
+-rw-r--r--  2.0 unx      176 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/app_settings.py
+-rw-r--r--  2.0 unx      445 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/apps.py
+-rw-r--r--  2.0 unx     4448 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/customization.py
+-rw-r--r--  2.0 unx     2642 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/exceptions.py
+-rw-r--r--  2.0 unx    23629 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/models.py
+-rw-r--r--  2.0 unx    12477 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/pdf_utilities.py
+-rw-r--r--  2.0 unx    30163 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/processors.py
+-rw-r--r--  2.0 unx    26169 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/renderers.py
+-rw-r--r--  2.0 unx     3044 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/urls.py
+-rw-r--r--  2.0 unx     4293 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/utilities.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/management/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/management/commands/__init__.py
+-rw-r--r--  2.0 unx      298 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/management/commands/deactivate_expired_projects.py
+-rw-r--r--  2.0 unx      318 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/management/commands/send_invoice_payment_reminder.py
+-rw-r--r--  2.0 unx     9795 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/migrations/0001_initial.py
+-rw-r--r--  2.0 unx     2794 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/migrations/0002_version_1_2_0.py
+-rw-r--r--  2.0 unx     1063 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/migrations/0003_version_1_4_0.py
+-rw-r--r--  2.0 unx      467 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/migrations/0004_version_1_6_0.py
+-rw-r--r--  2.0 unx      485 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/migrations/0005_version_1_6_1.py
+-rw-r--r--  2.0 unx      518 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/migrations/0006_version_1_7_1.py
+-rw-r--r--  2.0 unx      458 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/migrations/0007_version_1_8_0.py
+-rw-r--r--  2.0 unx      437 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/migrations/0008_version_1_10_0.py
+-rw-r--r--  2.0 unx     1183 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/migrations/0009_version_1_23_0.py
+-rw-r--r--  2.0 unx      439 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/migrations/0010_version_2_0_0.py
+-rw-r--r--  2.0 unx     1280 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/migrations/0011_version_2_4_0.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/migrations/__init__.py
+-rw-rw-rw-  2.0 unx     1072 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/static/invoices/invoices.css
+-rw-rw-rw-  2.0 unx     5714 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/customizations/customizations_billing.html
+-rw-rw-rw-  2.0 unx     8157 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/customizations/customizations_invoices.html
+-rw-rw-rw-  2.0 unx      212 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/invoices/base.html
+-rw-rw-rw-  2.0 unx    13011 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/invoices/invoice.html
+-rw-rw-rw-  2.0 unx     3375 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/invoices/invoice_details.html
+-rw-rw-rw-  2.0 unx    12799 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/invoices/invoices.html
+-rw-rw-rw-  2.0 unx    14043 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/invoices/usage.html
+-rw-rw-rw-  2.0 unx     2024 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_message.html
+-rw-rw-rw-  2.0 unx      302 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_subject.txt
+-rw-rw-rw-  2.0 unx     1330 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_message.html
+-rw-rw-rw-  2.0 unx     1344 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_reminder_message.html
+-rw-rw-rw-  2.0 unx      155 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_reminder_subject.txt
+-rw-rw-rw-  2.0 unx      155 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_subject.txt
+-rw-rw-rw-  2.0 unx    15358 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/invoices/project/edit_project.html
+-rw-rw-rw-  2.0 unx     3668 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/templates/invoices/project/view_project_additional_info.html
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/views/__init__.py
+-rw-r--r--  2.0 unx    19159 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/views/invoices.py
+-rw-r--r--  2.0 unx     7175 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/views/project.py
+-rw-r--r--  2.0 unx    11031 b- defN 23-Aug-08 20:31 NEMO_billing/invoices/views/usage.py
+-rw-r--r--  2.0 unx     3156 b- defN 23-Aug-08 20:31 NEMO_billing/migrations/0001_initial.py
+-rw-r--r--  2.0 unx      573 b- defN 23-Aug-08 20:31 NEMO_billing/migrations/0002_version_1_2_0.py
+-rw-r--r--  2.0 unx      466 b- defN 23-Aug-08 20:31 NEMO_billing/migrations/0003_version_2_0_0.py
+-rw-r--r--  2.0 unx     7722 b- defN 23-Aug-08 20:31 NEMO_billing/migrations/0004_version_2_4_0.py
+-rw-r--r--  2.0 unx      351 b- defN 23-Aug-08 20:31 NEMO_billing/migrations/0005_version_2_5_6.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/migrations/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/__init__.py
+-rw-r--r--  2.0 unx     2843 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/admin.py
+-rw-r--r--  2.0 unx     1680 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/api.py
+-rw-r--r--  2.0 unx       71 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/app_settings.py
+-rw-r--r--  2.0 unx      559 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/apps.py
+-rw-r--r--  2.0 unx     1876 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/exceptions.py
+-rw-r--r--  2.0 unx    17260 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/models.py
+-rw-r--r--  2.0 unx     5492 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/policy.py
+-rw-r--r--  2.0 unx      572 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/urls.py
+-rw-r--r--  2.0 unx     4314 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/migrations/0001_initial.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/migrations/__init__.py
+-rw-rw-rw-  2.0 unx     1351 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/templates/prepayments/prepaid_project_status.html
+-rw-rw-rw-  2.0 unx     3963 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/templates/prepayments/prepaid_project_status_table.html
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/views/__init__.py
+-rw-r--r--  2.0 unx     3821 b- defN 23-Aug-08 20:31 NEMO_billing/prepayments/views/prepayments.py
+-rw-r--r--  2.0 unx        1 b- defN 23-Aug-08 20:31 NEMO_billing/rates/__init__.py
+-rw-r--r--  2.0 unx     8271 b- defN 23-Aug-08 20:31 NEMO_billing/rates/admin.py
+-rw-r--r--  2.0 unx     2318 b- defN 23-Aug-08 20:31 NEMO_billing/rates/api.py
+-rw-r--r--  2.0 unx      100 b- defN 23-Aug-08 20:31 NEMO_billing/rates/app_settings.py
+-rw-r--r--  2.0 unx      715 b- defN 23-Aug-08 20:31 NEMO_billing/rates/apps.py
+-rw-r--r--  2.0 unx      520 b- defN 23-Aug-08 20:31 NEMO_billing/rates/customization.py
+-rw-r--r--  2.0 unx     1913 b- defN 23-Aug-08 20:31 NEMO_billing/rates/model_diff.py
+-rw-r--r--  2.0 unx    22892 b- defN 23-Aug-08 20:31 NEMO_billing/rates/models.py
+-rw-r--r--  2.0 unx     4042 b- defN 23-Aug-08 20:31 NEMO_billing/rates/rates_class.py
+-rw-r--r--  2.0 unx      838 b- defN 23-Aug-08 20:31 NEMO_billing/rates/urls.py
+-rw-r--r--  2.0 unx    12483 b- defN 23-Aug-08 20:31 NEMO_billing/rates/views.py
+-rw-r--r--  2.0 unx     5101 b- defN 23-Aug-08 20:31 NEMO_billing/rates/migrations/0001_initial.py
+-rw-r--r--  2.0 unx      602 b- defN 23-Aug-08 20:31 NEMO_billing/rates/migrations/0002_version_1_15_0.py
+-rw-r--r--  2.0 unx     1999 b- defN 23-Aug-08 20:31 NEMO_billing/rates/migrations/0003_version_1_17_0.py
+-rw-r--r--  2.0 unx      421 b- defN 23-Aug-08 20:31 NEMO_billing/rates/migrations/0004_version_2_0_0.py
+-rw-r--r--  2.0 unx      448 b- defN 23-Aug-08 20:31 NEMO_billing/rates/migrations/0005_version_2_3_0.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/rates/migrations/__init__.py
+-rw-rw-rw-  2.0 unx       81 b- defN 23-Aug-08 20:31 NEMO_billing/rates/static/rates/rates.css
+-rw-rw-rw-  2.0 unx     1808 b- defN 23-Aug-08 20:31 NEMO_billing/rates/templates/customizations/customizations_billing_rates.html
+-rw-rw-rw-  2.0 unx      160 b- defN 23-Aug-08 20:31 NEMO_billing/rates/templates/rates/base.html
+-rw-rw-rw-  2.0 unx     6047 b- defN 23-Aug-08 20:31 NEMO_billing/rates/templates/rates/rate.html
+-rw-rw-rw-  2.0 unx     5591 b- defN 23-Aug-08 20:31 NEMO_billing/rates/templates/rates/rate_form_details.html
+-rw-rw-rw-  2.0 unx     4602 b- defN 23-Aug-08 20:31 NEMO_billing/rates/templates/rates/rates.html
+-rw-rw-rw-  2.0 unx      192 b- defN 23-Aug-08 20:31 NEMO_billing/templates/base/navbar.html
+-rw-rw-rw-  2.0 unx     1065 b- defN 23-Aug-08 20:31 NEMO_billing/templates/base/navbar_billing.html
+-rw-rw-rw-  2.0 unx     1162 b- defN 23-Aug-08 20:31 NEMO_billing/templates/billing/cap_and_prepaid_base.html
+-rw-rw-rw-  2.0 unx     8882 b- defN 23-Aug-08 20:31 NEMO_billing/templates/billing/custom_charge.html
+-rw-rw-rw-  2.0 unx     2074 b- defN 23-Aug-08 20:31 NEMO_billing/templates/billing/custom_charges.html
+-rw-rw-rw-  2.0 unx     1259 b- defN 23-Aug-08 20:31 NEMO_billing/templates/staff_charges/choose_project.html
+-rw-rw-rw-  2.0 unx     1979 b- defN 23-Aug-08 20:31 NEMO_billing/templates/staff_charges/new_custom_staff_charge.html
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/templatetags/__init__.py
+-rw-r--r--  2.0 unx     1013 b- defN 23-Aug-08 20:31 NEMO_billing/templatetags/billing_tags.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/tests/__init__.py
+-rw-r--r--  2.0 unx     2386 b- defN 23-Aug-08 20:31 NEMO_billing/tests/test_project_expiration.py
+-rw-r--r--  2.0 unx     3079 b- defN 23-Aug-08 20:31 NEMO_billing/tests/test_settings.py
+-rw-r--r--  2.0 unx     1472 b- defN 23-Aug-08 20:31 NEMO_billing/tests/test_urls.py
+-rw-r--r--  2.0 unx     1094 b- defN 23-Aug-08 20:31 NEMO_billing/tests/test_utilities.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/tests/cap/__init__.py
+-rw-r--r--  2.0 unx    19521 b- defN 23-Aug-08 20:31 NEMO_billing/tests/cap/test_cap_discount.py
+-rw-r--r--  2.0 unx    32811 b- defN 23-Aug-08 20:31 NEMO_billing/tests/cap/test_cap_invoicing.py
+-rw-r--r--  2.0 unx     4271 b- defN 23-Aug-08 20:31 NEMO_billing/tests/cap/test_cap_utilities.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/tests/prepayments/__init__.py
+-rw-r--r--  2.0 unx    14410 b- defN 23-Aug-08 20:31 NEMO_billing/tests/prepayments/test_prepayments.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 20:31 NEMO_billing/tests/rates/__init__.py
+-rw-r--r--  2.0 unx    33260 b- defN 23-Aug-08 20:31 NEMO_billing/tests/rates/test_rate_amount.py
+-rw-r--r--  2.0 unx    20895 b- defN 23-Aug-08 20:31 NEMO_billing/tests/rates/test_rate_time.py
+-rw-r--r--  2.0 unx     6164 b- defN 23-Aug-08 20:31 NEMO_billing/tests/rates/test_rate_uniqueness.py
+-rw-r--r--  2.0 unx    27008 b- defN 23-Aug-08 20:31 NEMO_billing/tests/rates/test_split_billables.py
+-rw-rw-rw-  2.0 unx     1074 b- defN 23-Aug-08 20:31 NEMO_billing-2.6.0.dist-info/LICENSE
+-rw-r--r--  2.0 unx     5507 b- defN 23-Aug-08 20:31 NEMO_billing-2.6.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Aug-08 20:31 NEMO_billing-2.6.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx       13 b- defN 23-Aug-08 20:31 NEMO_billing-2.6.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx    15382 b- defN 23-Aug-08 20:31 NEMO_billing-2.6.0.dist-info/RECORD
+152 files, 722556 bytes uncompressed, 167936 bytes compressed:  76.8%
```

## zipnote {}

```diff
@@ -282,14 +282,17 @@
 
 Filename: NEMO_billing/prepayments/migrations/__init__.py
 Comment: 
 
 Filename: NEMO_billing/prepayments/templates/prepayments/prepaid_project_status.html
 Comment: 
 
+Filename: NEMO_billing/prepayments/templates/prepayments/prepaid_project_status_table.html
+Comment: 
+
 Filename: NEMO_billing/prepayments/views/__init__.py
 Comment: 
 
 Filename: NEMO_billing/prepayments/views/prepayments.py
 Comment: 
 
 Filename: NEMO_billing/rates/__init__.py
@@ -387,14 +390,17 @@
 
 Filename: NEMO_billing/templatetags/billing_tags.py
 Comment: 
 
 Filename: NEMO_billing/tests/__init__.py
 Comment: 
 
+Filename: NEMO_billing/tests/test_project_expiration.py
+Comment: 
+
 Filename: NEMO_billing/tests/test_settings.py
 Comment: 
 
 Filename: NEMO_billing/tests/test_urls.py
 Comment: 
 
 Filename: NEMO_billing/tests/test_utilities.py
@@ -429,23 +435,23 @@
 
 Filename: NEMO_billing/tests/rates/test_rate_uniqueness.py
 Comment: 
 
 Filename: NEMO_billing/tests/rates/test_split_billables.py
 Comment: 
 
-Filename: NEMO_billing-2.5.9.dist-info/LICENSE
+Filename: NEMO_billing-2.6.0.dist-info/LICENSE
 Comment: 
 
-Filename: NEMO_billing-2.5.9.dist-info/METADATA
+Filename: NEMO_billing-2.6.0.dist-info/METADATA
 Comment: 
 
-Filename: NEMO_billing-2.5.9.dist-info/WHEEL
+Filename: NEMO_billing-2.6.0.dist-info/WHEEL
 Comment: 
 
-Filename: NEMO_billing-2.5.9.dist-info/top_level.txt
+Filename: NEMO_billing-2.6.0.dist-info/top_level.txt
 Comment: 
 
-Filename: NEMO_billing-2.5.9.dist-info/RECORD
+Filename: NEMO_billing-2.6.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## NEMO_billing/cap_discount/models.py

```diff
@@ -326,14 +326,20 @@
             raise ValidationError(errors)
 
     def estimated_charges_since_last_update(self) -> Decimal:
         from NEMO_billing.cap_discount.processors import CAPDiscountInvoiceDataProcessor
 
         return CAPDiscountInvoiceDataProcessor().estimated_charges_since_last_update(self)
 
+    def current_level_reached(self) -> CAPDiscountTier:
+        total_current_charges = self.latest_amount().end + self.estimated_charges_since_last_update()
+        for tier in self.capdiscounttier_set.all().reverse():
+            if total_current_charges > tier.amount:
+                return tier
+
     def __str__(self):
         username = f"/{self.user.username}" if self.user else ""
         facility = f"{self.configuration.core_facility.name}/" if self.configuration.core_facility else ""
         return f"CAP Discount for {facility}{self.account}/{self.configuration.rate_category.name}{username}"
 
     class Meta:
         constraints = [
@@ -376,15 +382,15 @@
         if self.cap_discount and self.cap_discount_configuration:
             raise ValidationError("Discount tiers cannot be linked to both cap discount and cap discount configuration")
 
     class Meta:
         ordering = ["amount"]
 
     def __str__(self):
-        return f"> {self.amount} -> {self.discount} %"
+        return f"> {str(self.amount).rstrip('0').rstrip('.')} -> {str(self.discount).rstrip('0').rstrip('.')} %"
 
 
 class CAPDiscountAmount(BaseModel):
     cap_discount = models.ForeignKey(CAPDiscount, on_delete=models.CASCADE)
     month = models.PositiveIntegerField(choices=Months.choices)
     year = models.PositiveIntegerField(
         validators=[MinValueValidator(MINYEAR), MaxValueValidator(MAXYEAR)],
```

## NEMO_billing/cap_discount/processors.py

```diff
@@ -1,14 +1,14 @@
 from _decimal import Decimal
 from datetime import date, datetime, time
 from logging import getLogger
 from typing import Dict, Iterable, List, Optional, Union
 
 from NEMO.models import Account, Project
-from NEMO.utilities import get_month_timeframe
+from NEMO.utilities import get_month_timeframe, localize
 from dateutil.relativedelta import relativedelta
 from django.contrib import messages
 from django.contrib.admin.utils import get_deleted_objects
 from django.db import transaction
 from django.db.models import Q
 from django.http import HttpRequest
 from django.utils import timezone
@@ -286,15 +286,15 @@
         trainee_filter = Q(project__account=cap_discount.account)
         if cap_discount.user:
             customer_filter = customer_filter & Q(customer=cap_discount.user)
             user_filter = user_filter & Q(user=cap_discount.user)
             trainee_filter = trainee_filter & Q(trainee=cap_discount.user)
         config = InvoiceConfiguration.first_or_default()
         items = self.get_billable_items(
-            datetime.combine(start_since_update, time()),
+            localize(datetime.combine(start_since_update, time())),
             timezone.now(),
             config,
             customer_filter,
             user_filter,
             trainee_filter,
             raise_no_rate=False,
         )
```

## NEMO_billing/cap_discount/urls.py

```diff
@@ -7,8 +7,9 @@
     path("usage_cap_discounts_user/<int:user_id>/", views.usage_cap_discounts_user, name="usage_cap_discounts_user"),
     path(
         "usage_cap_discounts_account/<int:account_id>/",
         views.usage_cap_discounts_account,
         name="usage_cap_discounts_account",
     ),
     path("cap_discount_status/", views.cap_discount_status, name="cap_discount_status"),
+    path("cap_discount_status/configuration/<int:configuration_id>/", views.cap_discount_status, name="cap_discount_status_configuration"),
 ]
```

## NEMO_billing/cap_discount/views.py

```diff
@@ -1,16 +1,33 @@
+from operator import itemgetter
+from typing import Iterable
+
 from NEMO.decorators import accounting_or_user_office_or_manager_required
 from NEMO.models import Account, User
+from NEMO.typing import QuerySetType
 from NEMO.views.pagination import SortedPaginator
 from NEMO.views.usage import date_parameters_dictionary
 from django.contrib.auth.decorators import login_required
+from django.db.models import QuerySet
 from django.shortcuts import get_object_or_404, render
 from django.views.decorators.http import require_http_methods
 
-from NEMO_billing.cap_discount.models import CAPDiscount
+from NEMO_billing.cap_discount.models import CAPDiscount, CAPDiscountConfiguration
+
+
+# Custom paginator to handle python sorting (rather than queryset sorting)
+class CustomSortedPaginator(SortedPaginator):
+    def __init__(self, object_list, request, order_by=None, force_order_by=False):
+        self.order_by = order_by if force_order_by else request.GET.get("o", order_by)
+        if object_list and isinstance(object_list, QuerySet) and self.order_by:
+            object_list = object_list.order_by(self.order_by)
+        elif object_list and isinstance(object_list, Iterable) and self.order_by:
+            order_attr = (lambda x: itemgetter(self.order_by)) if isinstance(self.order_by, str) else self.order_by
+            object_list = sorted(object_list, key=order_attr)
+        super().__init__(object_list, request)
 
 
 @login_required
 def usage_cap_discounts(request, user=None):
     if not user:
         user = request.user
     base_dictionary, start, end, kind, identifier = date_parameters_dictionary(request)
@@ -29,10 +46,53 @@
     base_dictionary, start, end, kind, identifier = date_parameters_dictionary(request)
     base_dictionary["cap_discounts"] = CAPDiscount.objects.filter(account=get_object_or_404(Account, pk=account_id))
     return render(request, "cap_discount/usage_cap_discounts.html", base_dictionary)
 
 
 @accounting_or_user_office_or_manager_required
 @require_http_methods(["GET", "POST"])
-def cap_discount_status(request):
-    page = SortedPaginator(CAPDiscount.objects.all(), request, order_by="configuration").get_current_page()
-    return render(request, "cap_discount/cap_discount_status.html", {"page": page})
+def cap_discount_status(request, configuration_id=None):
+    configurations: QuerySetType[CAPDiscountConfiguration] = CAPDiscountConfiguration.objects.all()
+    filter_configuration = (
+        configurations.first()
+        if configurations.count() == 1
+        else CAPDiscountConfiguration.objects.filter(pk=configuration_id).first()
+    )
+    order_by: str = request.GET.get("o")
+    cap_list = CAPDiscount.objects.all().prefetch_related(
+        "account", "user", "capdiscountamount_set", "configuration", "capdiscounttier_set"
+    )
+    if filter_configuration and cap_list:
+        cap_list = cap_list.filter(configuration=filter_configuration)
+    if order_by in ["-current_level_reached", "current_level_reached"]:
+        # Force list and force sorting here since we cannot use queryset for sorting when including current charges
+        page = CustomSortedPaginator(
+            list(cap_list), request, order_by=sort_cap_function(reverse=order_by.startswith("-")), force_order_by=True
+        ).get_current_page()
+    else:
+        page = SortedPaginator(cap_list, request, order_by="configuration").get_current_page()
+
+    dictionary = {
+        "page": page,
+        "selected_configuration": filter_configuration,
+        "configurations": configurations,
+    }
+    return render(
+        request,
+        "cap_discount/cap_discount_status.html",
+        dictionary,
+    )
+
+
+def sort_cap_function(reverse=False):
+    sort_min, sort_max = -1, 99999
+
+    def sort_cap_discount(cap_discount: CAPDiscount) -> int:
+        current_cap_level = cap_discount.current_level_reached()
+        cap_level_list = (
+            cap_discount.capdiscounttier_set.all().reverse() if reverse else cap_discount.capdiscounttier_set.all()
+        )
+        return (
+            list(cap_level_list).index(current_cap_level) if current_cap_level else (sort_max if reverse else sort_min)
+        )
+
+    return sort_cap_discount
```

## NEMO_billing/cap_discount/templates/cap_discount/cap_discount_status.html

```diff
@@ -1,36 +1,55 @@
 {% extends 'billing/cap_and_prepaid_base.html' %}
 {% load custom_tags_and_filters %}
 {% load billing_tags %}
 {% block title %}CAP status{% endblock %}
 {% block tab_title %}CAP status{% endblock %}
+{% block before_pagination %}
+	{% if configurations|length > 1 %}
+		<div class="form-inline">
+			<label class="control-label" for="configuration">Configuration:</label>
+			<select id="configuration" class="form-control" onchange="window.location.href = this.value ? '{% url 'cap_discount_status_configuration' '99999' %}'.replace('99999', this.value) : '{% url 'cap_discount_status' %}'">
+				<option value="" selected>All</option>
+				{% for configuration in configurations %}
+					<option value="{{ configuration.id }}" {% if selected_configuration.id == configuration.id %}selected{% endif %}>{{ configuration }}</option>
+				{% endfor %}
+			</select>
+		</div>
+	{% endif %}
+{% endblock %}
 {% block pagination_content %}
 	<table class="table table-bordered table-striped table-align-middle thead-light">
 		<thead>
 			<tr>
 				<th>{% include 'pagination/pagination_column.html' with order_by="configuration" name='CAP' %}</th>
 				<th>{% include 'pagination/pagination_column.html' with order_by="account" name='Account' %}</th>
 				<th>{% include 'pagination/pagination_column.html' with order_by="user" name='User' %}</th>
 				<th>Last reset</th>
 				<th>Current amount</th>
 				<th>Last updated</th>
 				<th>Charges since</th>
+				<th>{% include 'pagination/pagination_column.html' with order_by="current_level_reached" name='CAP reached' %}</th>
 				<th>Next reset</th>
 			</tr>
 		</thead>
 		<tbody>
 			{% for cap_discount in page %}
 				<tr>
 					<td>{{ cap_discount.configuration }}</td>
 					<td>{{ cap_discount.account.name }}</td>
-					<td>{{ cap_discount.user }}</td>
+					<td>{{ cap_discount.user|default_if_none:"" }}</td>
 					<td>{{ cap_discount.last_reset|date:"F Y" }}</td>
 					<td>{{ cap_discount.latest_amount.end }}</td>
 					<td>{{ cap_discount.latest_amount.amount_date|date:"F, Y" }}</td>
 					<td>{{ cap_discount.estimated_charges_since_last_update|floatformat:2 }}</td>
+					<td>
+						{% if cap_discount.current_level_reached %}
+							{{ cap_discount.current_level_reached }}
+						{% endif %}
+					</td>
 					<td>{{ cap_discount.next_reset|date:"F, Y" }}</td>
 				</tr>
 			{% endfor %}
 		</tbody>
 	</table>
 {% endblock %}
 {% block table_empty_content %}There are no current CAP set{% endblock %}
```

### html2text {}

```diff
@@ -1,15 +1,22 @@
 {% extends 'billing/cap_and_prepaid_base.html' %} {% load
 custom_tags_and_filters %} {% load billing_tags %} {% block title %}CAP status
 {% endblock %} {% block tab_title %}CAP status{% endblock %} {% block
-pagination_content %}
-{% include 'pagination/    {% include 'pagination/   {% include 'pagination/
-pagination_column.html'    pagination_column.html'   pagination_column.html'
-with                       with order_by="account"   with order_by="user"    Last reset                    Current amount                 Last updated                                 Charges since                                                 Next reset
-order_by="configuration"   name='Account' %}         name='User' %}
+before_pagination %} {% if configurations|length > 1 %}
+{% for configuration in configurations %}
+% if selected_configuration.id == configuration.id %}selected{% endif %}>{
+{ configuration }}
+{% endfor %}
+{% endif %} {% endblock %} {% block pagination_content %}
+{% include 'pagination/    {% include 'pagination/                                                                                                                                                                                                              {% include 'pagination/
+pagination_column.html'    pagination_column.html'   {% include 'pagination/                                                                                                                                                                                    pagination_column.html' with
+with                       with order_by="account"   pagination_column.html' with       Last reset                    Current amount                 Last updated                                 Charges since                                                 order_by="current_level_reached"   Next reset
+order_by="configuration"   name='Account' %}         order_by="user" name='User' %}                                                                                                                                                                             name='CAP reached' %}
 name='CAP' %}
-{                          {                                                 {                             {                              {                                            {                                                             {
-{                          {                         {{ cap_discount.user }} {                             {                              {                                            {                                                             {
-cap_discount.configuration cap_discount.account.name                         cap_discount.last_reset|date: cap_discount.latest_amount.end cap_discount.latest_amount.amount_date|date: cap_discount.estimated_charges_since_last_update|floatformat: cap_discount.next_reset|date:
-}}                         }}                                                "F Y" }}                      }}                             "F, Y" }}                                    2 }}                                                          "F, Y" }}
+                                                                                                                                                                                                                                                                {% if
+{                          {                         {                                  {                             {                              {                                            {                                                             cap_discount.current_level_reached {
+{                          {                         {                                  {                             {                              {                                            {                                                             %} {                               {
+cap_discount.configuration cap_discount.account.name cap_discount.user|default_if_none: cap_discount.last_reset|date: cap_discount.latest_amount.end cap_discount.latest_amount.amount_date|date: cap_discount.estimated_charges_since_last_update|floatformat: {                                  cap_discount.next_reset|date:
+}}                         }}                        "" }}                              "F Y" }}                      }}                             "F, Y" }}                                    2 }}                                                          cap_discount.current_level_reached "F, Y" }}
+                                                                                                                                                                                                                                                                }} {% endif %}
 {% endblock %} {% block table_empty_content %}There are no current CAP set{%
 endblock %}
```

## NEMO_billing/invoices/utilities.py

```diff
@@ -1,14 +1,14 @@
 import ntpath
 import os
 from datetime import datetime
 from decimal import Decimal
 from typing import Iterable, List, Optional
 
-from NEMO.utilities import send_mail
+from NEMO.utilities import EmptyHttpRequest, render_email_template, send_mail
 from NEMO.views.customization import get_media_file_contents
 from django.conf import settings
 from django.template import Context, Template
 from django.template.loader import render_to_string
 from django.utils.encoding import force_str
 from django.utils.formats import number_format
 from django.utils.text import slugify
@@ -83,18 +83,18 @@
 
 
 def render_template_from_media(template_name, context):
     """Try to find the template in media folder. if it doesn't exist, look in project templates"""
     file_name = ntpath.basename(template_name)
     email_contents = get_media_file_contents(file_name)
     if email_contents:
-        return Template(email_contents).render(Context(context))
+        return render_email_template(email_contents, context)
     else:
         # otherwise, look in templates
-        return render_to_string(template_name, context)
+        return render_to_string(template_name, context, EmptyHttpRequest())
 
 
 def category_name_for_item_type(billable_item_type) -> str:
     from NEMO_billing.invoices.processors import invoice_data_processor_class
 
     return invoice_data_processor_class.category_name_for_item_type(billable_item_type)
```

## NEMO_billing/invoices/templates/customizations/customizations_billing.html

```diff
@@ -61,18 +61,18 @@
 				{% button type="save" value="Save settings" %}
 			</div>
 		</div>
 	</form>
 	<div class="customization-separation"></div>
 	<div class="form-group form-horizontal" style="margin-top: 15px">
 		<h3 class="customization-section-title" id="billing_project_expiration_reminder_email_message_id">Project expiration reminder email subject & message</h3>
-		<p>This is the email the project contact will receive as a reminder when his project is about to expire. The following context variables are provided when the email is rendered:</p>
+		<p>This is the email the project contacts (or project PIs if left blank) will receive as a reminder when they have projects about to expire. The following context variables are provided when the email is rendered:</p>
 		<ul style="margin-bottom: 25px">
-			<li><b>project</b> - the project about to expire</li>
-			<li><b>remaining_days</b> - the remaining days before the project expires</li>
+			<li><b>projects</b> - the project(s) about to expire</li>
+			<li><b>today</b> - today's date used to display time until expiration</li>
 		</ul>
 		<div class="col-md-6">
 			{% include 'customizations/customizations_upload.html' with element=billing_project_expiration_reminder_email_subject name='billing project expiration reminder email subject' button_name='Upload project expiration reminder subject' extension='txt' key='billing' %}
 		</div>
 		<div class="col-md-6">
 			{% include 'customizations/customizations_upload.html' with element=billing_project_expiration_reminder_email_message name='billing project expiration reminder email message' button_name='Upload project expiration reminder email' key='billing' %}
 		</div>
```

## NEMO_billing/invoices/templates/invoices/usage.html

```diff
@@ -16,14 +16,15 @@
 {% endblock %}
 {% block usage_content %}
 	<div style="margin-top:10px">
 		<ul class="nav nav-pills" id="tabs">
 			<li class="active"><a href="#usage" data-toggle="tab">Usage</a></li>
 			{% if billing_service %}<li><a href="{{ tab_url }}" data-toggle="tab">Billing Information</a></li>{% endif %}
 			{% if cap_discounts_url %}<li><a href="#cap_discount" onclick="$('#cap_discount').load('{{ cap_discounts_url }}')" data-toggle="tab">Cap information</a></li>{% endif %}
+			{% if project_prepayments_url %}<li><a href="#project_prepayments" onclick="$('#project_prepayments').load('{{ project_prepayments_url }}')" data-toggle="tab">Project funds</a></li>{% endif %}
 		</ul>
 	</div>
 
 	<div id="content" class="tab-content">
 		<div class="tab-pane active" id="usage">
 			<br/>
 			<div class="pull-left">
@@ -248,9 +249,10 @@
 							</div>
 						{% endfor %}
 					{% endif %}
 				{% endfor %}
 			</div>
 		{% endwith %}
 		<div class="tab-pane" id="cap_discount"></div>
+		<div class="tab-pane" id="project_prepayments" style="padding-top:20px"></div>
 	</div>
 {% endblock %}
```

### html2text {}

```diff
@@ -5,14 +5,16 @@
 nvoices.css" %}"/>
  {% endblock %} {% block usage_content %}
     * Usage
     * {% if billing_service %}
     * Billing_Information
     * {% endif %} {% if cap_discounts_url %}
     * Cap_information
+    * {% endif %} {% if project_prepayments_url %}
+    * Project_funds
     * {% endif %}
 
 This data is provided for informational purposes and uses the latest rates.
 Other adjustments/discounts might not be included in this information. {% if
 "requests"|customization:"adjustment_requests_enabled" and
 adjustment_time_limit %}
```

## NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_message.html

```diff
@@ -5,24 +5,43 @@
     </head>
     <body>
         <!--[if mso]><table width="600" align="center"><tr><td><![endif]-->
         <table align="center" style="width:100%; max-width:600px; font-family: 'Avenir Next', 'Helvetica Neue', 'Helvetica', 'Arial', 'sans-serif'">
             <tr>
                 <td align="center" style="color: white; background: #5bc0de; margin: 0; padding: 50px 0;" bgcolor="#5bc0de">
 					<h1 style="max-width: 90%; margin: 0 auto; padding: 0;">
-						Project expiring in {{ remaining_days }} days!
+					{% if not projects|length_is:1 %}
+						Projects expiring!
+					{% else %}
+						Project expiring in {{ projects.0.projectbillingdetails.expires_on|timeuntil:today }}!
+					{% endif %}
 					</h1>
 				</td>
             </tr>
             <tr>
                 <td style="padding: 10px;">
                     <p>Dear PI,</p>
                     <p>
-                        You project {{ project.projectbillingdetails.name }} is set to expire on {{ project.projectbillingdetails.expires_on }}.
+                        {% if not projects|length_is:1 %}
+							The following projects are set to expire soon:
+						{% else %}
+							Your project {{ projects.0.projectbillingdetails.name }} is set to expire on {{ projects.0.projectbillingdetails.expires_on }}.
+						{% endif %}
                     </p>
+					{% if projects %}
+						{% regroup projects by projectbillingdetails.expires_on as projects_by_expiration %}
+						{% for project_by_expiration in projects_by_expiration %}
+							in {{ project_by_expiration.grouper|timeuntil:today }} ({{ project_by_expiration.grouper }}):
+							<ul>
+								{% for project in project_by_expiration.list %}
+									<li>{{ project.projectbillingdetails.name }}</li>
+								{% endfor %}
+							</ul>
+						{% endfor %}
+					{% endif %}
                     <p>
                         Please contact the facility accounting department to make sure you don't lose access to the facility.
                     </p>
                 </td>
             </tr>
         </table>
         <!--[if mso]></td></tr></table><![endif]-->
```

### html2text {}

```diff
@@ -1,7 +1,18 @@
 
-             ****** Project expiring in {{ remaining_days }} days! ******
- Dear PI,
- You project {{ project.projectbillingdetails.name }} is set to expire on {
- { project.projectbillingdetails.expires_on }}.
- Please contact the facility accounting department to make sure you don't lose
- access to the facility.
+****** {% if not projects|length_is:1 %} Projects expiring! {% else %} Project
+expiring in {{ projects.0.projectbillingdetails.expires_on|timeuntil:today }}!
+                              {% endif %} ******
+Dear PI,
+{% if not projects|length_is:1 %} The following projects are set to expire
+soon: {% else %} Your project {{ projects.0.projectbillingdetails.name }} is
+set to expire on {{ projects.0.projectbillingdetails.expires_on }}. {% endif %}
+{% if projects %} {% regroup projects by projectbillingdetails.expires_on as
+projects_by_expiration %} {% for project_by_expiration in
+projects_by_expiration %} in {{ project_by_expiration.grouper|timeuntil:today
+}} ({{ project_by_expiration.grouper }}):
+    * {% for project in project_by_expiration.list %}
+    * {{ project.projectbillingdetails.name }}
+    * {% endfor %}
+{% endfor %} {% endif %}
+Please contact the facility accounting department to make sure you don't lose
+access to the facility.
```

## NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_subject.txt

```diff
@@ -1 +1,5 @@
-Project {{ project.projectbillingdetails.name }} ({{ project.application_identifier }}) expires in {{ remaining_days }} days ({{ project.projectbillingdetails.expires_on }})
+{% if not projects|length_is:1 %}
+Projects expiring soon
+{% else %}
+Project {{ projects.0.projectbillingdetails.name }} ({{ projects.0.application_identifier }}) expires in {{ projects.0.projectbillingdetails.expires_on|timeuntil:today }} ({{ projects.0.projectbillingdetails.expires_on }})
+{% endif %}
```

## NEMO_billing/invoices/views/project.py

```diff
@@ -1,8 +1,10 @@
+from collections import defaultdict
 from datetime import date, datetime, timedelta
+from typing import Dict, Set
 
 from NEMO.decorators import accounting_or_user_office_or_manager_required
 from NEMO.forms import ProjectForm
 from NEMO.models import Account, ActivityHistory, MembershipHistory, Project, ProjectDocuments, User
 from NEMO.utilities import render_combine_responses
 from NEMO.views.accounts_and_projects import select_accounts_and_projects
 from NEMO.views.customization import ProjectsAccountsCustomization
@@ -123,20 +125,24 @@
 
 
 def send_project_expiration_reminders():
     accounting_email = BillingCustomization.get("billing_accounting_email_address")
     expiration_reminder_days = BillingCustomization.get("billing_project_expiration_reminder_days")
     if expiration_reminder_days:
         project_expiration_reminder_cc = BillingCustomization.get("billing_project_expiration_reminder_cc")
+        email_projects : Dict[str, Set[Project]] = defaultdict(set)
         ccs = [e for e in project_expiration_reminder_cc.split(",") if e]
         for remaining_days in [int(days) for days in expiration_reminder_days.split(",")]:
             expiration_date = date.today() + timedelta(days=remaining_days)
             for project in Project.objects.filter(active=True, projectbillingdetails__expires_on=expiration_date):
                 send_to = project.projectbillingdetails.email_to()
-                if send_to:
-                    render_and_send_email(
-                        "invoices/email/billing_project_expiration_reminder_email",
-                        {"project": project, "remaining_days": remaining_days},
-                        to=send_to,
-                        from_email=accounting_email,
-                        cc=ccs,
-                    )
+                for email_pi in send_to:
+                    email_projects[email_pi].add(project)
+        for pi_email, projects in email_projects.items():
+            sorted_projects = sorted(projects, key=lambda x:x.projectbillingdetails.expires_on)
+            render_and_send_email(
+                "invoices/email/billing_project_expiration_reminder_email",
+                {"projects": sorted_projects, "today": datetime.today().date()},
+                to=[pi_email],
+                from_email=accounting_email,
+                cc=ccs,
+            )
```

## NEMO_billing/invoices/views/usage.py

```diff
@@ -65,14 +65,17 @@
             dictionary["pi_projects"] = user_managed_projects
         dictionary["no_charges"] = not dictionary["detailed_items"]
         if cap_discount_installed():
             from NEMO_billing.cap_discount.models import CAPDiscount
 
             if CAPDiscount.objects.filter(user=user).exists():
                 dictionary["cap_discounts_url"] = reverse("usage_cap_discounts")
+        if user_managed_projects and any([getattr(project, "projectprepaymentdetail", None) for project in user_managed_projects if project.active]):
+            dictionary["project_prepayments_url"] = reverse("usage_project_prepayments")
+
         return render(request, "invoices/usage.html", {**base_dictionary, **dictionary})
 
 
 @accounting_or_user_office_or_manager_required
 @require_GET
 def project_usage(request):
     base_dictionary, start, end, kind, identifier = date_parameters_dictionary(request)
```

## NEMO_billing/prepayments/policy.py

```diff
@@ -1,12 +1,23 @@
 import datetime
 from http import HTTPStatus
 from typing import List, Optional, Union
 
-from NEMO.models import Area, Consumable, Project, Reservation, StaffCharge, Tool, User
+from NEMO.models import (
+    Area,
+    AreaAccessRecord,
+    Consumable,
+    ConsumableWithdraw,
+    Project,
+    Reservation,
+    StaffCharge,
+    Tool,
+    UsageEvent,
+    User,
+)
 from NEMO.policy import NEMOPolicy
 from django.http import HttpResponse, HttpResponseBadRequest
 
 from NEMO_billing.invoices.models import BillableItemType
 from NEMO_billing.prepayments.exceptions import (
     ChargeTypeNotAllowedForProjectException,
     ProjectFundsFacilityNotAllowedException,
@@ -64,27 +75,34 @@
         if (
             hasattr(project, "projectprepaymentdetail")
             and billable_item_type not in project.projectprepaymentdetail.billable_charge_types
         ):
             raise ChargeTypeNotAllowedForProjectException(project, billable_item_type)
 
     def check_billing_to_project(
-        self, project: Project, user: User, item: Union[Tool, Area, Consumable, StaffCharge] = None, *args, **kwargs
+        self,
+        project: Project,
+        user: User,
+        item: Union[Tool, Area, Consumable, StaffCharge] = None,
+        charge: Union[UsageEvent, AreaAccessRecord, ConsumableWithdraw, StaffCharge, Reservation] = None,
+        *args,
+        **kwargs
     ):
-        super().check_billing_to_project(project, user, item)
+        super().check_billing_to_project(project, user, item, charge, *args, **kwargs)
         if hasattr(project, "projectprepaymentdetail"):
             if isinstance(item, StaffCharge):
                 self.check_project_prepayment_charge(project, BillableItemType.STAFF_CHARGE)
-            self.check_prepayment_allowed_for_core_facility(project, user, item)
+            self.check_prepayment_allowed_for_core_facility(project, item)
             self.check_prepayment_status_for_project(project)
 
-    def check_prepayment_allowed_for_core_facility(self, project: Project, user: User, item):
+    def check_prepayment_allowed_for_core_facility(self, project: Project, item):
         only_facilities = project.projectprepaymentdetail.only_core_facilities.all()
-        if only_facilities and item.core_facility not in only_facilities:
-            raise ProjectFundsFacilityNotAllowedException(project, user, only_facilities)
+        check_item = not isinstance(item, Consumable) or item.core_facility
+        if only_facilities and check_item and item.core_facility not in only_facilities:
+            raise ProjectFundsFacilityNotAllowedException(project, only_facilities)
 
     def check_prepayment_status_for_project(self, project: Project):
         # Project has to have prepayments
         if not project.projectprepaymentdetail.fund_set.exists():
             raise ProjectFundsNotSetException(project)
         else:
             prepayment = project.projectprepaymentdetail
```

## NEMO_billing/prepayments/urls.py

```diff
@@ -6,9 +6,10 @@
 
 # Rest API URLs
 router.register(r"funds", api.FundViewSet)
 router.register(r"fund_types", api.FundTypeViewSet)
 router.register(r"project_prepayments", api.ProjectPrepaymentDetailViewSet)
 
 urlpatterns = [
+	path("usage_project_prepayments/", prepayments.usage_project_prepayments, name="usage_project_prepayments"),
 	path("prepaid_project_status/", prepayments.prepaid_project_status, name="prepaid_project_status"),
 ]
```

## NEMO_billing/prepayments/templates/prepayments/prepaid_project_status.html

```diff
@@ -14,322 +14,72 @@
 000000d0: 666f 7265 5f70 6167 696e 6174 696f 6e20  fore_pagination 
 000000e0: 257d 0a09 3c66 6f72 6d20 636c 6173 733d  %}..<form class=
 000000f0: 2266 6f72 6d2d 696e 6c69 6e65 2220 6163  "form-inline" ac
 00000100: 7469 6f6e 3d22 7b25 2075 726c 2027 7072  tion="{% url 'pr
 00000110: 6570 6169 645f 7072 6f6a 6563 745f 7374  epaid_project_st
 00000120: 6174 7573 2720 257d 2220 6d65 7468 6f64  atus' %}" method
 00000130: 3d22 706f 7374 223e 0a09 097b 2520 6373  ="post">...{% cs
-00000140: 7266 5f74 6f6b 656e 2025 7d0a 0909 093c  rf_token %}....<
-00000150: 6c61 6265 6c20 666f 723d 2273 7461 7274  label for="start
-00000160: 2220 7374 796c 653d 2270 6164 6469 6e67  " style="padding
-00000170: 3a20 3130 7078 2031 3070 7820 3130 7078  : 10px 10px 10px
-00000180: 2030 223e 4672 6f6d 3c2f 6c61 6265 6c3e   0">From</label>
-00000190: 0a09 0909 3c73 656c 6563 7420 6e61 6d65  ....<select name
-000001a0: 3d22 7374 6172 7422 2069 643d 2273 7461  ="start" id="sta
-000001b0: 7274 2220 636c 6173 733d 2266 6f72 6d2d  rt" class="form-
-000001c0: 636f 6e74 726f 6c22 2073 7479 6c65 3d22  control" style="
-000001d0: 6d61 7267 696e 2d72 6967 6874 3a20 3570  margin-right: 5p
-000001e0: 783b 7465 7874 2d61 6c69 676e 2d6c 6173  x;text-align-las
-000001f0: 743a 6365 6e74 6572 223e 0a09 0909 097b  t:center">.....{
-00000200: 2520 666f 7220 6d6f 6e74 6820 696e 206d  % for month in m
-00000210: 6f6e 7468 5f6c 6973 7420 257d 0a09 0909  onth_list %}....
-00000220: 0909 3c6f 7074 696f 6e20 7661 6c75 653d  ..<option value=
-00000230: 227b 7b20 6d6f 6e74 682e 6461 7465 7c69  "{{ month.date|i
-00000240: 6e70 7574 5f64 6174 655f 666f 726d 6174  nput_date_format
-00000250: 207d 7d22 207b 2520 6966 206d 6f6e 7468   }}" {% if month
-00000260: 7c64 6174 653a 2246 2c20 5922 203d 3d20  |date:"F, Y" == 
-00000270: 7374 6172 742e 6461 7465 7c64 6174 653a  start.date|date:
-00000280: 2246 2c20 5922 2025 7d73 656c 6563 7465  "F, Y" %}selecte
-00000290: 647b 2520 656e 6469 6620 257d 3e7b 7b20  d{% endif %}>{{ 
-000002a0: 6d6f 6e74 687c 6461 7465 3a22 462c 2059  month|date:"F, Y
-000002b0: 2220 7d7d 3c2f 6f70 7469 6f6e 3e0a 0909  " }}</option>...
-000002c0: 0909 7b25 2065 6e64 666f 7220 257d 0a09  ..{% endfor %}..
-000002d0: 0909 3c2f 7365 6c65 6374 3e0a 0909 093c  ..</select>....<
-000002e0: 6c61 6265 6c20 666f 723d 2265 6e64 2220  label for="end" 
-000002f0: 7374 796c 653d 2270 6164 6469 6e67 3a20  style="padding: 
-00000300: 3130 7078 223e 546f 3c2f 6c61 6265 6c3e  10px">To</label>
-00000310: 0a09 0909 3c73 656c 6563 7420 6e61 6d65  ....<select name
-00000320: 3d22 656e 6422 2069 643d 2265 6e64 2220  ="end" id="end" 
-00000330: 636c 6173 733d 2266 6f72 6d2d 636f 6e74  class="form-cont
-00000340: 726f 6c22 2073 7479 6c65 3d22 6d61 7267  rol" style="marg
-00000350: 696e 2d72 6967 6874 3a20 3570 783b 7465  in-right: 5px;te
-00000360: 7874 2d61 6c69 676e 2d6c 6173 743a 6365  xt-align-last:ce
-00000370: 6e74 6572 223e 0a09 0909 097b 2520 666f  nter">.....{% fo
-00000380: 7220 6d6f 6e74 6820 696e 206d 6f6e 7468  r month in month
-00000390: 5f6c 6973 7420 257d 0a09 0909 0909 3c6f  _list %}......<o
-000003a0: 7074 696f 6e20 7661 6c75 653d 227b 7b20  ption value="{{ 
-000003b0: 6d6f 6e74 682e 6461 7465 7c69 6e70 7574  month.date|input
-000003c0: 5f64 6174 655f 666f 726d 6174 207d 7d22  _date_format }}"
-000003d0: 207b 2520 6966 206d 6f6e 7468 7c64 6174   {% if month|dat
-000003e0: 653a 2246 2c20 5922 203d 3d20 656e 642e  e:"F, Y" == end.
-000003f0: 6461 7465 7c64 6174 653a 2246 2c20 5922  date|date:"F, Y"
-00000400: 2025 7d73 656c 6563 7465 647b 2520 656e   %}selected{% en
-00000410: 6469 6620 257d 3e7b 7b20 6d6f 6e74 687c  dif %}>{{ month|
-00000420: 6461 7465 3a22 462c 2059 2220 7d7d 3c2f  date:"F, Y" }}</
-00000430: 6f70 7469 6f6e 3e0a 0909 0909 7b25 2065  option>.....{% e
-00000440: 6e64 666f 7220 257d 0a09 0909 3c2f 7365  ndfor %}....</se
-00000450: 6c65 6374 3e0a 0909 097b 2520 6275 7474  lect>....{% butt
-00000460: 6f6e 2074 7970 653d 2273 6176 6522 2076  on type="save" v
-00000470: 616c 7565 3d22 5570 6461 7465 2220 257d  alue="Update" %}
-00000480: 0a09 3c2f 666f 726d 3e0a 7b25 2065 6e64  ..</form>.{% end
-00000490: 626c 6f63 6b20 257d 0a7b 2520 626c 6f63  block %}.{% bloc
-000004a0: 6b20 7061 6769 6e61 7469 6f6e 5f63 6f6e  k pagination_con
-000004b0: 7465 6e74 2025 7d0a 093c 7461 626c 6520  tent %}..<table 
-000004c0: 636c 6173 733d 2274 6162 6c65 2074 6162  class="table tab
-000004d0: 6c65 2d62 6f72 6465 7265 6420 7461 626c  le-bordered tabl
-000004e0: 652d 7374 7269 7065 6420 7461 626c 652d  e-striped table-
-000004f0: 616c 6967 6e2d 6d69 6464 6c65 2074 6865  align-middle the
-00000500: 6164 2d6c 6967 6874 223e 0a09 093c 7468  ad-light">...<th
-00000510: 6561 643e 0a09 0909 3c74 723e 0a09 0909  ead>....<tr>....
-00000520: 093c 7468 3e7b 2520 696e 636c 7564 6520  .<th>{% include 
-00000530: 2770 6167 696e 6174 696f 6e2f 7061 6769  'pagination/pagi
-00000540: 6e61 7469 6f6e 5f63 6f6c 756d 6e2e 6874  nation_column.ht
-00000550: 6d6c 2720 7769 7468 206f 7264 6572 5f62  ml' with order_b
-00000560: 793d 2270 726f 6a65 6374 2220 6e61 6d65  y="project" name
-00000570: 3d27 5072 6f6a 6563 7427 2025 7d3c 2f74  ='Project' %}</t
-00000580: 683e 0a09 0909 093c 7468 3e7b 2520 696e  h>.....<th>{% in
-00000590: 636c 7564 6520 2770 6167 696e 6174 696f  clude 'paginatio
-000005a0: 6e2f 7061 6769 6e61 7469 6f6e 5f63 6f6c  n/pagination_col
-000005b0: 756d 6e2e 6874 6d6c 2720 7769 7468 206f  umn.html' with o
-000005c0: 7264 6572 5f62 793d 2270 726f 6a65 6374  rder_by="project
-000005d0: 5f5f 696e 7374 6974 7574 696f 6e22 206e  __institution" n
-000005e0: 616d 653d 2749 6e73 7469 7475 7469 6f6e  ame='Institution
-000005f0: 2720 257d 3c2f 7468 3e0a 0909 0909 3c74  ' %}</th>.....<t
-00000600: 683e 416c 6c6f 7765 6420 6368 6172 6765  h>Allowed charge
-00000610: 733c 2f74 683e 0a09 0909 097b 2520 6966  s</th>.....{% if
-00000620: 2063 6f72 655f 6661 6369 6c69 7469 6573   core_facilities
-00000630: 5f65 7869 7374 2025 7d3c 7468 3e7b 2520  _exist %}<th>{% 
-00000640: 696e 636c 7564 6520 2770 6167 696e 6174  include 'paginat
-00000650: 696f 6e2f 7061 6769 6e61 7469 6f6e 5f63  ion/pagination_c
-00000660: 6f6c 756d 6e2e 6874 6d6c 2720 7769 7468  olumn.html' with
-00000670: 206f 7264 6572 5f62 793d 226f 6e6c 795f   order_by="only_
-00000680: 636f 7265 5f66 6163 696c 6974 6965 7322  core_facilities"
-00000690: 206e 616d 653d 2741 6c6c 6f77 6564 2066   name='Allowed f
-000006a0: 6163 696c 6974 6965 7327 2025 7d3c 2f74  acilities' %}</t
-000006b0: 683e 7b25 2065 6e64 6966 2025 7d0a 0909  h>{% endif %}...
-000006c0: 0909 3c74 683e 7b25 2069 6e63 6c75 6465  ..<th>{% include
-000006d0: 2027 7061 6769 6e61 7469 6f6e 2f70 6167   'pagination/pag
-000006e0: 696e 6174 696f 6e5f 636f 6c75 6d6e 2e68  ination_column.h
-000006f0: 746d 6c27 2077 6974 6820 6f72 6465 725f  tml' with order_
-00000700: 6279 3d22 6261 6c61 6e63 655f 6c61 7374  by="balance_last
-00000710: 5f75 7064 6174 6564 2220 6e61 6d65 3d27  _updated" name='
-00000720: 4c61 7374 2069 6e76 6f69 6365 6427 2025  Last invoiced' %
-00000730: 7d3c 2f74 683e 0a09 0909 093c 7468 2063  }</th>.....<th c
-00000740: 6c61 7373 3d22 7465 7874 2d72 6967 6874  lass="text-right
-00000750: 223e 546f 7461 6c20 6675 6e64 733c 2f74  ">Total funds</t
-00000760: 683e 0a09 0909 093c 7468 2063 6c61 7373  h>.....<th class
-00000770: 3d22 7465 7874 2d72 6967 6874 223e 546f  ="text-right">To
-00000780: 7461 6c20 6368 6172 6765 733c 2f74 683e  tal charges</th>
-00000790: 0a09 0909 093c 7468 2063 6c61 7373 3d22  .....<th class="
-000007a0: 7465 7874 2d72 6967 6874 223e 4261 6c61  text-right">Bala
-000007b0: 6e63 653c 2f74 683e 0a09 0909 093c 7468  nce</th>.....<th
-000007c0: 2063 6c61 7373 3d22 7465 7874 2d72 6967   class="text-rig
-000007d0: 6874 2062 7574 746f 6e2d 636f 6c75 6d6e  ht button-column
-000007e0: 2d6d 696e 696d 756d 223e 4368 6172 6765  -minimum">Charge
-000007f0: 733c 2f74 683e 0a09 0909 3c2f 7472 3e0a  s</th>....</tr>.
-00000800: 0909 3c2f 7468 6561 643e 0a09 093c 7462  ..</thead>...<tb
-00000810: 6f64 793e 0a09 0909 7b25 2066 6f72 2070  ody>....{% for p
-00000820: 7265 7061 6964 5f70 726f 6a65 6374 2069  repaid_project i
-00000830: 6e20 7061 6765 2025 7d0a 0909 0909 3c74  n page %}.....<t
-00000840: 723e 0a09 0909 0909 7b25 2069 6620 7072  r>......{% if pr
-00000850: 6570 6169 645f 7072 6f6a 6563 742e 6368  epaid_project.ch
-00000860: 6172 6765 7320 257d 0a09 0909 0909 093c  arges %}.......<
-00000870: 7464 2069 643d 2263 6865 7672 6f6e 5f7b  td id="chevron_{
-00000880: 7b20 7072 6570 6169 645f 7072 6f6a 6563  { prepaid_projec
-00000890: 742e 6964 207d 7d22 2064 6174 612d 746f  t.id }}" data-to
-000008a0: 6767 6c65 3d22 636f 6c6c 6170 7365 2220  ggle="collapse" 
-000008b0: 6461 7461 2d74 6172 6765 743d 222e 7072  data-target=".pr
-000008c0: 6570 6169 645f 7072 6f6a 6563 745f 7b7b  epaid_project_{{
-000008d0: 2070 7265 7061 6964 5f70 726f 6a65 6374   prepaid_project
-000008e0: 2e69 6420 7d7d 2220 6f6e 636c 6963 6b3d  .id }}" onclick=
-000008f0: 2274 6f67 676c 655f 6465 7461 696c 7328  "toggle_details(
-00000900: 2428 2723 6368 6576 726f 6e5f 7b7b 2070  $('#chevron_{{ p
-00000910: 7265 7061 6964 5f70 726f 6a65 6374 2e69  repaid_project.i
-00000920: 6420 7d7d 2729 2922 3e0a 0909 0909 0909  d }}'))">.......
-00000930: 093c 7370 616e 2063 6c61 7373 3d22 676c  .<span class="gl
-00000940: 7970 6869 636f 6e20 676c 7970 6869 636f  yphicon glyphico
-00000950: 6e2d 6368 6576 726f 6e2d 7269 6768 7420  n-chevron-right 
-00000960: 7075 6c6c 2d6c 6566 7420 6368 6576 726f  pull-left chevro
-00000970: 6e22 3e3c 2f73 7061 6e3e 0a09 0909 0909  n"></span>......
-00000980: 0909 7b7b 2070 7265 7061 6964 5f70 726f  ..{{ prepaid_pro
-00000990: 6a65 6374 2e70 726f 6a65 6374 207d 7d0a  ject.project }}.
-000009a0: 0909 0909 0909 3c2f 7464 3e0a 0909 0909  ......</td>.....
-000009b0: 097b 2520 656c 7365 2025 7d0a 0909 0909  .{% else %}.....
-000009c0: 0909 3c74 643e 7b7b 2070 7265 7061 6964  ..<td>{{ prepaid
-000009d0: 5f70 726f 6a65 6374 2e70 726f 6a65 6374  _project.project
-000009e0: 207d 7d3c 2f74 643e 0a09 0909 0909 7b25   }}</td>......{%
-000009f0: 2065 6e64 6966 2025 7d0a 0909 0909 093c   endif %}......<
-00000a00: 7464 3e7b 7b20 7072 6570 6169 645f 7072  td>{{ prepaid_pr
-00000a10: 6f6a 6563 742e 7072 6f6a 6563 742e 696e  oject.project.in
-00000a20: 7374 6974 7574 696f 6e20 7d7d 3c2f 7464  stitution }}</td
-00000a30: 3e0a 0909 0909 093c 7464 3e7b 7b20 7072  >......<td>{{ pr
-00000a40: 6570 6169 645f 7072 6f6a 6563 742e 6765  epaid_project.ge
-00000a50: 745f 6368 6172 6765 5f74 7970 6573 5f64  t_charge_types_d
-00000a60: 6973 706c 6179 207d 7d3c 2f74 643e 0a09  isplay }}</td>..
-00000a70: 0909 0909 7b25 2069 6620 636f 7265 5f66  ....{% if core_f
-00000a80: 6163 696c 6974 6965 735f 6578 6973 7420  acilities_exist 
-00000a90: 257d 3c74 643e 7b7b 2070 7265 7061 6964  %}<td>{{ prepaid
-00000aa0: 5f70 726f 6a65 6374 2e67 6574 5f6f 6e6c  _project.get_onl
-00000ab0: 795f 636f 7265 5f66 6163 696c 6974 6965  y_core_facilitie
-00000ac0: 735f 6469 7370 6c61 7920 7d7d 3c2f 7464  s_display }}</td
-00000ad0: 3e7b 2520 656e 6469 6620 257d 0a09 0909  >{% endif %}....
-00000ae0: 0909 3c74 643e 7b7b 2070 7265 7061 6964  ..<td>{{ prepaid
-00000af0: 5f70 726f 6a65 6374 2e62 616c 616e 6365  _project.balance
-00000b00: 5f6c 6173 745f 7570 6461 7465 647c 6461  _last_updated|da
-00000b10: 7465 3a22 5348 4f52 545f 4441 5445 5f46  te:"SHORT_DATE_F
-00000b20: 4f52 4d41 5422 207d 7d3c 2f74 643e 0a09  ORMAT" }}</td>..
-00000b30: 0909 0909 3c74 6420 636c 6173 733d 2274  ....<td class="t
-00000b40: 6578 742d 7269 6768 7422 3e7b 7b20 7072  ext-right">{{ pr
-00000b50: 6570 6169 645f 7072 6f6a 6563 742e 746f  epaid_project.to
-00000b60: 7461 6c5f 6675 6e64 737c 666c 6f61 7466  tal_funds|floatf
-00000b70: 6f72 6d61 743a 3220 7d7d 3c2f 7464 3e0a  ormat:2 }}</td>.
-00000b80: 0909 0909 093c 7464 2063 6c61 7373 3d22  .....<td class="
-00000b90: 7465 7874 2d72 6967 6874 223e 7b7b 2070  text-right">{{ p
-00000ba0: 7265 7061 6964 5f70 726f 6a65 6374 2e74  repaid_project.t
-00000bb0: 6f74 616c 5f63 6861 7267 6573 5f61 6d6f  otal_charges_amo
-00000bc0: 756e 747c 666c 6f61 7466 6f72 6d61 743a  unt|floatformat:
-00000bd0: 3220 7d7d 3c2f 7464 3e0a 0909 0909 093c  2 }}</td>......<
-00000be0: 7464 2063 6c61 7373 3d22 7465 7874 2d72  td class="text-r
-00000bf0: 6967 6874 223e 7b7b 2070 7265 7061 6964  ight">{{ prepaid
-00000c00: 5f70 726f 6a65 6374 2e74 6f74 616c 5f66  _project.total_f
-00000c10: 756e 6473 5f6c 6566 747c 666c 6f61 7466  unds_left|floatf
-00000c20: 6f72 6d61 743a 3220 7d7d 3c2f 7464 3e0a  ormat:2 }}</td>.
-00000c30: 0909 0909 093c 7464 2063 6c61 7373 3d22  .....<td class="
-00000c40: 7465 7874 2d72 6967 6874 223e 0a09 0909  text-right">....
-00000c50: 0909 097b 2520 6966 2070 7265 7061 6964  ...{% if prepaid
-00000c60: 5f70 726f 6a65 6374 2e63 6861 7267 6573  _project.charges
-00000c70: 2025 7d0a 0909 0909 0909 093c 6275 7474   %}........<butt
-00000c80: 6f6e 2063 6c61 7373 3d22 6274 6e20 6274  on class="btn bt
-00000c90: 6e2d 736d 2062 746e 2d70 7269 6d61 7279  n-sm btn-primary
-00000ca0: 2220 7479 7065 3d22 6275 7474 6f6e 2220  " type="button" 
-00000cb0: 6f6e 636c 6963 6b3d 2274 6f67 676c 655f  onclick="toggle_
-00000cc0: 6465 7461 696c 7328 2428 2723 6368 6576  details($('#chev
-00000cd0: 726f 6e5f 7b7b 2070 7265 7061 6964 5f70  ron_{{ prepaid_p
-00000ce0: 726f 6a65 6374 2e69 6420 7d7d 2729 2922  roject.id }}'))"
-00000cf0: 2074 6974 6c65 3d22 5365 6520 6368 6172   title="See char
-00000d00: 6765 7322 2061 7269 612d 6c61 6265 6c3d  ges" aria-label=
-00000d10: 2253 6565 2063 6861 7267 6573 2220 6461  "See charges" da
-00000d20: 7461 2d74 6f67 676c 653d 2263 6f6c 6c61  ta-toggle="colla
-00000d30: 7073 6522 2064 6174 612d 7461 7267 6574  pse" data-target
-00000d40: 3d22 2e70 7265 7061 6964 5f70 726f 6a65  =".prepaid_proje
-00000d50: 6374 5f7b 7b20 7072 6570 6169 645f 7072  ct_{{ prepaid_pr
-00000d60: 6f6a 6563 742e 6964 207d 7d22 3e0a 2020  oject.id }}">.  
-00000d70: 2020 0909 0909 0909 093c 6920 636c 6173    .......<i clas
-00000d80: 733d 2267 6c79 7068 6963 6f6e 2067 6c79  s="glyphicon gly
-00000d90: 7068 6963 6f6e 2d6c 6973 7422 3e3c 2f69  phicon-list"></i
-00000da0: 3e20 5365 6520 6368 6172 6765 730a 0909  > See charges...
-00000db0: 0909 0909 093c 2f62 7574 746f 6e3e 0a09  .....</button>..
-00000dc0: 0909 0909 097b 2520 656e 6469 6620 257d  .....{% endif %}
-00000dd0: 0a09 0909 0909 3c2f 7464 3e0a 0909 0909  ......</td>.....
-00000de0: 3c2f 7472 3e0a 0909 0909 7b25 2069 6620  </tr>.....{% if 
-00000df0: 7072 6570 6169 645f 7072 6f6a 6563 742e  prepaid_project.
-00000e00: 6368 6172 6765 7320 257d 0a09 0909 0909  charges %}......
-00000e10: 3c74 7220 636c 6173 733d 2263 6f6c 6c61  <tr class="colla
-00000e20: 7073 6520 7072 6570 6169 645f 7072 6f6a  pse prepaid_proj
-00000e30: 6563 745f 7b7b 2070 7265 7061 6964 5f70  ect_{{ prepaid_p
-00000e40: 726f 6a65 6374 2e69 6420 7d7d 223e 0a09  roject.id }}">..
-00000e50: 0909 0909 093c 7464 2063 6f6c 7370 616e  .....<td colspan
-00000e60: 3d22 7b25 2069 6620 636f 7265 5f66 6163  ="{% if core_fac
-00000e70: 696c 6974 6965 735f 6578 6973 7420 257d  ilities_exist %}
-00000e80: 397b 2520 656c 7365 2025 7d38 7b25 2065  9{% else %}8{% e
-00000e90: 6e64 6966 2025 7d22 2073 7479 6c65 3d22  ndif %}" style="
-00000ea0: 7061 6464 696e 673a 2030 223e 0a09 0909  padding: 0">....
-00000eb0: 0909 0909 3c74 6162 6c65 2063 6c61 7373  ....<table class
-00000ec0: 3d22 7461 626c 6520 7461 626c 652d 626f  ="table table-bo
-00000ed0: 7264 6572 6564 2074 6162 6c65 2d61 6c69  rdered table-ali
-00000ee0: 676e 2d6d 6964 646c 6520 7461 626c 652d  gn-middle table-
-00000ef0: 636f 6e64 656e 7365 6422 2073 7479 6c65  condensed" style
-00000f00: 3d22 6d61 7267 696e 3a20 3022 3e0a 0909  ="margin: 0">...
-00000f10: 0909 0909 0909 3c74 6865 6164 3e0a 0909  ......<thead>...
-00000f20: 0909 0909 0909 093c 7472 3e0a 0909 0909  .......<tr>.....
-00000f30: 0909 0909 0909 3c74 6820 636c 6173 733d  ......<th class=
-00000f40: 2261 6c65 7274 2d69 6e66 6f22 3e55 7365  "alert-info">Use
-00000f50: 723c 2f74 683e 0a09 0909 0909 0909 0909  r</th>..........
-00000f60: 093c 7468 2063 6c61 7373 3d22 616c 6572  .<th class="aler
-00000f70: 742d 696e 666f 223e 4974 656d 3c2f 7468  t-info">Item</th
-00000f80: 3e0a 0909 0909 0909 0909 0909 3c74 6820  >...........<th 
-00000f90: 636c 6173 733d 2261 6c65 7274 2d69 6e66  class="alert-inf
-00000fa0: 6f22 3e44 6174 653c 2f74 683e 0a09 0909  o">Date</th>....
-00000fb0: 0909 0909 0909 093c 7468 2063 6c61 7373  .......<th class
-00000fc0: 3d22 616c 6572 742d 696e 666f 223e 4475  ="alert-info">Du
-00000fd0: 7261 7469 6f6e 3c2f 7468 3e0a 0909 0909  ration</th>.....
-00000fe0: 0909 0909 0909 3c74 6820 636c 6173 733d  ......<th class=
-00000ff0: 2261 6c65 7274 2d69 6e66 6f20 7465 7874  "alert-info text
-00001000: 2d72 6967 6874 223e 416d 6f75 6e74 3c2f  -right">Amount</
-00001010: 7468 3e0a 0909 0909 0909 0909 093c 2f74  th>..........</t
-00001020: 723e 0a09 0909 0909 0909 093c 2f74 6865  r>.........</the
-00001030: 6164 3e0a 0909 0909 0909 0909 7b25 2066  ad>.........{% f
-00001040: 6f72 2063 6861 7267 6520 696e 2070 7265  or charge in pre
-00001050: 7061 6964 5f70 726f 6a65 6374 2e63 6861  paid_project.cha
-00001060: 7267 6573 2025 7d0a 0909 0909 0909 0909  rges %}.........
-00001070: 093c 7472 3e0a 0909 0909 0909 0909 0909  .<tr>...........
-00001080: 3c74 643e 7b7b 2063 6861 7267 652e 7573  <td>{{ charge.us
-00001090: 6572 207d 7d3c 2f74 643e 0a09 0909 0909  er }}</td>......
-000010a0: 0909 0909 093c 7464 3e7b 7b20 6368 6172  .....<td>{{ char
-000010b0: 6765 2e6e 616d 6520 7d7d 3c2f 7464 3e0a  ge.name }}</td>.
-000010c0: 0909 0909 0909 0909 0909 3c74 643e 7b7b  ..........<td>{{
-000010d0: 2063 6861 7267 652e 7374 6172 747c 6461   charge.start|da
-000010e0: 7465 3a22 5348 4f52 545f 4441 5445 5449  te:"SHORT_DATETI
-000010f0: 4d45 5f46 4f52 4d41 5422 207d 7d3c 2f74  ME_FORMAT" }}</t
-00001100: 643e 0a09 0909 0909 0909 0909 093c 7464  d>...........<td
-00001110: 3e7b 7b20 6368 6172 6765 2e64 6973 706c  >{{ charge.displ
-00001120: 6179 5f71 7561 6e74 6974 7920 7d7d 3c2f  ay_quantity }}</
-00001130: 7464 3e0a 0909 0909 0909 0909 0909 3c74  td>...........<t
-00001140: 6420 636c 6173 733d 2274 6578 742d 7269  d class="text-ri
-00001150: 6768 7422 3e7b 7b20 6368 6172 6765 2e61  ght">{{ charge.a
-00001160: 6d6f 756e 747c 666c 6f61 7466 6f72 6d61  mount|floatforma
-00001170: 743a 3220 7d7d 3c2f 7464 3e0a 0909 0909  t:2 }}</td>.....
-00001180: 0909 0909 093c 2f74 723e 0a09 0909 0909  .....</tr>......
-00001190: 0909 097b 2520 656e 6466 6f72 2025 7d0a  ...{% endfor %}.
-000011a0: 0909 0909 0909 0909 3c74 723e 0a09 0909  ........<tr>....
-000011b0: 0909 0909 0909 3c74 6420 636f 6c73 7061  ......<td colspa
-000011c0: 6e3d 2234 2220 636c 6173 733d 2274 6578  n="4" class="tex
-000011d0: 742d 7269 6768 7422 3e7b 2520 6966 2070  t-right">{% if p
-000011e0: 7265 7061 6964 5f70 726f 6a65 6374 2e74  repaid_project.t
-000011f0: 6178 6573 5f61 6d6f 756e 7420 257d 5375  axes_amount %}Su
-00001200: 6274 6f74 616c 7b25 2065 6c73 6520 257d  btotal{% else %}
-00001210: 546f 7461 6c7b 2520 656e 6469 6620 257d  Total{% endif %}
-00001220: 3c2f 7464 3e0a 0909 0909 0909 0909 093c  </td>..........<
-00001230: 7464 2063 6c61 7373 3d22 7465 7874 2d72  td class="text-r
-00001240: 6967 6874 223e 7b7b 2070 7265 7061 6964  ight">{{ prepaid
-00001250: 5f70 726f 6a65 6374 2e63 6861 7267 6573  _project.charges
-00001260: 5f61 6d6f 756e 747c 666c 6f61 7466 6f72  _amount|floatfor
-00001270: 6d61 743a 3220 7d7d 3c2f 7464 3e0a 0909  mat:2 }}</td>...
-00001280: 0909 0909 0909 3c2f 7472 3e0a 0909 0909  ......</tr>.....
-00001290: 0909 0909 7b25 2069 6620 7072 6570 6169  ....{% if prepai
-000012a0: 645f 7072 6f6a 6563 742e 7461 7865 735f  d_project.taxes_
-000012b0: 616d 6f75 6e74 2025 7d0a 0909 0909 0909  amount %}.......
-000012c0: 0909 093c 7472 3e0a 0909 0909 0909 0909  ...<tr>.........
-000012d0: 0909 3c74 6420 636f 6c73 7061 6e3d 2234  ..<td colspan="4
-000012e0: 2220 636c 6173 733d 2274 6578 742d 7269  " class="text-ri
-000012f0: 6768 7422 3e54 6178 6573 3c2f 7464 3e0a  ght">Taxes</td>.
-00001300: 0909 0909 0909 0909 0909 3c74 6420 636c  ..........<td cl
-00001310: 6173 733d 2274 6578 742d 7269 6768 7422  ass="text-right"
-00001320: 3e7b 7b20 7072 6570 6169 645f 7072 6f6a  >{{ prepaid_proj
-00001330: 6563 742e 7461 7865 735f 616d 6f75 6e74  ect.taxes_amount
-00001340: 7c66 6c6f 6174 666f 726d 6174 3a32 207d  |floatformat:2 }
-00001350: 7d3c 2f74 643e 0a09 0909 0909 0909 0909  }</td>..........
-00001360: 3c2f 7472 3e0a 0909 0909 0909 0909 093c  </tr>..........<
-00001370: 7472 3e0a 0909 0909 0909 0909 0909 3c74  tr>...........<t
-00001380: 6420 636f 6c73 7061 6e3d 2234 2220 636c  d colspan="4" cl
-00001390: 6173 733d 2274 6578 742d 7269 6768 7422  ass="text-right"
-000013a0: 3e54 6f74 616c 3c2f 7464 3e0a 0909 0909  >Total</td>.....
-000013b0: 0909 0909 0909 3c74 6420 636c 6173 733d  ......<td class=
-000013c0: 2274 6578 742d 7269 6768 7422 3e7b 7b20  "text-right">{{ 
-000013d0: 7072 6570 6169 645f 7072 6f6a 6563 742e  prepaid_project.
-000013e0: 746f 7461 6c5f 6368 6172 6765 735f 616d  total_charges_am
-000013f0: 6f75 6e74 7c66 6c6f 6174 666f 726d 6174  ount|floatformat
-00001400: 3a32 207d 7d3c 2f74 643e 0a09 0909 0909  :2 }}</td>......
-00001410: 0909 0909 3c2f 7472 3e0a 0909 0909 0909  ....</tr>.......
-00001420: 0909 7b25 2065 6e64 6966 2025 7d0a 0909  ..{% endif %}...
-00001430: 0909 0909 093c 2f74 6162 6c65 3e0a 0909  .....</table>...
-00001440: 0909 0909 3c2f 7464 3e0a 0909 0909 093c  ....</td>......<
-00001450: 2f74 723e 0a09 0909 097b 2520 656e 6469  /tr>.....{% endi
-00001460: 6620 257d 0a09 0909 7b25 2065 6e64 666f  f %}....{% endfo
-00001470: 7220 257d 0a09 093c 2f74 626f 6479 3e0a  r %}...</tbody>.
-00001480: 093c 2f74 6162 6c65 3e0a 7b25 2065 6e64  .</table>.{% end
-00001490: 626c 6f63 6b20 257d 0a7b 2520 626c 6f63  block %}.{% bloc
-000014a0: 6b20 7461 626c 655f 656d 7074 795f 636f  k table_empty_co
-000014b0: 6e74 656e 7420 257d 5468 6572 6520 6172  ntent %}There ar
-000014c0: 6520 6e6f 2070 7265 7061 6964 2070 726f  e no prepaid pro
-000014d0: 6a65 6374 7320 7365 747b 2520 656e 6462  jects set{% endb
-000014e0: 6c6f 636b 2025 7d                        lock %}
+00000140: 7266 5f74 6f6b 656e 2025 7d0a 0909 3c6c  rf_token %}...<l
+00000150: 6162 656c 2066 6f72 3d22 7374 6172 7422  abel for="start"
+00000160: 2073 7479 6c65 3d22 7061 6464 696e 673a   style="padding:
+00000170: 2031 3070 7820 3130 7078 2031 3070 7820   10px 10px 10px 
+00000180: 3022 3e46 726f 6d3c 2f6c 6162 656c 3e0a  0">From</label>.
+00000190: 0909 3c73 656c 6563 7420 6e61 6d65 3d22  ..<select name="
+000001a0: 7374 6172 7422 2069 643d 2273 7461 7274  start" id="start
+000001b0: 2220 636c 6173 733d 2266 6f72 6d2d 636f  " class="form-co
+000001c0: 6e74 726f 6c22 2073 7479 6c65 3d22 6d61  ntrol" style="ma
+000001d0: 7267 696e 2d72 6967 6874 3a20 3570 783b  rgin-right: 5px;
+000001e0: 7465 7874 2d61 6c69 676e 2d6c 6173 743a  text-align-last:
+000001f0: 6365 6e74 6572 223e 0a09 0909 7b25 2066  center">....{% f
+00000200: 6f72 206d 6f6e 7468 2069 6e20 6d6f 6e74  or month in mont
+00000210: 685f 6c69 7374 2025 7d0a 0909 0909 3c6f  h_list %}.....<o
+00000220: 7074 696f 6e20 7661 6c75 653d 227b 7b20  ption value="{{ 
+00000230: 6d6f 6e74 682e 6461 7465 7c69 6e70 7574  month.date|input
+00000240: 5f64 6174 655f 666f 726d 6174 207d 7d22  _date_format }}"
+00000250: 207b 2520 6966 206d 6f6e 7468 7c64 6174   {% if month|dat
+00000260: 653a 2246 2c20 5922 203d 3d20 7374 6172  e:"F, Y" == star
+00000270: 742e 6461 7465 7c64 6174 653a 2246 2c20  t.date|date:"F, 
+00000280: 5922 2025 7d73 656c 6563 7465 647b 2520  Y" %}selected{% 
+00000290: 656e 6469 6620 257d 3e7b 7b20 6d6f 6e74  endif %}>{{ mont
+000002a0: 687c 6461 7465 3a22 462c 2059 2220 7d7d  h|date:"F, Y" }}
+000002b0: 3c2f 6f70 7469 6f6e 3e0a 0909 097b 2520  </option>....{% 
+000002c0: 656e 6466 6f72 2025 7d0a 0909 3c2f 7365  endfor %}...</se
+000002d0: 6c65 6374 3e0a 0909 3c6c 6162 656c 2066  lect>...<label f
+000002e0: 6f72 3d22 656e 6422 2073 7479 6c65 3d22  or="end" style="
+000002f0: 7061 6464 696e 673a 2031 3070 7822 3e54  padding: 10px">T
+00000300: 6f3c 2f6c 6162 656c 3e0a 0909 3c73 656c  o</label>...<sel
+00000310: 6563 7420 6e61 6d65 3d22 656e 6422 2069  ect name="end" i
+00000320: 643d 2265 6e64 2220 636c 6173 733d 2266  d="end" class="f
+00000330: 6f72 6d2d 636f 6e74 726f 6c22 2073 7479  orm-control" sty
+00000340: 6c65 3d22 6d61 7267 696e 2d72 6967 6874  le="margin-right
+00000350: 3a20 3570 783b 7465 7874 2d61 6c69 676e  : 5px;text-align
+00000360: 2d6c 6173 743a 6365 6e74 6572 223e 0a09  -last:center">..
+00000370: 0909 7b25 2066 6f72 206d 6f6e 7468 2069  ..{% for month i
+00000380: 6e20 6d6f 6e74 685f 6c69 7374 2025 7d0a  n month_list %}.
+00000390: 0909 0909 3c6f 7074 696f 6e20 7661 6c75  ....<option valu
+000003a0: 653d 227b 7b20 6d6f 6e74 682e 6461 7465  e="{{ month.date
+000003b0: 7c69 6e70 7574 5f64 6174 655f 666f 726d  |input_date_form
+000003c0: 6174 207d 7d22 207b 2520 6966 206d 6f6e  at }}" {% if mon
+000003d0: 7468 7c64 6174 653a 2246 2c20 5922 203d  th|date:"F, Y" =
+000003e0: 3d20 656e 642e 6461 7465 7c64 6174 653a  = end.date|date:
+000003f0: 2246 2c20 5922 2025 7d73 656c 6563 7465  "F, Y" %}selecte
+00000400: 647b 2520 656e 6469 6620 257d 3e7b 7b20  d{% endif %}>{{ 
+00000410: 6d6f 6e74 687c 6461 7465 3a22 462c 2059  month|date:"F, Y
+00000420: 2220 7d7d 3c2f 6f70 7469 6f6e 3e0a 0909  " }}</option>...
+00000430: 097b 2520 656e 6466 6f72 2025 7d0a 0909  .{% endfor %}...
+00000440: 3c2f 7365 6c65 6374 3e0a 0909 7b25 2062  </select>...{% b
+00000450: 7574 746f 6e20 7479 7065 3d22 7361 7665  utton type="save
+00000460: 2220 7661 6c75 653d 2255 7064 6174 6522  " value="Update"
+00000470: 2025 7d0a 093c 2f66 6f72 6d3e 0a7b 2520   %}..</form>.{% 
+00000480: 656e 6462 6c6f 636b 2025 7d0a 7b25 2062  endblock %}.{% b
+00000490: 6c6f 636b 2070 6167 696e 6174 696f 6e5f  lock pagination_
+000004a0: 636f 6e74 656e 7420 257d 0a09 7b25 2069  content %}..{% i
+000004b0: 6e63 6c75 6465 2027 7072 6570 6179 6d65  nclude 'prepayme
+000004c0: 6e74 732f 7072 6570 6169 645f 7072 6f6a  nts/prepaid_proj
+000004d0: 6563 745f 7374 6174 7573 5f74 6162 6c65  ect_status_table
+000004e0: 2e68 746d 6c27 2025 7d0a 7b25 2065 6e64  .html' %}.{% end
+000004f0: 626c 6f63 6b20 257d 0a7b 2520 626c 6f63  block %}.{% bloc
+00000500: 6b20 7461 626c 655f 656d 7074 795f 636f  k table_empty_co
+00000510: 6e74 656e 7420 257d 5468 6572 6520 6172  ntent %}There ar
+00000520: 6520 6e6f 2070 7265 7061 6964 2070 726f  e no prepaid pro
+00000530: 6a65 6374 7320 7365 747b 2520 656e 6462  jects set{% endb
+00000540: 6c6f 636b 2025 7d                        lock %}
```

## NEMO_billing/prepayments/views/prepayments.py

```diff
@@ -1,20 +1,32 @@
 from calendar import monthrange
 
 from NEMO.decorators import accounting_or_user_office_or_manager_required
+from NEMO.typing import QuerySetType
 from NEMO.utilities import extract_optional_beginning_and_end_dates, get_month_timeframe, month_list
 from NEMO.views.pagination import SortedPaginator
+from NEMO.views.usage import get_managed_projects
 from django.contrib import messages
+from django.contrib.auth.decorators import login_required
 from django.shortcuts import render
 from django.views.decorators.http import require_http_methods
 
 from NEMO_billing.models import CoreFacility
 from NEMO_billing.prepayments.models import Fund, ProjectPrepaymentDetail
 
 
+@login_required
+def usage_project_prepayments(request):
+    start_date, end_date = get_month_timeframe()
+    projects = get_managed_projects(request.user)
+    prepaid_projects = ProjectPrepaymentDetail.objects.filter(project__in=[project for project in projects if project.active])
+    add_fund_info_to_prepaid_projects(request, prepaid_projects, start_date, end_date)
+    return render(request, "prepayments/prepaid_project_status_table.html", {"page": prepaid_projects})
+
+
 @accounting_or_user_office_or_manager_required
 @require_http_methods(["GET", "POST"])
 def prepaid_project_status(request):
     # Default is year to date
     start_date, end_date = get_month_timeframe()
     start_date = start_date.replace(month=1)
     if request.POST.get("start") and request.POST.get("end"):
@@ -25,15 +37,27 @@
             start_date = start_date.replace(year=submitted_start_date.year, month=submitted_start_date.month)
             end_date = end_date.replace(
                 year=submitted_end_date.year,
                 month=submitted_end_date.month,
                 day=monthrange(submitted_end_date.year, submitted_end_date.month)[1],
             )
     page = SortedPaginator(ProjectPrepaymentDetail.objects.all(), request, order_by="project").get_current_page()
-    for prepaid_project in page.object_list:
+    add_fund_info_to_prepaid_projects(request, page.object_list, start_date, end_date)
+    dictionary = {
+        "start": start_date,
+        "end": end_date,
+        "month_list": month_list(),
+        "page": page,
+        "core_facilities_exist": CoreFacility.objects.exists(),
+    }
+    return render(request, "prepayments/prepaid_project_status.html", dictionary)
+
+
+def add_fund_info_to_prepaid_projects(request, prepaid_projects: QuerySetType[ProjectPrepaymentDetail], start_date, end_date):
+    for prepaid_project in prepaid_projects:
         try:
             prepaid_project: ProjectPrepaymentDetail = prepaid_project
             charges, charges_amount, funds = prepaid_project.get_prepayment_info(start_in_month=start_date, until=end_date)
             bulk_funds = Fund.objects.in_bulk(funds)
             prepaid_project.total_funds = sum(fund.amount for fund in bulk_funds.values())
             prepaid_project.total_funds_left = sum(
                 balance for fund_id, balance in funds.items() if bulk_funds[fund_id].is_active(end_date)
@@ -45,15 +69,7 @@
                 else 0
             )
             prepaid_project.total_charges_amount = prepaid_project.charges_amount + prepaid_project.taxes_amount
             prepaid_project.charges = charges
             prepaid_project.charges.reverse()
         except Exception as e:
             messages.error(request, str(e), extra_tags="data-trigger=manual")
-    dictionary = {
-        "start": start_date,
-        "end": end_date,
-        "month_list": month_list(),
-        "page": page,
-        "core_facilities_exist": CoreFacility.objects.exists(),
-    }
-    return render(request, "prepayments/prepaid_project_status.html", dictionary)
```

## Comparing `NEMO_billing-2.5.9.dist-info/LICENSE` & `NEMO_billing-2.6.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `NEMO_billing-2.5.9.dist-info/METADATA` & `NEMO_billing-2.6.0.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,32 +1,32 @@
 Metadata-Version: 2.1
 Name: NEMO-billing
-Version: 2.5.9
+Version: 2.6.0
 Summary: Install Billing plugin for NEMO
 Home-page: https://gitlab.com/nemo-community/atlantis-labs/nemo-billing
 Author: Atlantis Labs LLC
 Author-email: atlantis@atlantislabs.io
 License: MIT
 Keywords: NEMO
 Classifier: Development Status :: 4 - Beta
 Classifier: Intended Audience :: Developers
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Programming Language :: Python :: 3.8
 Requires-Python: >=3.8
 Description-Content-Type: text/markdown
 License-File: LICENSE
 Requires-Dist: django
-Requires-Dist: reportlab (==3.6.12)
+Requires-Dist: reportlab ==3.6.12
 Requires-Dist: python-dateutil
 Requires-Dist: djangorestframework
 Requires-Dist: drf-excel
 Provides-Extra: nemo
-Requires-Dist: NEMO (>=4.6.0) ; extra == 'nemo'
+Requires-Dist: NEMO >=4.6.0 ; extra == 'nemo'
 Provides-Extra: nemo-ce
-Requires-Dist: NEMO-CE (>=1.6.0) ; extra == 'nemo-ce'
+Requires-Dist: NEMO-CE >=1.6.0 ; extra == 'nemo-ce'
 
 # NEMO billing
 
 This billing plugin for NEMO includes core facilities and custom charges/adjustments.
 It also includes sub-modules for adding rates and invoices.
```

## Comparing `NEMO_billing-2.5.9.dist-info/RECORD` & `NEMO_billing-2.6.0.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -11,39 +11,39 @@
 NEMO_billing/views.py,sha256=aHq58PQA_LtRJAEpl_WhqoxNCUUTEumEUAr41092C2Q,6371
 NEMO_billing/cap_discount/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/cap_discount/admin.py,sha256=ByEEW-QWgcGpNJXoa1jEkWZMMV7YgKDYlPshfxAVuis,4880
 NEMO_billing/cap_discount/app_settings.py,sha256=IEX-9f0PfxBuyfNVN0AAUjB6EX7S8WNhQCCjhoWQF2c,102
 NEMO_billing/cap_discount/apps.py,sha256=F1TsLrQW4tSz593Efiwu6_TkagWb0CCmBpPHpvTNPSI,444
 NEMO_billing/cap_discount/customization.py,sha256=HmMpI90MXbO44I8uCrVYSH35RSVfGstC-oN3FVkZp2w,2991
 NEMO_billing/cap_discount/exceptions.py,sha256=IGvQo-7iBf19v87KIMkiH6kW2QIMydOp4qQLctKisQY,892
-NEMO_billing/cap_discount/models.py,sha256=4TNUvqqm16f4hwy4jLI3D7sJVUGL_5atPf0zUsGebbI,18184
-NEMO_billing/cap_discount/processors.py,sha256=5b9rK9XlhIa3TFg1PDBS3q9Vxk1hZyMWoYASCglTd74,21607
-NEMO_billing/cap_discount/urls.py,sha256=ehNh3089Fvmr-cfpn0oUy1rAGDqAxtGmkrRQfh6GNfo,550
-NEMO_billing/cap_discount/views.py,sha256=6bmzdyCRq7zNe7lw9vGUledqkxviGDduCl1FPSMvHwQ,1706
+NEMO_billing/cap_discount/models.py,sha256=BROnstUbwRq_l1mwJivkZWL6-XpQ4KId_xqeSVk5T_8,18543
+NEMO_billing/cap_discount/processors.py,sha256=TUassmDKEueHV9_JNiLbEUzxBjNelQeXKnaCUUutgPQ,21627
+NEMO_billing/cap_discount/urls.py,sha256=HR9eI482le2fJuKEk0AfasZVsdSlEUnQ_PUfds1E7Qw,690
+NEMO_billing/cap_discount/views.py,sha256=C3mnqMGZV_3F2Qmq3nq2Vl85Yc2sMUZfU--kUSkE830,4306
 NEMO_billing/cap_discount/migrations/0001_initial.py,sha256=DUzD7P1ojLrfj47u_a6ueopG1sL3Yjv9eEC46GGZrxQ,7568
 NEMO_billing/cap_discount/migrations/0002_version_2_0_0.py,sha256=Ch6EXpvFjakBma6mRYLT6KRZQOanNWguVxxwX7jUqdo,1665
 NEMO_billing/cap_discount/migrations/0003_multi_tier_discount.py,sha256=JF7nMLzShWLyYGw8EPYxSgHHJZWRrXpiLAC9nRBVO2U,4815
 NEMO_billing/cap_discount/migrations/0004_shortened_unique_constraints.py,sha256=OWXzH4H_-xZf9X4qoZm2-Xw6SgMxq1LZPQWMlx9PZCY,3478
 NEMO_billing/cap_discount/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-NEMO_billing/cap_discount/templates/cap_discount/cap_discount_status.html,sha256=ZQYIHr0ISGVSt1LtGmSDj_aK8GLSjR59DDfp5ngL03s,1415
+NEMO_billing/cap_discount/templates/cap_discount/cap_discount_status.html,sha256=l8s9LWMH5UqAonghVDGNf33O1OwAw7xwrhShehSuZ14,2383
 NEMO_billing/cap_discount/templates/cap_discount/usage_cap_discounts.html,sha256=uUyAyi_2XYy_xYcHp--og5Wk-B0qIGGJ0kHy1pgvnDM,1772
 NEMO_billing/cap_discount/templates/customizations/customizations_cap_discount.html,sha256=Wfhx7faoFJtiS_6iZdllohBFtcFDu6STfwOP1z7jf50,4068
 NEMO_billing/invoices/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/invoices/admin.py,sha256=2u74fK64VdbngmXMUJwnxr8MO7jr8W89lqNGaTvjqZg,10823
 NEMO_billing/invoices/api.py,sha256=8XEbpeNYIeyX4GeOo8V57mXBVNPefFi2LF2xZd3NEP4,7049
 NEMO_billing/invoices/app_settings.py,sha256=xCnFmkrrdKZR3Y10fP9goyBYEF6IgxRU822du8gQ9Io,176
 NEMO_billing/invoices/apps.py,sha256=GeE88lnFhWikhxJyY1sPECwrrQr2qk72tfn1QhTlQSs,445
 NEMO_billing/invoices/customization.py,sha256=nweZVRuLEDHKMj1SLT0MwDjAbcR2kSiHscO7eF4oFdc,4448
 NEMO_billing/invoices/exceptions.py,sha256=vxqszGM-qTiHGuIXNjIK93Incg-cMpY8nHC89l92Imk,2642
 NEMO_billing/invoices/models.py,sha256=F9IQBr_6gi7raXKxMwFAwKnBc4jYXVltcKSN87mDrjw,23629
 NEMO_billing/invoices/pdf_utilities.py,sha256=k9NKkO40tce4ALJl1LPMmy6JT7FnXcHmIG-08tYZYSA,12477
 NEMO_billing/invoices/processors.py,sha256=Mi7Fays1UEf7CiPO7b3y-OITnXXEexVjWNUSVHTDRa4,30163
 NEMO_billing/invoices/renderers.py,sha256=C73ZZbZHjBiM17LLZhODQpLsV6_GDk5e5BdrIRBCjqA,26169
 NEMO_billing/invoices/urls.py,sha256=LVqIWjGyr5IBtfs1KvJ0vIdAuNlpLUEe_2f6WPOc21Q,3044
-NEMO_billing/invoices/utilities.py,sha256=TVLznEJN6B_XzOu1uXUyCTWHkECNcCWBOkbsUM8JYeQ,4235
+NEMO_billing/invoices/utilities.py,sha256=O-LG8UXwqcskr6KE572o4N4FfeKi-_gl869lwcKjA-4,4293
 NEMO_billing/invoices/management/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/invoices/management/commands/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/invoices/management/commands/deactivate_expired_projects.py,sha256=vrJ7y-FHBPvufXCbcYQbOmNwBUsWSSAvdGlYdGX4lII,298
 NEMO_billing/invoices/management/commands/send_invoice_payment_reminder.py,sha256=NirdsT3Saj_sZwCE2iZMHZgMDeXYvp8hL2srk-Z63mY,318
 NEMO_billing/invoices/migrations/0001_initial.py,sha256=9Jg9lZCVb_yksWR4x5dT-h4QQ3oelPx-KgeQ0ktNayc,9795
 NEMO_billing/invoices/migrations/0002_version_1_2_0.py,sha256=Rdo1o--uj5fRSYUZ-hk1Ir-UsSTBMfdqbTbBk8jNDvE,2794
 NEMO_billing/invoices/migrations/0003_version_1_4_0.py,sha256=xLvPGSmXUhDQ6ldwKWyeB13jdLU8Gywxr0pSQWIpuRE,1063
@@ -53,53 +53,54 @@
 NEMO_billing/invoices/migrations/0007_version_1_8_0.py,sha256=Fz-m4Ig4buUJU4QrOUDSFe4brS42qwPwuuXM3Oyz8dY,458
 NEMO_billing/invoices/migrations/0008_version_1_10_0.py,sha256=L_WSEK0zV60RgyKeUswKVNBcFALV4CxCrpQ0RY63i5U,437
 NEMO_billing/invoices/migrations/0009_version_1_23_0.py,sha256=OovlSCBav-NtlFw3EQ2ILuT_nmgOwpeu639Ly0hsmIU,1183
 NEMO_billing/invoices/migrations/0010_version_2_0_0.py,sha256=12oMKisB9Pdclkr85ASTIJJgX2GLeiXJ_Zkctg8RNhM,439
 NEMO_billing/invoices/migrations/0011_version_2_4_0.py,sha256=WrVVESctexdmPvqoH49HFLmWdPCFEcRDnZ-m0AAtjZU,1280
 NEMO_billing/invoices/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/invoices/static/invoices/invoices.css,sha256=9HC7rx65WIdIb2GzV2-H204cRKEhqI8tFnAzi6bCwk0,1072
-NEMO_billing/invoices/templates/customizations/customizations_billing.html,sha256=syFjM900RNn7fhT48VC74nXt3YoczEqjLxaT8XFuxHM,5678
+NEMO_billing/invoices/templates/customizations/customizations_billing.html,sha256=5sAYy-Gubid8FSjHKERIVjGR6ep_L1-d_5_pkn5aLCg,5714
 NEMO_billing/invoices/templates/customizations/customizations_invoices.html,sha256=iwrKt38Y_PSBXra1rv44TsdveCSRBshgizedxabNvLM,8157
 NEMO_billing/invoices/templates/invoices/base.html,sha256=GJQiq_yduxal8rnCPLyZsclw7w1G9UAgjSAvgCPf__I,212
 NEMO_billing/invoices/templates/invoices/invoice.html,sha256=LJwyPbxiLZcQ0GfHRIdSub6dDGuvQNeYFSLVnIoR-cw,13011
 NEMO_billing/invoices/templates/invoices/invoice_details.html,sha256=Tu-dNX7kYZK-NqD8sbJMHDaBwFF36cz_jMUBRHWry8E,3375
 NEMO_billing/invoices/templates/invoices/invoices.html,sha256=feDg7XHBqw6cD4AFcO7CuUFhPrNG8LMO7sF1hvqvi04,12799
-NEMO_billing/invoices/templates/invoices/usage.html,sha256=g12bu9WfdP_ViH5r4pCSHicDOzdHFGi_BNvqdSBngZ8,13766
-NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_message.html,sha256=Ae3T7dn2Bow-Fyhm4qJpaGnTmFXhfI9I6FwnNIhSNYs,1274
-NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_subject.txt,sha256=B6Qch-uKedCcN7DEUtSub1qCmn-AStVrr433FUg8gLU,173
+NEMO_billing/invoices/templates/invoices/usage.html,sha256=AjLrwVEt8EnusNCsxqJ8CuCx4rU_PIjlyvjwqzai9_c,14043
+NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_message.html,sha256=CqX4uFcmGbjP1ufkQaumvgmrqEmyaPa_n3f_JPWpBB0,2024
+NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_subject.txt,sha256=ICFWe5LH0HOcF_BAo787st5QjfAkGM0vwVre5jvXjrk,302
 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_message.html,sha256=qxtmOrntin7s--ejgi0-ZExhMNtlFH5Ug9FDN8HlG1M,1330
 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_reminder_message.html,sha256=-7pEuk2HGcyKWrQVUq2g-rOJSijl5kHH0qVxy5RhDsU,1344
 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_reminder_subject.txt,sha256=CppgdsErLEDyGWDSiupNBwDwYkcQ2yWGHDZIHbZLk84,155
 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_subject.txt,sha256=sqKu9kb_nGdwlwaaFtA_1SrlkDToiQC6DwVpMr79DuA,155
 NEMO_billing/invoices/templates/invoices/project/edit_project.html,sha256=_-kozGWvgJvIZAEDyhI-8ZbcJ1cWmus5PdXVKBO6TLQ,15358
 NEMO_billing/invoices/templates/invoices/project/view_project_additional_info.html,sha256=4Xn4EoEJd15QcH5M_rJ8nr22eUkvyUnPLdMphCWhYJQ,3668
 NEMO_billing/invoices/views/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/invoices/views/invoices.py,sha256=F3MvJwiXr4x13AOakuVZlD2xd-jIix_wryAGsqLfqHo,19159
-NEMO_billing/invoices/views/project.py,sha256=tqsU5S49zodHkwBWGbB6ITKT94im7V-VTWTJdaWO5xg,6861
-NEMO_billing/invoices/views/usage.py,sha256=v83ygoTFeyMTPZBzDGd25DgoE5d58QSMwYYSFoY7Hq4,10791
+NEMO_billing/invoices/views/project.py,sha256=PdPAq6Ce3AkbWr1kcjvDCInH8B5pffCj6QEObsngs6U,7175
+NEMO_billing/invoices/views/usage.py,sha256=3nH3sQnLQ83VKdUFNeDY4U3OiO60fg9XRJot4g-w13U,11031
 NEMO_billing/migrations/0001_initial.py,sha256=8mX99RBacUkx98feI1gk4ipAncSoGxqHn7uVTShlGM0,3156
 NEMO_billing/migrations/0002_version_1_2_0.py,sha256=L9gAAPwTIPJoVJFgRHvxukVBbJ24i38E7pGWUcPF1Tw,573
 NEMO_billing/migrations/0003_version_2_0_0.py,sha256=bthjpfKPie-Rn0-DFChbJAFTixJhdcWtcMRmeM1hra4,466
 NEMO_billing/migrations/0004_version_2_4_0.py,sha256=w9yF3G7SxpC8Jl7pQzXZr5GgxNWf7j1gFfZwWc8Bmuo,7722
 NEMO_billing/migrations/0005_version_2_5_6.py,sha256=ZTRx9bfrX-CtMJqJ4Lf9_01sKI-M_kE3TRw5K2VeVFQ,351
 NEMO_billing/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/prepayments/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/prepayments/admin.py,sha256=noo3QOVRC7iAMFto5IyYQsxPkVqxWgp5PP6ntpSRzHE,2843
 NEMO_billing/prepayments/api.py,sha256=iycJFhBLuAQcCXDC0j0dSCJ_QneNnh2jPS3fGZVXddk,1680
 NEMO_billing/prepayments/app_settings.py,sha256=o19SNbTs_CxC8qS3DeURjz8JTGAVXVIbGdANrpm75Qk,71
 NEMO_billing/prepayments/apps.py,sha256=7tZjsEtswtOj6g8UdDjXgo2yFzObYL4Gw2CG7MNPDY8,559
 NEMO_billing/prepayments/exceptions.py,sha256=GGPuuLWNuNaJy80Lo7E01A1zxJc1ar1bDuxCPLAy8w0,1876
 NEMO_billing/prepayments/models.py,sha256=MJpS0X4ljXIaAKHY8GLzZQs9YhFDkgkd6oFT9ZswaIE,17260
-NEMO_billing/prepayments/policy.py,sha256=hjs1FFxFq72d24rM90u4eL44g4S7gexypNJrqKiUopc,5159
-NEMO_billing/prepayments/urls.py,sha256=Tmlsjj4FfhU-uBX2dx1nLGOhIq5nsB_Pnuj2pvLFP9Y,462
+NEMO_billing/prepayments/policy.py,sha256=AWhiANYUxtWCsyOGcWxHTfwdO6STjiMfSa_rFqO7q60,5492
+NEMO_billing/prepayments/urls.py,sha256=iUiQ4LaTTHZMHWpyBeoj-v3v_w8dhaOZnVXhtgBwGCg,572
 NEMO_billing/prepayments/migrations/0001_initial.py,sha256=KLXLxa9hFghBCSR1ciXZ-7kW9WGAbsFWQW3YT1iKqIA,4314
 NEMO_billing/prepayments/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-NEMO_billing/prepayments/templates/prepayments/prepaid_project_status.html,sha256=1vMn2Y2FF0cC9xq_vatazc7Yg2xYJIEsG9YYVJHGgQM,5351
+NEMO_billing/prepayments/templates/prepayments/prepaid_project_status.html,sha256=ro9IwXKb9zGPCLwXX5CsRHoB6EXsR_r0p3aJ0faeaDw,1351
+NEMO_billing/prepayments/templates/prepayments/prepaid_project_status_table.html,sha256=o0-cIyKjC__JWECTABFzpvF9SATCTS4reD0OC8_xLp4,3963
 NEMO_billing/prepayments/views/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-NEMO_billing/prepayments/views/prepayments.py,sha256=4kVeuU2S9UmIPK9PbD19YC-LJn_QsTTyDqd4yw_8zro,2985
+NEMO_billing/prepayments/views/prepayments.py,sha256=IxlavVTHtQ1q546a35A2_MBdQJUakkUmUdrYtVzQJ6Q,3821
 NEMO_billing/rates/__init__.py,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
 NEMO_billing/rates/admin.py,sha256=PLyXJ4-y8kit8yLHbqawYz0g7dgg9Zkkn6f9qepcl3I,8271
 NEMO_billing/rates/api.py,sha256=cOycY3KCEY6DexNjxn0WQmVrBMQHviMqnTFzz7pE-qk,2318
 NEMO_billing/rates/app_settings.py,sha256=G5GkjK908YTclKp4Q74OD1LAck5ouKZgjpl3KyNmJZU,100
 NEMO_billing/rates/apps.py,sha256=Lnb7XBu8KU0YvS8rdxJRpCawkapBmEiHvUzwTsLhPcI,715
 NEMO_billing/rates/customization.py,sha256=DDlApUw8eW5uRFFh0-y1oxOvjWo9LqT_cjrxYD69P3E,520
 NEMO_billing/rates/model_diff.py,sha256=8IJZDf3694tpn3RAn0g2DyGXBjN0OSTLqpNTmWZtvKk,1913
@@ -125,26 +126,27 @@
 NEMO_billing/templates/billing/custom_charge.html,sha256=mLQX6GQtMaVbhKxqoepm-y-cokpDByaG_U5P-DNI58Q,8882
 NEMO_billing/templates/billing/custom_charges.html,sha256=isMdty7a1D576tjMQEDHE0wrnV68t8nFZbmN2WqJ2-M,2074
 NEMO_billing/templates/staff_charges/choose_project.html,sha256=dPh8PJKri4LNbtUDqmy3y34xJfvs6FRo3t5ZQT1gH-E,1259
 NEMO_billing/templates/staff_charges/new_custom_staff_charge.html,sha256=q73pThu5W7XNPMtPax3fg39qGnE_OPPcjes3R9kfc9c,1979
 NEMO_billing/templatetags/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/templatetags/billing_tags.py,sha256=OR-x57lClBU__1iYviKmTHPQVNqfqjlxTdLLSUrw3Pg,1013
 NEMO_billing/tests/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
+NEMO_billing/tests/test_project_expiration.py,sha256=_upvTjttDW0VR4glXJ4qbQtkXhEBhEVXKJhOHxLjH-w,2386
 NEMO_billing/tests/test_settings.py,sha256=2rjncQ_9NOKOT6HMUkznXVVWqCuNLFyCDSDTguSnE5U,3079
 NEMO_billing/tests/test_urls.py,sha256=ZT1Q-7KU38x5J5QdxFqWYaXCVj8SrhZQ0WzkFDVs7Q8,1472
 NEMO_billing/tests/test_utilities.py,sha256=NFDLpizSngSpJf-yNb-TnEX1HyNKgY8x1E29PL8tSWA,1094
 NEMO_billing/tests/cap/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/tests/cap/test_cap_discount.py,sha256=4NZbrPrihXBTw9085cmZGUfHuhihQkNcHnbndu7c9nI,19521
 NEMO_billing/tests/cap/test_cap_invoicing.py,sha256=4MJoAWvoULR6_At9VznqUBoSQvaarQxGHrQQxJO47kE,32811
 NEMO_billing/tests/cap/test_cap_utilities.py,sha256=Sn2-L9pzSrYDhAVEk2D3outwcgQhBBhSNqKbbbkrnr8,4271
 NEMO_billing/tests/prepayments/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/tests/prepayments/test_prepayments.py,sha256=QZh2B-5DwUGnKhEUasvTM-a9vrNVpDILJsmJsOIpWKI,14410
 NEMO_billing/tests/rates/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/tests/rates/test_rate_amount.py,sha256=ebFt4ewtTYgG43QMp8kMuwyuIRaBaK-A9UeqJqbiJGA,33260
 NEMO_billing/tests/rates/test_rate_time.py,sha256=HlFPppN2ArI2wtIOCiAbn4Vdi0soy0U0luKiw7v-Xek,20895
 NEMO_billing/tests/rates/test_rate_uniqueness.py,sha256=73HgpjHMVhjNVFQkET4LTmisI0sMbQXcbh6t1F2vH9Q,6164
 NEMO_billing/tests/rates/test_split_billables.py,sha256=BJxjVoiAG-85Ii731RoQ7d5iGzOIxk8lv4Vl46KAMnY,27008
-NEMO_billing-2.5.9.dist-info/LICENSE,sha256=wFCCmLGvBMU6-W_0h08WYEs3cFtVstutDmY5AzKppQc,1074
-NEMO_billing-2.5.9.dist-info/METADATA,sha256=oMq2Tzzc8_41xk7vHQ3l9OxnilrZA4-r-4T4OcB5ft0,5513
-NEMO_billing-2.5.9.dist-info/WHEEL,sha256=AtBG6SXL3KF_v0NxLf0ehyVOh0cold-JbJYXNGorC6Q,92
-NEMO_billing-2.5.9.dist-info/top_level.txt,sha256=oSVD1wly89TarvuLJtW0tkI41vVO_BaZ7EuxPtyp9qo,13
-NEMO_billing-2.5.9.dist-info/RECORD,,
+NEMO_billing-2.6.0.dist-info/LICENSE,sha256=wFCCmLGvBMU6-W_0h08WYEs3cFtVstutDmY5AzKppQc,1074
+NEMO_billing-2.6.0.dist-info/METADATA,sha256=mBE2GJN9wOkKSES2rKG2QHRqUyHtPQvC0CWt7qi-OA0,5507
+NEMO_billing-2.6.0.dist-info/WHEEL,sha256=5sUXSg9e4bi7lTLOHcm6QEYwO5TIF1TNbTSVFVjcJcc,92
+NEMO_billing-2.6.0.dist-info/top_level.txt,sha256=oSVD1wly89TarvuLJtW0tkI41vVO_BaZ7EuxPtyp9qo,13
+NEMO_billing-2.6.0.dist-info/RECORD,,
```

