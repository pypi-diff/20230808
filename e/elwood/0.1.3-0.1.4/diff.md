# Comparing `tmp/elwood-0.1.3-py2.py3-none-any.whl.zip` & `tmp/elwood-0.1.4-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,31 +1,32 @@
-Zip file size: 64340 bytes, number of entries: 29
--rw-rw-r--  2.0 unx      126 b- defN 23-Jul-18 16:28 elwood/__init__.py
+Zip file size: 67142 bytes, number of entries: 30
+-rw-rw-r--  2.0 unx      126 b- defN 23-Aug-07 23:52 elwood/__init__.py
 -rw-rw-r--  2.0 unx    18004 b- defN 23-May-03 18:37 elwood/cli.py
 -rw-rw-r--  2.0 unx      409 b- defN 23-Feb-16 15:03 elwood/constants.py
 -rw-rw-r--  2.0 unx     3042 b- defN 23-Mar-20 16:57 elwood/download.py
--rw-rw-r--  2.0 unx    10730 b- defN 23-Jul-18 16:28 elwood/elwood.py
+-rw-rw-r--  2.0 unx    13281 b- defN 23-Aug-07 23:49 elwood/elwood.py
 -rw-rw-r--  2.0 unx     4370 b- defN 23-Apr-24 20:00 elwood/feature_normalization.py
 -rw-rw-r--  2.0 unx      689 b- defN 23-Mar-31 16:42 elwood/feature_scaling.py
 -rw-rw-r--  2.0 unx    10050 b- defN 23-May-16 15:57 elwood/file_processor.py
 -rw-rw-r--  2.0 unx    12542 b- defN 23-Mar-20 16:57 elwood/geo_processor.py
 -rw-rw-r--  2.0 unx    24705 b- defN 23-Mar-20 16:57 elwood/normalizer.py
 -rw-rw-r--  2.0 unx    24648 b- defN 23-May-03 18:37 elwood/standardizer.py
 -rw-rw-r--  2.0 unx     2313 b- defN 23-Mar-20 16:57 elwood/time_helpers.py
 -rw-rw-r--  2.0 unx    11711 b- defN 23-May-03 18:37 elwood/time_processor.py
--rw-rw-r--  2.0 unx     1688 b- defN 23-Jun-27 17:01 elwood/utils.py
+-rw-rw-r--  2.0 unx     1688 b- defN 23-Jul-25 16:02 elwood/utils.py
 -rw-rw-r--  2.0 unx     4602 b- defN 23-Feb-15 22:42 elwood/data/iso_lookup.csv
 -rw-rw-r--  2.0 unx        0 b- defN 23-Feb-16 15:03 elwood/transformations/__init__.py
--rw-rw-r--  2.0 unx     2029 b- defN 23-Jul-18 16:28 elwood/transformations/clipping.py
--rw-rw-r--  2.0 unx      462 b- defN 23-Jul-18 16:28 elwood/transformations/geo_utils.py
+-rw-rw-r--  2.0 unx     2029 b- defN 23-Jul-25 16:02 elwood/transformations/clipping.py
+-rw-rw-r--  2.0 unx      462 b- defN 23-Jul-25 16:02 elwood/transformations/geo_utils.py
 -rw-rw-r--  2.0 unx    16372 b- defN 23-Apr-19 20:19 elwood/transformations/outlier_scaling.py
--rw-rw-r--  2.0 unx     2903 b- defN 23-Jul-18 16:28 elwood/transformations/regridding.py
--rw-rw-r--  2.0 unx     1929 b- defN 23-Jul-18 16:28 elwood/transformations/scaling.py
+-rw-rw-r--  2.0 unx     2903 b- defN 23-Aug-07 23:49 elwood/transformations/regridding.py
+-rw-rw-r--  2.0 unx     1929 b- defN 23-Jul-25 16:02 elwood/transformations/scaling.py
 -rw-rw-r--  2.0 unx      141 b- defN 23-Feb-17 18:00 elwood/transformations/temporal_utils.py
--rw-rw-r--  2.0 unx      123 b- defN 23-Jul-18 16:29 elwood-0.1.3.dist-info/AUTHORS.md
--rw-rw-r--  2.0 unx    35149 b- defN 23-Jul-18 16:29 elwood-0.1.3.dist-info/LICENSE
--rw-rw-r--  2.0 unx     5837 b- defN 23-Jul-18 16:29 elwood-0.1.3.dist-info/METADATA
--rw-rw-r--  2.0 unx      110 b- defN 23-Jul-18 16:29 elwood-0.1.3.dist-info/WHEEL
--rw-rw-r--  2.0 unx       43 b- defN 23-Jul-18 16:29 elwood-0.1.3.dist-info/entry_points.txt
--rw-rw-r--  2.0 unx        7 b- defN 23-Jul-18 16:29 elwood-0.1.3.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2388 b- defN 23-Jul-18 16:29 elwood-0.1.3.dist-info/RECORD
-29 files, 197122 bytes uncompressed, 60524 bytes compressed:  69.3%
+-rw-rw-r--  2.0 unx     6059 b- defN 23-Aug-07 22:15 elwood/transformations/test.py
+-rw-rw-r--  2.0 unx      123 b- defN 23-Aug-07 23:52 elwood-0.1.4.dist-info/AUTHORS.md
+-rw-rw-r--  2.0 unx    35149 b- defN 23-Aug-07 23:52 elwood-0.1.4.dist-info/LICENSE
+-rw-rw-r--  2.0 unx     5932 b- defN 23-Aug-07 23:52 elwood-0.1.4.dist-info/METADATA
+-rw-rw-r--  2.0 unx      110 b- defN 23-Aug-07 23:52 elwood-0.1.4.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       43 b- defN 23-Aug-07 23:52 elwood-0.1.4.dist-info/entry_points.txt
+-rw-rw-r--  2.0 unx        7 b- defN 23-Aug-07 23:52 elwood-0.1.4.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     2475 b- defN 23-Aug-07 23:52 elwood-0.1.4.dist-info/RECORD
+30 files, 205914 bytes uncompressed, 63190 bytes compressed:  69.3%
```

## zipnote {}

```diff
@@ -60,29 +60,32 @@
 
 Filename: elwood/transformations/scaling.py
 Comment: 
 
 Filename: elwood/transformations/temporal_utils.py
 Comment: 
 
-Filename: elwood-0.1.3.dist-info/AUTHORS.md
+Filename: elwood/transformations/test.py
 Comment: 
 
-Filename: elwood-0.1.3.dist-info/LICENSE
+Filename: elwood-0.1.4.dist-info/AUTHORS.md
 Comment: 
 
-Filename: elwood-0.1.3.dist-info/METADATA
+Filename: elwood-0.1.4.dist-info/LICENSE
 Comment: 
 
-Filename: elwood-0.1.3.dist-info/WHEEL
+Filename: elwood-0.1.4.dist-info/METADATA
 Comment: 
 
-Filename: elwood-0.1.3.dist-info/entry_points.txt
+Filename: elwood-0.1.4.dist-info/WHEEL
 Comment: 
 
-Filename: elwood-0.1.3.dist-info/top_level.txt
+Filename: elwood-0.1.4.dist-info/entry_points.txt
 Comment: 
 
-Filename: elwood-0.1.3.dist-info/RECORD
+Filename: elwood-0.1.4.dist-info/top_level.txt
+Comment: 
+
+Filename: elwood-0.1.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## elwood/__init__.py

```diff
@@ -1,5 +1,5 @@
 """Top-level package for elwood."""
 
 __author__ = """Brandon Rose"""
 __email__ = "brandon@jataware.com"
-__version__ = "0.1.3"
+__version__ = "0.1.4"
```

## elwood/elwood.py

```diff
@@ -1,44 +1,82 @@
 """Main module."""
 import json
-import logging
+import click
 import os
 import sys
 
 import geofeather as gf
 import numpy as np
 import pandas as pd
 
 from . import constants
+from .feature_normalization import robust_normalization, zero_to_one_normalization
 from .file_processor import (
+    netcdf2df_processor,
     process_file_by_filetype,
     raster2df_processor,
-    netcdf2df_processor,
 )
 from .standardizer import standardizer
-from .feature_normalization import zero_to_one_normalization, robust_normalization
-from .transformations.clipping import construct_multipolygon, clip_dataframe, clip_time
-from .transformations.scaling import scale_time
-from .transformations.regridding import regrid_dataframe
+from .transformations.clipping import clip_dataframe, clip_time, construct_multipolygon
 from .transformations.geo_utils import calculate_boundary_box
+from .transformations.regridding import regrid_dataframe
+from .transformations.scaling import scale_time
 from .transformations.temporal_utils import calculate_temporal_boundary
+from .utils import gadm_fuzzy_match
 
 if not sys.warnoptions:
     import warnings
 
     warnings.simplefilter("ignore")
 
-logger = logging.getLogger(__name__)
-
 
 # Standardization processor
 
 
+def dict_get(nested, path, fallback=None):
+    """
+    Receives a nested dictionary and a string describing a dictionary path,
+    and returns the corresponding value.
+    [Optional]`fallback` if path doesn't exists, defaults to None.
+    `path`: str describing the nested dictionary deep path.
+            Each key in the path is separated by a dot ('.').
+            eg for {'a': {'b': {'c': 42}}}, `path` 'a.b.c' returns 42.
+    """
+
+    if not type(nested) == dict:
+        return fallback
+
+    keys = path.split('.')
+    value = nested
+    try:
+        for key in keys:
+            value = value[key]
+        return value
+    except (KeyError, TypeError):
+        return fallback
+
+
+def get_only_key(my_dict, path):
+    """
+    Given a dict and a path, returns the only key if my_dict:
+    - is a dict
+    - only contains one key
+
+    else returns None
+
+    """
+    if not len(dict_get(my_dict, path, {})) == 1:
+        return None
+
+    return list(dict_get(my_dict, path).keys())[0]
+
+
 def process(
-    fp: str, mp: str, admin: str, output_file: str, write_output=True, gadm=None
+    fp: str, mp: str, admin: str,
+    output_file: str, write_output=True, gadm=None, overrides=None
 ):
     """
     Parameters
     ----------
     mp: str
         Filename for JSON mapper from spacetag.
         Schema: https://github.com/jataware/spacetag/blob/schema/schema.py
@@ -83,14 +121,22 @@
 
     # Normalizer will add NaN for missing values, e.g. when appending
     # dataframes with different columns. GADM will return None when geocoding
     # but not finding the entity (e.g. admin3 for United States).
     # Replace None with NaN for consistency.
     norm.fillna(value=np.nan, inplace=True)
 
+    # GADM Resolver - Apply manual user overrides to hardcoded countries for now.
+    if dict_get(overrides, "gadm"):
+        field_name = get_only_key(overrides, "gadm")
+        field_overrides = dict_get(overrides, f"gadm.{field_name}")
+        if field_overrides:
+            click.echo(f"Applying GADM country overrides provided by user:\n{overrides}")
+            norm["country"] = norm["country"].replace(field_overrides)
+
     if write_output:
         # If any qualify columns were added, the feature_type must be enforced
         # here because pandas will have cast strings as ints etc.
         qualify_cols = set(norm.columns).difference(set(constants.COL_ORDER))
         for col in qualify_cols:
             for feature_dict in mapper["feature"]:
                 if (
@@ -309,7 +355,47 @@
     floats = df.select_dtypes(include=["float64"]).columns.tolist()
     df[floats] = df[floats].apply(pd.to_numeric, downcast="float")
 
     ints = df.select_dtypes(include=["int64"]).columns.tolist()
     df[ints] = df[ints].apply(pd.to_numeric, downcast="integer")
 
     return df
+
+
+def get_gadm_matches(dataframe, geo_column, admin_level):
+    # Get geofeather object
+    cdir = os.path.expanduser("~")
+    download_data_folder = f"{cdir}/elwood_data"
+    gadm_fn = f"gadm36_2.feather"
+    gadmDir = f"{download_data_folder}/{gadm_fn}"
+    gadm = gf.from_geofeather(gadmDir)
+
+    gadm["country"] = gadm["NAME_0"]
+    gadm["state"] = gadm["NAME_1"]
+    gadm["admin1"] = gadm["NAME_1"]
+    gadm["admin2"] = gadm["NAME_2"]
+
+    # Run match
+    matches_object = gadm_fuzzy_match(dataframe, geo_column, gadm, admin_level)
+
+    # Add in dataframe column
+    matches_object["field"] = geo_column
+
+    print(matches_object)
+
+    return matches_object
+
+
+def gadm_list_all(admin_level):
+    # Get geofeather object
+    cdir = os.path.expanduser("~")
+    download_data_folder = f"{cdir}/elwood_data"
+    gadm_fn = f"gadm36_2.feather"
+    gadmDir = f"{download_data_folder}/{gadm_fn}"
+    gadm = gf.from_geofeather(gadmDir)
+
+    gadm["country"] = gadm["NAME_0"]
+    gadm["state"] = gadm["NAME_1"]
+    gadm["admin1"] = gadm["NAME_1"]
+    gadm["admin2"] = gadm["NAME_2"]
+
+    return gadm[admin_level].unique()
```

## Comparing `elwood-0.1.3.dist-info/LICENSE` & `elwood-0.1.4.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `elwood-0.1.3.dist-info/METADATA` & `elwood-0.1.4.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: elwood
-Version: 0.1.3
+Version: 0.1.4
 Summary: An open source dataset transformation, standardization, and normalization python library.
 Home-page: https://github.com/jataware/elwood
 Author: Brandon Rose, Powell Fendley
 Author-email: info@jataware.com
 License: MIT license
 Keywords: elwood
 Platform: UNKNOWN
@@ -122,15 +122,18 @@
 This function expects a dataframe with a "feature" column and a "value" column, or long data. Each entry for a feature has its own feature/value row.
 This function returns a dataframe in which all numerical values under the "value" column for each "feature" have been 0 to 1 scaled.
 Optionally you may specify an `output_file` name to generate a parquet file of the dataframe.
 
 
 # History
 
-0.1.3
+0.1.4
+Added new regridding functionality, updated existing numpy and pandas based regridding.
+
+0.1.4
 
 0.1.2
 
 0.1.1
 
 0.1.0
```

## Comparing `elwood-0.1.3.dist-info/RECORD` & `elwood-0.1.4.dist-info/RECORD`

 * *Files 11% similar despite different names*

```diff
@@ -1,12 +1,12 @@
-elwood/__init__.py,sha256=M1f-09dZ6k6nN0ZoH78_GrzQsYhOOu70mbkl_nPR0YU,126
+elwood/__init__.py,sha256=KWDu6y6k4IIOe-aCF0l1mrgq9GRFDi3km59AWluQC3o,126
 elwood/cli.py,sha256=DddheI7ROE63sX1lWDnBE8nftlSul3R8LceADKZ0JvE,18004
 elwood/constants.py,sha256=ZthYZ6NWPGrBpsHuVgYTY4CfGW5TDY7woUiuuGVNAvw,409
 elwood/download.py,sha256=E0oI7P3rR5nt7TYN00TnJmtgCalGiuJS1TPn4F4qX3A,3042
-elwood/elwood.py,sha256=TqeqfCCncc5bkofuuDfGpy6clR3U0u44P_ok3-67K7c,10730
+elwood/elwood.py,sha256=dE8_QL5Dt_kNu5qvlF1Hoaft4E0jSIpHnOQ76HmBPG0,13281
 elwood/feature_normalization.py,sha256=-nj1PzS4_oqg1QHGmF3O-pwQJYw9OGwpkm3L6uWOKEY,4370
 elwood/feature_scaling.py,sha256=gZaWWJ9n69tMw8fX7AAd5-FLc4uyYYaK-2tsQDkxYiI,689
 elwood/file_processor.py,sha256=Ix371yYemNEX9zZv2Lc9Lftwql1oGUBWNFno8QGT_N0,10050
 elwood/geo_processor.py,sha256=a0P90yBmrNwAq_JiDZbyyW8pihVjNUCO2C4kpapf62s,12542
 elwood/normalizer.py,sha256=cFM4B4-J5tg0aykdm_lSlyR5BQDKbB2rMrDsxsEg5JQ,24705
 elwood/standardizer.py,sha256=XKL9gtiwIpMngFdxzT8MK4G8BE7AAYPj3G6D-QpbzQQ,24648
 elwood/time_helpers.py,sha256=MX55zyBRggJ-lcVAhDRM-1HrfiaBeQXFt6D86dz0v9c,2313
@@ -16,14 +16,15 @@
 elwood/transformations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 elwood/transformations/clipping.py,sha256=fzif6Z8Ee1o6DH4KtiF4gM8cFGSdsuqTDpQ9alMLZjg,2029
 elwood/transformations/geo_utils.py,sha256=ZdUnpHZU5WpPT8T3SNUJM7jfTeazsAzsD57WK3-TqlM,462
 elwood/transformations/outlier_scaling.py,sha256=O_K57Xx-eqOVC2MHr1h3E-QpyK70QRumPVmoPLtMtjI,16372
 elwood/transformations/regridding.py,sha256=wTX5S53dR4QAFvSTICXISIEP1uPDucZLQhpegDyDz0Y,2903
 elwood/transformations/scaling.py,sha256=VqzTnaGlrrorttVcQk-Cr9Tg-4VJGuoJ89ynv7yk1Jk,1929
 elwood/transformations/temporal_utils.py,sha256=CxT29J3GfK4h6onFlNphojBP_IA9nL5G3c1r9Vh8QDE,141
-elwood-0.1.3.dist-info/AUTHORS.md,sha256=_nf9LY5n7wib7wT7oPRZqxRil0STaMq7JcvAwTph7tI,123
-elwood-0.1.3.dist-info/LICENSE,sha256=OXLcl0T2SZ8Pmy2_dmlvKuetivmyPd5m1q-Gyd-zaYY,35149
-elwood-0.1.3.dist-info/METADATA,sha256=QfYYYqMflfBKUSypEiqy4OMipPQ6Ma9wpfyOcjdKtEE,5837
-elwood-0.1.3.dist-info/WHEEL,sha256=8zNYZbwQSXoB9IfXOjPfeNwvAsALAjffgk27FqvCWbo,110
-elwood-0.1.3.dist-info/entry_points.txt,sha256=TzJi2WjTTVW62q1YxjU0wNUn9F3QbPILW6A8VRe9Xes,43
-elwood-0.1.3.dist-info/top_level.txt,sha256=MKkVgr_DJlxlN-IlwnW98ogymP3HYNUDq7_aK-pftXg,7
-elwood-0.1.3.dist-info/RECORD,,
+elwood/transformations/test.py,sha256=kffJG5vdGsWxyGjlKpdIPKv5UgUZybJ6xlp3qa0Lu_s,6059
+elwood-0.1.4.dist-info/AUTHORS.md,sha256=_nf9LY5n7wib7wT7oPRZqxRil0STaMq7JcvAwTph7tI,123
+elwood-0.1.4.dist-info/LICENSE,sha256=OXLcl0T2SZ8Pmy2_dmlvKuetivmyPd5m1q-Gyd-zaYY,35149
+elwood-0.1.4.dist-info/METADATA,sha256=pmMyWA3niw2Fg7W2qtdTDTGMP3ZnBUyKLN5hK0gGbi8,5932
+elwood-0.1.4.dist-info/WHEEL,sha256=8zNYZbwQSXoB9IfXOjPfeNwvAsALAjffgk27FqvCWbo,110
+elwood-0.1.4.dist-info/entry_points.txt,sha256=TzJi2WjTTVW62q1YxjU0wNUn9F3QbPILW6A8VRe9Xes,43
+elwood-0.1.4.dist-info/top_level.txt,sha256=MKkVgr_DJlxlN-IlwnW98ogymP3HYNUDq7_aK-pftXg,7
+elwood-0.1.4.dist-info/RECORD,,
```

