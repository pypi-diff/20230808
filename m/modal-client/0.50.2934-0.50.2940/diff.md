# Comparing `tmp/modal_client-0.50.2934-py3-none-any.whl.zip` & `tmp/modal_client-0.50.2940-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,175 +1,175 @@
-Zip file size: 284220 bytes, number of entries: 173
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 11:57 client_test/__init__.py
--rw-r--r--  2.0 unx      392 b- defN 23-Aug-08 11:57 client_test/aio_test.py
--rw-r--r--  2.0 unx     5409 b- defN 23-Aug-08 11:57 client_test/async_utils_test.py
--rw-r--r--  2.0 unx     1474 b- defN 23-Aug-08 11:57 client_test/blob_test.py
--rw-r--r--  2.0 unx     3979 b- defN 23-Aug-08 11:57 client_test/cli_imports_test.py
--rw-r--r--  2.0 unx    17970 b- defN 23-Aug-08 11:57 client_test/cli_test.py
--rw-r--r--  2.0 unx     4768 b- defN 23-Aug-08 11:57 client_test/client_test.py
--rw-r--r--  2.0 unx     4877 b- defN 23-Aug-08 11:57 client_test/cls_test.py
--rw-r--r--  2.0 unx     2622 b- defN 23-Aug-08 11:57 client_test/config_test.py
--rw-r--r--  2.0 unx    34296 b- defN 23-Aug-08 11:57 client_test/conftest.py
--rw-r--r--  2.0 unx     4230 b- defN 23-Aug-08 11:57 client_test/container_app_test.py
--rw-r--r--  2.0 unx    25162 b- defN 23-Aug-08 11:57 client_test/container_test.py
--rw-r--r--  2.0 unx      405 b- defN 23-Aug-08 11:57 client_test/cpu_test.py
--rw-r--r--  2.0 unx     1086 b- defN 23-Aug-08 11:57 client_test/deprecation_test.py
--rw-r--r--  2.0 unx      475 b- defN 23-Aug-08 11:57 client_test/dict_test.py
--rw-r--r--  2.0 unx     2182 b- defN 23-Aug-08 11:57 client_test/e2e_test.py
--rw-r--r--  2.0 unx      165 b- defN 23-Aug-08 11:57 client_test/error_test.py
--rw-r--r--  2.0 unx      964 b- defN 23-Aug-08 11:57 client_test/function_serialization_test.py
--rw-r--r--  2.0 unx    18374 b- defN 23-Aug-08 11:57 client_test/function_test.py
--rw-r--r--  2.0 unx     3914 b- defN 23-Aug-08 11:57 client_test/gpu_test.py
--rw-r--r--  2.0 unx     5047 b- defN 23-Aug-08 11:57 client_test/grpc_utils_test.py
--rw-r--r--  2.0 unx      930 b- defN 23-Aug-08 11:57 client_test/helpers.py
--rw-r--r--  2.0 unx    16236 b- defN 23-Aug-08 11:57 client_test/image_test.py
--rw-r--r--  2.0 unx     2357 b- defN 23-Aug-08 11:57 client_test/live_reload_test.py
--rw-r--r--  2.0 unx     2577 b- defN 23-Aug-08 11:57 client_test/lookup_test.py
--rw-r--r--  2.0 unx     5339 b- defN 23-Aug-08 11:57 client_test/mount_test.py
--rw-r--r--  2.0 unx     6240 b- defN 23-Aug-08 11:57 client_test/mounted_files_test.py
--rw-r--r--  2.0 unx     5937 b- defN 23-Aug-08 11:57 client_test/network_file_system_test.py
--rw-r--r--  2.0 unx     2157 b- defN 23-Aug-08 11:57 client_test/notebook_test.py
--rw-r--r--  2.0 unx     1429 b- defN 23-Aug-08 11:57 client_test/object_test.py
--rw-r--r--  2.0 unx      413 b- defN 23-Aug-08 11:57 client_test/package_utils_test.py
--rw-r--r--  2.0 unx      528 b- defN 23-Aug-08 11:57 client_test/queue_test.py
--rw-r--r--  2.0 unx     1790 b- defN 23-Aug-08 11:57 client_test/resolver_test.py
--rw-r--r--  2.0 unx     1807 b- defN 23-Aug-08 11:57 client_test/retries_test.py
--rw-r--r--  2.0 unx     2427 b- defN 23-Aug-08 11:57 client_test/runner_test.py
--rw-r--r--  2.0 unx     1616 b- defN 23-Aug-08 11:57 client_test/sandbox_test.py
--rw-r--r--  2.0 unx      359 b- defN 23-Aug-08 11:57 client_test/schedule_test.py
--rw-r--r--  2.0 unx     1185 b- defN 23-Aug-08 11:57 client_test/secret_test.py
--rw-r--r--  2.0 unx     1124 b- defN 23-Aug-08 11:57 client_test/serialization_test.py
--rw-r--r--  2.0 unx     8091 b- defN 23-Aug-08 11:57 client_test/stub_test.py
--rw-r--r--  2.0 unx     2690 b- defN 23-Aug-08 11:57 client_test/utils_test.py
--rw-r--r--  2.0 unx      410 b- defN 23-Aug-08 11:57 client_test/version_test.py
--rw-r--r--  2.0 unx     3195 b- defN 23-Aug-08 11:57 client_test/volume_test.py
--rw-r--r--  2.0 unx     1160 b- defN 23-Aug-08 11:57 client_test/watcher_test.py
--rw-r--r--  2.0 unx     3888 b- defN 23-Aug-08 11:57 client_test/webhook_test.py
--rw-r--r--  2.0 unx     1159 b- defN 23-Aug-08 11:57 modal/__init__.py
--rw-r--r--  2.0 unx      157 b- defN 23-Aug-08 11:57 modal/__main__.py
--rw-r--r--  2.0 unx     2135 b- defN 23-Aug-08 11:57 modal/_asgi.py
--rw-r--r--  2.0 unx    13413 b- defN 23-Aug-08 11:57 modal/_blob_utils.py
--rw-r--r--  2.0 unx    26589 b- defN 23-Aug-08 11:57 modal/_container_entrypoint.py
--rw-r--r--  2.0 unx    11041 b- defN 23-Aug-08 11:57 modal/_function_utils.py
--rw-r--r--  2.0 unx      450 b- defN 23-Aug-08 11:57 modal/_ipython.py
--rw-r--r--  2.0 unx      929 b- defN 23-Aug-08 11:57 modal/_location.py
--rw-r--r--  2.0 unx    17814 b- defN 23-Aug-08 11:57 modal/_output.py
--rw-r--r--  2.0 unx     1785 b- defN 23-Aug-08 11:57 modal/_proxy_tunnel.py
--rw-r--r--  2.0 unx     5267 b- defN 23-Aug-08 11:57 modal/_pty.py
--rw-r--r--  2.0 unx     5804 b- defN 23-Aug-08 11:57 modal/_resolver.py
--rw-r--r--  2.0 unx     1892 b- defN 23-Aug-08 11:57 modal/_serialization.py
--rw-r--r--  2.0 unx     7598 b- defN 23-Aug-08 11:57 modal/_traceback.py
--rw-r--r--  2.0 unx     1995 b- defN 23-Aug-08 11:57 modal/_tracing.py
--rw-r--r--  2.0 unx      490 b- defN 23-Aug-08 11:57 modal/_types.py
--rw-r--r--  2.0 unx     3408 b- defN 23-Aug-08 11:57 modal/_watcher.py
--rw-r--r--  2.0 unx      702 b- defN 23-Aug-08 11:57 modal/aio.py
--rw-r--r--  2.0 unx    13768 b- defN 23-Aug-08 11:57 modal/app.py
--rw-r--r--  2.0 unx     8062 b- defN 23-Aug-08 11:57 modal/app.pyi
--rw-r--r--  2.0 unx     2462 b- defN 23-Aug-08 11:57 modal/call_graph.py
--rw-r--r--  2.0 unx     9478 b- defN 23-Aug-08 11:57 modal/client.py
--rw-r--r--  2.0 unx     3966 b- defN 23-Aug-08 11:57 modal/client.pyi
--rw-r--r--  2.0 unx     1963 b- defN 23-Aug-08 11:57 modal/cls.py
--rw-r--r--  2.0 unx     7224 b- defN 23-Aug-08 11:57 modal/config.py
--rw-r--r--  2.0 unx     6463 b- defN 23-Aug-08 11:57 modal/dict.py
--rw-r--r--  2.0 unx     4028 b- defN 23-Aug-08 11:57 modal/dict.pyi
--rw-r--r--  2.0 unx     2189 b- defN 23-Aug-08 11:57 modal/environments.py
--rw-r--r--  2.0 unx     1195 b- defN 23-Aug-08 11:57 modal/environments.pyi
--rw-r--r--  2.0 unx     2750 b- defN 23-Aug-08 11:57 modal/exception.py
--rw-r--r--  2.0 unx    64613 b- defN 23-Aug-08 11:57 modal/functions.py
--rw-r--r--  2.0 unx    20358 b- defN 23-Aug-08 11:57 modal/functions.pyi
--rw-r--r--  2.0 unx     4858 b- defN 23-Aug-08 11:57 modal/gpu.py
--rw-r--r--  2.0 unx    49420 b- defN 23-Aug-08 11:57 modal/image.py
--rw-r--r--  2.0 unx    15110 b- defN 23-Aug-08 11:57 modal/image.pyi
--rw-r--r--  2.0 unx    15521 b- defN 23-Aug-08 11:57 modal/mount.py
--rw-r--r--  2.0 unx     6034 b- defN 23-Aug-08 11:57 modal/mount.pyi
--rw-r--r--  2.0 unx    11140 b- defN 23-Aug-08 11:57 modal/network_file_system.py
--rw-r--r--  2.0 unx     6993 b- defN 23-Aug-08 11:57 modal/network_file_system.pyi
--rw-r--r--  2.0 unx    15171 b- defN 23-Aug-08 11:57 modal/object.py
--rw-r--r--  2.0 unx    10325 b- defN 23-Aug-08 11:57 modal/object.pyi
--rw-r--r--  2.0 unx      627 b- defN 23-Aug-08 11:57 modal/proxy.py
--rw-r--r--  2.0 unx      269 b- defN 23-Aug-08 11:57 modal/proxy.pyi
--rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 11:57 modal/py.typed
--rw-r--r--  2.0 unx     5646 b- defN 23-Aug-08 11:57 modal/queue.py
--rw-r--r--  2.0 unx     3027 b- defN 23-Aug-08 11:57 modal/queue.pyi
--rw-r--r--  2.0 unx      502 b- defN 23-Aug-08 11:57 modal/requirements.txt
--rw-r--r--  2.0 unx     3730 b- defN 23-Aug-08 11:57 modal/retries.py
--rw-r--r--  2.0 unx     9446 b- defN 23-Aug-08 11:57 modal/runner.py
--rw-r--r--  2.0 unx     6202 b- defN 23-Aug-08 11:57 modal/sandbox.py
--rw-r--r--  2.0 unx     2906 b- defN 23-Aug-08 11:57 modal/sandbox.pyi
--rw-r--r--  2.0 unx     2619 b- defN 23-Aug-08 11:57 modal/schedule.py
--rw-r--r--  2.0 unx     5065 b- defN 23-Aug-08 11:57 modal/secret.py
--rw-r--r--  2.0 unx      720 b- defN 23-Aug-08 11:57 modal/secret.pyi
--rw-r--r--  2.0 unx     4717 b- defN 23-Aug-08 11:57 modal/serving.py
--rw-r--r--  2.0 unx     1242 b- defN 23-Aug-08 11:57 modal/shared_volume.py
--rw-r--r--  2.0 unx    25098 b- defN 23-Aug-08 11:57 modal/stub.py
--rw-r--r--  2.0 unx    12043 b- defN 23-Aug-08 11:57 modal/stub.pyi
--rw-r--r--  2.0 unx     7566 b- defN 23-Aug-08 11:57 modal/volume.py
--rw-r--r--  2.0 unx     3787 b- defN 23-Aug-08 11:57 modal/volume.pyi
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 11:57 modal/cli/__init__.py
--rw-r--r--  2.0 unx     1709 b- defN 23-Aug-08 11:57 modal/cli/_shared_volume.py
--rw-r--r--  2.0 unx     3057 b- defN 23-Aug-08 11:57 modal/cli/app.py
--rw-r--r--  2.0 unx     1360 b- defN 23-Aug-08 11:57 modal/cli/config.py
--rw-r--r--  2.0 unx     2039 b- defN 23-Aug-08 11:57 modal/cli/entry_point.py
--rw-r--r--  2.0 unx     3413 b- defN 23-Aug-08 11:57 modal/cli/environment.py
--rw-r--r--  2.0 unx    10471 b- defN 23-Aug-08 11:57 modal/cli/import_refs.py
--rw-r--r--  2.0 unx    10280 b- defN 23-Aug-08 11:57 modal/cli/network_file_system.py
--rw-r--r--  2.0 unx      760 b- defN 23-Aug-08 11:57 modal/cli/profile.py
--rw-r--r--  2.0 unx     9567 b- defN 23-Aug-08 11:57 modal/cli/run.py
--rw-r--r--  2.0 unx     4029 b- defN 23-Aug-08 11:57 modal/cli/secret.py
--rw-r--r--  2.0 unx     3121 b- defN 23-Aug-08 11:57 modal/cli/token.py
--rw-r--r--  2.0 unx     1889 b- defN 23-Aug-08 11:57 modal/cli/utils.py
--rw-r--r--  2.0 unx     2859 b- defN 23-Aug-08 11:57 modal/cli/volume.py
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 11:57 modal/extensions/__init__.py
--rw-r--r--  2.0 unx      987 b- defN 23-Aug-08 11:57 modal/extensions/ipython.py
--rw-r--r--  2.0 unx     6220 b- defN 23-Aug-08 11:57 modal/extensions/pymc.py
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 11:57 modal_base_images/__init__.py
--rw-r--r--  2.0 unx      730 b- defN 23-Aug-08 11:57 modal_base_images/client_mount.py
--rw-r--r--  2.0 unx      324 b- defN 23-Aug-08 11:57 modal_base_images/conda.py
--rw-r--r--  2.0 unx      330 b- defN 23-Aug-08 11:57 modal_base_images/debian_slim.py
--rw-r--r--  2.0 unx      329 b- defN 23-Aug-08 11:57 modal_base_images/micromamba.py
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 11:57 modal_proto/__init__.py
--rw-r--r--  2.0 unx    32918 b- defN 23-Aug-08 11:57 modal_proto/api.proto
--rw-r--r--  2.0 unx    55111 b- defN 23-Aug-08 11:57 modal_proto/api_grpc.py
--rw-r--r--  2.0 unx   138479 b- defN 23-Aug-08 11:57 modal_proto/api_pb2.py
--rw-r--r--  2.0 unx   119140 b- defN 23-Aug-08 11:57 modal_proto/api_pb2_grpc.py
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 11:57 modal_test_support/__init__.py
--rw-r--r--  2.0 unx      134 b- defN 23-Aug-08 11:57 modal_test_support/assert_package.py
--rw-r--r--  2.0 unx      171 b- defN 23-Aug-08 11:57 modal_test_support/consumed_map.py
--rw-r--r--  2.0 unx     3013 b- defN 23-Aug-08 11:57 modal_test_support/functions.py
--rw-r--r--  2.0 unx      183 b- defN 23-Aug-08 11:57 modal_test_support/hello.py
--rw-r--r--  2.0 unx      266 b- defN 23-Aug-08 11:57 modal_test_support/image_run_function.py
--rw-r--r--  2.0 unx      180 b- defN 23-Aug-08 11:57 modal_test_support/is_inside.py
--rw-r--r--  2.0 unx      187 b- defN 23-Aug-08 11:57 modal_test_support/missing_main_conditional.py
--rw-r--r--  2.0 unx       59 b- defN 23-Aug-08 11:57 modal_test_support/module_1.py
--rw-r--r--  2.0 unx       59 b- defN 23-Aug-08 11:57 modal_test_support/module_2.py
--rw-r--r--  2.0 unx      276 b- defN 23-Aug-08 11:57 modal_test_support/multistub.py
--rw-r--r--  2.0 unx      228 b- defN 23-Aug-08 11:57 modal_test_support/multistub_is_inside.py
--rw-r--r--  2.0 unx      222 b- defN 23-Aug-08 11:57 modal_test_support/multistub_is_inside_warning.py
--rw-r--r--  2.0 unx      268 b- defN 23-Aug-08 11:57 modal_test_support/multistub_privately_decorated.py
--rw-r--r--  2.0 unx      210 b- defN 23-Aug-08 11:57 modal_test_support/multistub_privately_decorated_named_stub.py
--rw-r--r--  2.0 unx      217 b- defN 23-Aug-08 11:57 modal_test_support/multistub_same_name.py
--rw-r--r--  2.0 unx      218 b- defN 23-Aug-08 11:57 modal_test_support/multistub_serialized_func.py
--rw-r--r--  2.0 unx      196 b- defN 23-Aug-08 11:57 modal_test_support/package_mount.py
--rw-r--r--  2.0 unx      171 b- defN 23-Aug-08 11:57 modal_test_support/progress_info.py
--rw-r--r--  2.0 unx      153 b- defN 23-Aug-08 11:57 modal_test_support/script.py
--rw-r--r--  2.0 unx      178 b- defN 23-Aug-08 11:57 modal_test_support/startup_failure.py
--rw-r--r--  2.0 unx      177 b- defN 23-Aug-08 11:57 modal_test_support/stub.py
--rw-r--r--  2.0 unx      144 b- defN 23-Aug-08 11:57 modal_test_support/unconsumed_map.py
--rw-r--r--  2.0 unx      123 b- defN 23-Aug-08 11:57 modal_test_support/webhook_forgot_function.py
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 11:57 modal_utils/__init__.py
--rw-r--r--  2.0 unx      465 b- defN 23-Aug-08 11:57 modal_utils/app_utils.py
--rw-r--r--  2.0 unx    11728 b- defN 23-Aug-08 11:57 modal_utils/async_utils.py
--rw-r--r--  2.0 unx     6538 b- defN 23-Aug-08 11:57 modal_utils/grpc_testing.py
--rw-r--r--  2.0 unx     9320 b- defN 23-Aug-08 11:57 modal_utils/grpc_utils.py
--rw-r--r--  2.0 unx     1597 b- defN 23-Aug-08 11:57 modal_utils/hash_utils.py
--rw-r--r--  2.0 unx     1426 b- defN 23-Aug-08 11:57 modal_utils/http_utils.py
--rw-r--r--  2.0 unx      113 b- defN 23-Aug-08 11:57 modal_utils/logger.py
--rw-r--r--  2.0 unx     1226 b- defN 23-Aug-08 11:57 modal_utils/package_utils.py
--rw-r--r--  2.0 unx      458 b- defN 23-Aug-08 11:57 modal_version/__init__.py
--rw-r--r--  2.0 unx       48 b- defN 23-Aug-08 11:57 modal_version/_version_generated.py
--rw-r--r--  2.0 unx    10173 b- defN 23-Aug-08 11:57 modal_client-0.50.2934.dist-info/LICENSE
--rw-r--r--  2.0 unx     1923 b- defN 23-Aug-08 11:57 modal_client-0.50.2934.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Aug-08 11:57 modal_client-0.50.2934.dist-info/WHEEL
--rw-r--r--  2.0 unx       46 b- defN 23-Aug-08 11:57 modal_client-0.50.2934.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       93 b- defN 23-Aug-08 11:57 modal_client-0.50.2934.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx    14083 b- defN 23-Aug-08 11:57 modal_client-0.50.2934.dist-info/RECORD
-173 files, 1168287 bytes uncompressed, 262404 bytes compressed:  77.5%
+Zip file size: 285493 bytes, number of entries: 173
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 15:09 client_test/__init__.py
+-rw-r--r--  2.0 unx      392 b- defN 23-Aug-08 15:09 client_test/aio_test.py
+-rw-r--r--  2.0 unx     5409 b- defN 23-Aug-08 15:09 client_test/async_utils_test.py
+-rw-r--r--  2.0 unx     1474 b- defN 23-Aug-08 15:09 client_test/blob_test.py
+-rw-r--r--  2.0 unx     3979 b- defN 23-Aug-08 15:09 client_test/cli_imports_test.py
+-rw-r--r--  2.0 unx    17970 b- defN 23-Aug-08 15:09 client_test/cli_test.py
+-rw-r--r--  2.0 unx     4768 b- defN 23-Aug-08 15:09 client_test/client_test.py
+-rw-r--r--  2.0 unx     4877 b- defN 23-Aug-08 15:09 client_test/cls_test.py
+-rw-r--r--  2.0 unx     2622 b- defN 23-Aug-08 15:09 client_test/config_test.py
+-rw-r--r--  2.0 unx    34296 b- defN 23-Aug-08 15:09 client_test/conftest.py
+-rw-r--r--  2.0 unx     4230 b- defN 23-Aug-08 15:09 client_test/container_app_test.py
+-rw-r--r--  2.0 unx    27398 b- defN 23-Aug-08 15:09 client_test/container_test.py
+-rw-r--r--  2.0 unx      405 b- defN 23-Aug-08 15:09 client_test/cpu_test.py
+-rw-r--r--  2.0 unx     1086 b- defN 23-Aug-08 15:09 client_test/deprecation_test.py
+-rw-r--r--  2.0 unx      475 b- defN 23-Aug-08 15:09 client_test/dict_test.py
+-rw-r--r--  2.0 unx     2182 b- defN 23-Aug-08 15:09 client_test/e2e_test.py
+-rw-r--r--  2.0 unx      165 b- defN 23-Aug-08 15:09 client_test/error_test.py
+-rw-r--r--  2.0 unx      964 b- defN 23-Aug-08 15:09 client_test/function_serialization_test.py
+-rw-r--r--  2.0 unx    18374 b- defN 23-Aug-08 15:09 client_test/function_test.py
+-rw-r--r--  2.0 unx     3914 b- defN 23-Aug-08 15:09 client_test/gpu_test.py
+-rw-r--r--  2.0 unx     5047 b- defN 23-Aug-08 15:09 client_test/grpc_utils_test.py
+-rw-r--r--  2.0 unx      930 b- defN 23-Aug-08 15:09 client_test/helpers.py
+-rw-r--r--  2.0 unx    16236 b- defN 23-Aug-08 15:09 client_test/image_test.py
+-rw-r--r--  2.0 unx     2357 b- defN 23-Aug-08 15:09 client_test/live_reload_test.py
+-rw-r--r--  2.0 unx     2577 b- defN 23-Aug-08 15:09 client_test/lookup_test.py
+-rw-r--r--  2.0 unx     5339 b- defN 23-Aug-08 15:09 client_test/mount_test.py
+-rw-r--r--  2.0 unx     6240 b- defN 23-Aug-08 15:09 client_test/mounted_files_test.py
+-rw-r--r--  2.0 unx     5937 b- defN 23-Aug-08 15:09 client_test/network_file_system_test.py
+-rw-r--r--  2.0 unx     2157 b- defN 23-Aug-08 15:09 client_test/notebook_test.py
+-rw-r--r--  2.0 unx     1429 b- defN 23-Aug-08 15:09 client_test/object_test.py
+-rw-r--r--  2.0 unx      413 b- defN 23-Aug-08 15:09 client_test/package_utils_test.py
+-rw-r--r--  2.0 unx      528 b- defN 23-Aug-08 15:09 client_test/queue_test.py
+-rw-r--r--  2.0 unx     1790 b- defN 23-Aug-08 15:09 client_test/resolver_test.py
+-rw-r--r--  2.0 unx     1807 b- defN 23-Aug-08 15:09 client_test/retries_test.py
+-rw-r--r--  2.0 unx     2427 b- defN 23-Aug-08 15:09 client_test/runner_test.py
+-rw-r--r--  2.0 unx     1616 b- defN 23-Aug-08 15:09 client_test/sandbox_test.py
+-rw-r--r--  2.0 unx      359 b- defN 23-Aug-08 15:09 client_test/schedule_test.py
+-rw-r--r--  2.0 unx     1185 b- defN 23-Aug-08 15:09 client_test/secret_test.py
+-rw-r--r--  2.0 unx     1124 b- defN 23-Aug-08 15:09 client_test/serialization_test.py
+-rw-r--r--  2.0 unx     8091 b- defN 23-Aug-08 15:09 client_test/stub_test.py
+-rw-r--r--  2.0 unx     2690 b- defN 23-Aug-08 15:09 client_test/utils_test.py
+-rw-r--r--  2.0 unx      410 b- defN 23-Aug-08 15:09 client_test/version_test.py
+-rw-r--r--  2.0 unx     3195 b- defN 23-Aug-08 15:09 client_test/volume_test.py
+-rw-r--r--  2.0 unx     1160 b- defN 23-Aug-08 15:09 client_test/watcher_test.py
+-rw-r--r--  2.0 unx     3888 b- defN 23-Aug-08 15:09 client_test/webhook_test.py
+-rw-r--r--  2.0 unx     1159 b- defN 23-Aug-08 15:09 modal/__init__.py
+-rw-r--r--  2.0 unx      157 b- defN 23-Aug-08 15:09 modal/__main__.py
+-rw-r--r--  2.0 unx     2294 b- defN 23-Aug-08 15:09 modal/_asgi.py
+-rw-r--r--  2.0 unx    13413 b- defN 23-Aug-08 15:09 modal/_blob_utils.py
+-rw-r--r--  2.0 unx    29782 b- defN 23-Aug-08 15:09 modal/_container_entrypoint.py
+-rw-r--r--  2.0 unx    11041 b- defN 23-Aug-08 15:09 modal/_function_utils.py
+-rw-r--r--  2.0 unx      450 b- defN 23-Aug-08 15:09 modal/_ipython.py
+-rw-r--r--  2.0 unx      929 b- defN 23-Aug-08 15:09 modal/_location.py
+-rw-r--r--  2.0 unx    17814 b- defN 23-Aug-08 15:09 modal/_output.py
+-rw-r--r--  2.0 unx     1785 b- defN 23-Aug-08 15:09 modal/_proxy_tunnel.py
+-rw-r--r--  2.0 unx     5267 b- defN 23-Aug-08 15:09 modal/_pty.py
+-rw-r--r--  2.0 unx     5804 b- defN 23-Aug-08 15:09 modal/_resolver.py
+-rw-r--r--  2.0 unx     1892 b- defN 23-Aug-08 15:09 modal/_serialization.py
+-rw-r--r--  2.0 unx     7598 b- defN 23-Aug-08 15:09 modal/_traceback.py
+-rw-r--r--  2.0 unx     1995 b- defN 23-Aug-08 15:09 modal/_tracing.py
+-rw-r--r--  2.0 unx      490 b- defN 23-Aug-08 15:09 modal/_types.py
+-rw-r--r--  2.0 unx     3408 b- defN 23-Aug-08 15:09 modal/_watcher.py
+-rw-r--r--  2.0 unx      702 b- defN 23-Aug-08 15:09 modal/aio.py
+-rw-r--r--  2.0 unx    13768 b- defN 23-Aug-08 15:09 modal/app.py
+-rw-r--r--  2.0 unx     8062 b- defN 23-Aug-08 15:10 modal/app.pyi
+-rw-r--r--  2.0 unx     2462 b- defN 23-Aug-08 15:09 modal/call_graph.py
+-rw-r--r--  2.0 unx     9478 b- defN 23-Aug-08 15:09 modal/client.py
+-rw-r--r--  2.0 unx     3966 b- defN 23-Aug-08 15:10 modal/client.pyi
+-rw-r--r--  2.0 unx     1963 b- defN 23-Aug-08 15:09 modal/cls.py
+-rw-r--r--  2.0 unx     7224 b- defN 23-Aug-08 15:09 modal/config.py
+-rw-r--r--  2.0 unx     6463 b- defN 23-Aug-08 15:09 modal/dict.py
+-rw-r--r--  2.0 unx     4028 b- defN 23-Aug-08 15:10 modal/dict.pyi
+-rw-r--r--  2.0 unx     2189 b- defN 23-Aug-08 15:09 modal/environments.py
+-rw-r--r--  2.0 unx     1195 b- defN 23-Aug-08 15:10 modal/environments.pyi
+-rw-r--r--  2.0 unx     2750 b- defN 23-Aug-08 15:09 modal/exception.py
+-rw-r--r--  2.0 unx    64690 b- defN 23-Aug-08 15:09 modal/functions.py
+-rw-r--r--  2.0 unx    20472 b- defN 23-Aug-08 15:10 modal/functions.pyi
+-rw-r--r--  2.0 unx     4858 b- defN 23-Aug-08 15:09 modal/gpu.py
+-rw-r--r--  2.0 unx    49420 b- defN 23-Aug-08 15:09 modal/image.py
+-rw-r--r--  2.0 unx    15110 b- defN 23-Aug-08 15:10 modal/image.pyi
+-rw-r--r--  2.0 unx    15521 b- defN 23-Aug-08 15:09 modal/mount.py
+-rw-r--r--  2.0 unx     6034 b- defN 23-Aug-08 15:10 modal/mount.pyi
+-rw-r--r--  2.0 unx    11140 b- defN 23-Aug-08 15:09 modal/network_file_system.py
+-rw-r--r--  2.0 unx     6993 b- defN 23-Aug-08 15:10 modal/network_file_system.pyi
+-rw-r--r--  2.0 unx    15171 b- defN 23-Aug-08 15:09 modal/object.py
+-rw-r--r--  2.0 unx    10325 b- defN 23-Aug-08 15:10 modal/object.pyi
+-rw-r--r--  2.0 unx      627 b- defN 23-Aug-08 15:09 modal/proxy.py
+-rw-r--r--  2.0 unx      269 b- defN 23-Aug-08 15:10 modal/proxy.pyi
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-08 15:09 modal/py.typed
+-rw-r--r--  2.0 unx     5646 b- defN 23-Aug-08 15:09 modal/queue.py
+-rw-r--r--  2.0 unx     3027 b- defN 23-Aug-08 15:10 modal/queue.pyi
+-rw-r--r--  2.0 unx      502 b- defN 23-Aug-08 15:09 modal/requirements.txt
+-rw-r--r--  2.0 unx     3730 b- defN 23-Aug-08 15:09 modal/retries.py
+-rw-r--r--  2.0 unx     9446 b- defN 23-Aug-08 15:09 modal/runner.py
+-rw-r--r--  2.0 unx     6202 b- defN 23-Aug-08 15:09 modal/sandbox.py
+-rw-r--r--  2.0 unx     2906 b- defN 23-Aug-08 15:10 modal/sandbox.pyi
+-rw-r--r--  2.0 unx     2619 b- defN 23-Aug-08 15:09 modal/schedule.py
+-rw-r--r--  2.0 unx     5065 b- defN 23-Aug-08 15:09 modal/secret.py
+-rw-r--r--  2.0 unx      720 b- defN 23-Aug-08 15:10 modal/secret.pyi
+-rw-r--r--  2.0 unx     4717 b- defN 23-Aug-08 15:09 modal/serving.py
+-rw-r--r--  2.0 unx     1242 b- defN 23-Aug-08 15:09 modal/shared_volume.py
+-rw-r--r--  2.0 unx    25464 b- defN 23-Aug-08 15:09 modal/stub.py
+-rw-r--r--  2.0 unx    12271 b- defN 23-Aug-08 15:10 modal/stub.pyi
+-rw-r--r--  2.0 unx     7566 b- defN 23-Aug-08 15:09 modal/volume.py
+-rw-r--r--  2.0 unx     3787 b- defN 23-Aug-08 15:10 modal/volume.pyi
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 15:09 modal/cli/__init__.py
+-rw-r--r--  2.0 unx     1709 b- defN 23-Aug-08 15:09 modal/cli/_shared_volume.py
+-rw-r--r--  2.0 unx     3057 b- defN 23-Aug-08 15:09 modal/cli/app.py
+-rw-r--r--  2.0 unx     1360 b- defN 23-Aug-08 15:09 modal/cli/config.py
+-rw-r--r--  2.0 unx     2039 b- defN 23-Aug-08 15:09 modal/cli/entry_point.py
+-rw-r--r--  2.0 unx     3413 b- defN 23-Aug-08 15:09 modal/cli/environment.py
+-rw-r--r--  2.0 unx    10471 b- defN 23-Aug-08 15:09 modal/cli/import_refs.py
+-rw-r--r--  2.0 unx    10280 b- defN 23-Aug-08 15:09 modal/cli/network_file_system.py
+-rw-r--r--  2.0 unx      760 b- defN 23-Aug-08 15:09 modal/cli/profile.py
+-rw-r--r--  2.0 unx     9567 b- defN 23-Aug-08 15:09 modal/cli/run.py
+-rw-r--r--  2.0 unx     4029 b- defN 23-Aug-08 15:09 modal/cli/secret.py
+-rw-r--r--  2.0 unx     3121 b- defN 23-Aug-08 15:09 modal/cli/token.py
+-rw-r--r--  2.0 unx     1889 b- defN 23-Aug-08 15:09 modal/cli/utils.py
+-rw-r--r--  2.0 unx     2859 b- defN 23-Aug-08 15:09 modal/cli/volume.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 15:09 modal/extensions/__init__.py
+-rw-r--r--  2.0 unx      987 b- defN 23-Aug-08 15:09 modal/extensions/ipython.py
+-rw-r--r--  2.0 unx     6220 b- defN 23-Aug-08 15:09 modal/extensions/pymc.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 15:09 modal_base_images/__init__.py
+-rw-r--r--  2.0 unx      730 b- defN 23-Aug-08 15:09 modal_base_images/client_mount.py
+-rw-r--r--  2.0 unx      324 b- defN 23-Aug-08 15:09 modal_base_images/conda.py
+-rw-r--r--  2.0 unx      330 b- defN 23-Aug-08 15:09 modal_base_images/debian_slim.py
+-rw-r--r--  2.0 unx      329 b- defN 23-Aug-08 15:09 modal_base_images/micromamba.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 15:09 modal_proto/__init__.py
+-rw-r--r--  2.0 unx    32918 b- defN 23-Aug-08 15:09 modal_proto/api.proto
+-rw-r--r--  2.0 unx    55111 b- defN 23-Aug-08 15:09 modal_proto/api_grpc.py
+-rw-r--r--  2.0 unx   138479 b- defN 23-Aug-08 15:09 modal_proto/api_pb2.py
+-rw-r--r--  2.0 unx   119140 b- defN 23-Aug-08 15:09 modal_proto/api_pb2_grpc.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 15:09 modal_test_support/__init__.py
+-rw-r--r--  2.0 unx      134 b- defN 23-Aug-08 15:09 modal_test_support/assert_package.py
+-rw-r--r--  2.0 unx      171 b- defN 23-Aug-08 15:09 modal_test_support/consumed_map.py
+-rw-r--r--  2.0 unx     3237 b- defN 23-Aug-08 15:09 modal_test_support/functions.py
+-rw-r--r--  2.0 unx      183 b- defN 23-Aug-08 15:09 modal_test_support/hello.py
+-rw-r--r--  2.0 unx      266 b- defN 23-Aug-08 15:09 modal_test_support/image_run_function.py
+-rw-r--r--  2.0 unx      180 b- defN 23-Aug-08 15:09 modal_test_support/is_inside.py
+-rw-r--r--  2.0 unx      187 b- defN 23-Aug-08 15:09 modal_test_support/missing_main_conditional.py
+-rw-r--r--  2.0 unx       59 b- defN 23-Aug-08 15:09 modal_test_support/module_1.py
+-rw-r--r--  2.0 unx       59 b- defN 23-Aug-08 15:09 modal_test_support/module_2.py
+-rw-r--r--  2.0 unx      276 b- defN 23-Aug-08 15:09 modal_test_support/multistub.py
+-rw-r--r--  2.0 unx      228 b- defN 23-Aug-08 15:09 modal_test_support/multistub_is_inside.py
+-rw-r--r--  2.0 unx      222 b- defN 23-Aug-08 15:09 modal_test_support/multistub_is_inside_warning.py
+-rw-r--r--  2.0 unx      268 b- defN 23-Aug-08 15:09 modal_test_support/multistub_privately_decorated.py
+-rw-r--r--  2.0 unx      210 b- defN 23-Aug-08 15:09 modal_test_support/multistub_privately_decorated_named_stub.py
+-rw-r--r--  2.0 unx      217 b- defN 23-Aug-08 15:09 modal_test_support/multistub_same_name.py
+-rw-r--r--  2.0 unx      218 b- defN 23-Aug-08 15:09 modal_test_support/multistub_serialized_func.py
+-rw-r--r--  2.0 unx      196 b- defN 23-Aug-08 15:09 modal_test_support/package_mount.py
+-rw-r--r--  2.0 unx      171 b- defN 23-Aug-08 15:09 modal_test_support/progress_info.py
+-rw-r--r--  2.0 unx      153 b- defN 23-Aug-08 15:09 modal_test_support/script.py
+-rw-r--r--  2.0 unx      178 b- defN 23-Aug-08 15:09 modal_test_support/startup_failure.py
+-rw-r--r--  2.0 unx      177 b- defN 23-Aug-08 15:09 modal_test_support/stub.py
+-rw-r--r--  2.0 unx      144 b- defN 23-Aug-08 15:09 modal_test_support/unconsumed_map.py
+-rw-r--r--  2.0 unx      123 b- defN 23-Aug-08 15:09 modal_test_support/webhook_forgot_function.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-08 15:09 modal_utils/__init__.py
+-rw-r--r--  2.0 unx      465 b- defN 23-Aug-08 15:09 modal_utils/app_utils.py
+-rw-r--r--  2.0 unx    11728 b- defN 23-Aug-08 15:09 modal_utils/async_utils.py
+-rw-r--r--  2.0 unx     6538 b- defN 23-Aug-08 15:09 modal_utils/grpc_testing.py
+-rw-r--r--  2.0 unx     9320 b- defN 23-Aug-08 15:09 modal_utils/grpc_utils.py
+-rw-r--r--  2.0 unx     1597 b- defN 23-Aug-08 15:09 modal_utils/hash_utils.py
+-rw-r--r--  2.0 unx     1426 b- defN 23-Aug-08 15:09 modal_utils/http_utils.py
+-rw-r--r--  2.0 unx      113 b- defN 23-Aug-08 15:09 modal_utils/logger.py
+-rw-r--r--  2.0 unx     1226 b- defN 23-Aug-08 15:09 modal_utils/package_utils.py
+-rw-r--r--  2.0 unx      458 b- defN 23-Aug-08 15:09 modal_version/__init__.py
+-rw-r--r--  2.0 unx       48 b- defN 23-Aug-08 15:09 modal_version/_version_generated.py
+-rw-r--r--  2.0 unx    10173 b- defN 23-Aug-08 15:10 modal_client-0.50.2940.dist-info/LICENSE
+-rw-r--r--  2.0 unx     1923 b- defN 23-Aug-08 15:10 modal_client-0.50.2940.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Aug-08 15:10 modal_client-0.50.2940.dist-info/WHEEL
+-rw-r--r--  2.0 unx       46 b- defN 23-Aug-08 15:10 modal_client-0.50.2940.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       93 b- defN 23-Aug-08 15:10 modal_client-0.50.2940.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx    14083 b- defN 23-Aug-08 15:10 modal_client-0.50.2940.dist-info/RECORD
+173 files, 1174884 bytes uncompressed, 263677 bytes compressed:  77.6%
```

## zipnote {}

```diff
@@ -495,26 +495,26 @@
 
 Filename: modal_version/__init__.py
 Comment: 
 
 Filename: modal_version/_version_generated.py
 Comment: 
 
-Filename: modal_client-0.50.2934.dist-info/LICENSE
+Filename: modal_client-0.50.2940.dist-info/LICENSE
 Comment: 
 
-Filename: modal_client-0.50.2934.dist-info/METADATA
+Filename: modal_client-0.50.2940.dist-info/METADATA
 Comment: 
 
-Filename: modal_client-0.50.2934.dist-info/WHEEL
+Filename: modal_client-0.50.2940.dist-info/WHEEL
 Comment: 
 
-Filename: modal_client-0.50.2934.dist-info/entry_points.txt
+Filename: modal_client-0.50.2940.dist-info/entry_points.txt
 Comment: 
 
-Filename: modal_client-0.50.2934.dist-info/top_level.txt
+Filename: modal_client-0.50.2940.dist-info/top_level.txt
 Comment: 
 
-Filename: modal_client-0.50.2934.dist-info/RECORD
+Filename: modal_client-0.50.2940.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## client_test/container_test.py

```diff
@@ -26,34 +26,35 @@
 from .supports.skip import skip_windows_unix_socket
 
 EXTRA_TOLERANCE_DELAY = 3.0
 FUNCTION_CALL_ID = "fc-123"
 SLEEP_DELAY = 0.1
 
 
-def _get_inputs(args: Tuple[Tuple, Dict] = ((42,), {})) -> list[api_pb2.FunctionGetInputsResponse]:
+def _get_inputs(args: Tuple[Tuple, Dict] = ((42,), {}), n: int = 1) -> list[api_pb2.FunctionGetInputsResponse]:
     input_pb = api_pb2.FunctionInput(args=serialize(args))
 
     return [
-        api_pb2.FunctionGetInputsResponse(inputs=[api_pb2.FunctionGetInputsItem(input_id="in-xyz", input=input_pb)]),
-        api_pb2.FunctionGetInputsResponse(inputs=[api_pb2.FunctionGetInputsItem(kill_switch=True)]),
-    ]
+        api_pb2.FunctionGetInputsResponse(inputs=[api_pb2.FunctionGetInputsItem(input_id=f"in-xyz{i}", input=input_pb)])
+        for i in range(n)
+    ] + [api_pb2.FunctionGetInputsResponse(inputs=[api_pb2.FunctionGetInputsItem(kill_switch=True)])]
 
 
 def _run_container(
     servicer,
     module_name,
     function_name,
     fail_get_inputs=False,
     inputs=None,
     function_type=api_pb2.Function.FUNCTION_TYPE_FUNCTION,
     webhook_type=api_pb2.WEBHOOK_TYPE_UNSPECIFIED,
     definition_type=api_pb2.Function.DEFINITION_TYPE_FILE,
     stub_name: str = "",
     is_builder_function: bool = False,
+    allow_concurrent_inputs: Optional[int] = None,
     serialized_params: Optional[bytes] = None,
 ) -> tuple[Client, list[api_pb2.FunctionPutOutputsItem]]:
     with Client(servicer.remote_addr, api_pb2.CLIENT_TYPE_CONTAINER, ("ta-123", "task-secret")) as client:
         if inputs is None:
             servicer.container_inputs = _get_inputs()
         else:
             servicer.container_inputs = inputs
@@ -72,14 +73,15 @@
             module_name=module_name,
             function_name=function_name,
             function_type=function_type,
             webhook_config=webhook_config,
             definition_type=definition_type,
             stub_name=stub_name or "",
             is_builder_function=is_builder_function,
+            allow_concurrent_inputs=allow_concurrent_inputs,
         )
 
         container_args = api_pb2.ContainerArguments(
             task_id="ta-123",
             function_id="fu-123",
             app_id="ap-1",
             function_def=function_def,
@@ -668,7 +670,65 @@
     assert len(caplog.messages) == 1
     assert "You have more than one unnamed stub" in caplog.text
     out, err = capsys.readouterr()
     assert "inside a" in out
     assert (
         "inside b" in out
     )  # can't determine which of two anonymous stubs is the active one at import time, so both will trigger
+
+
+SLEEP_TIME = 0.7
+
+
+def verify_concurrent_input_outputs(n_inputs: int, n_parallel: int, output_items: list[api_pb2.FunctionPutOutputsItem]):
+    # Ensure that outputs align with expectation of running concurrent inputs
+
+    # Each group of n_parallel inputs should start together of each other
+    # and different groups should start SLEEP_TIME apart.
+    assert len(output_items) == n_inputs
+    for i in range(1, len(output_items)):
+        diff = output_items[i].input_started_at - output_items[i - 1].input_started_at
+        expected_diff = SLEEP_TIME if i % n_parallel == 0 else 0
+        assert diff == pytest.approx(expected_diff, abs=0.2)
+
+    for item in output_items:
+        assert item.output_created_at - item.input_started_at == pytest.approx(SLEEP_TIME, abs=0.1)
+        assert item.result.status == api_pb2.GenericResult.GENERIC_STATUS_SUCCESS
+        assert item.result.data == serialize(42**2)
+
+
+@skip_windows_unix_socket
+def test_concurrent_inputs_sync_function(unix_servicer):
+    n_inputs = 18
+    n_parallel = 6
+
+    t0 = time.time()
+    client, items = _run_container(
+        unix_servicer,
+        "modal_test_support.functions",
+        "sleep_700_sync",
+        inputs=_get_inputs(n=n_inputs),
+        allow_concurrent_inputs=n_parallel,
+    )
+
+    expected_execution = n_inputs / n_parallel * SLEEP_TIME
+    assert expected_execution <= time.time() - t0 < expected_execution + EXTRA_TOLERANCE_DELAY
+    verify_concurrent_input_outputs(n_inputs, n_parallel, items)
+
+
+@skip_windows_unix_socket
+def test_concurrent_inputs_async_function(unix_servicer, event_loop):
+    n_inputs = 18
+    n_parallel = 6
+
+    t0 = time.time()
+    client, items = _run_container(
+        unix_servicer,
+        "modal_test_support.functions",
+        "sleep_700_async",
+        inputs=_get_inputs(n=n_inputs),
+        allow_concurrent_inputs=n_parallel,
+    )
+
+    expected_execution = n_inputs / n_parallel * SLEEP_TIME
+    assert expected_execution <= time.time() - t0 < expected_execution + EXTRA_TOLERANCE_DELAY
+    verify_concurrent_input_outputs(n_inputs, n_parallel, items)
```

## modal/_asgi.py

```diff
@@ -19,14 +19,16 @@
             await messages_from_app.put(message)
 
         async def receive():
             return await messages_to_app.get()
 
         # Run the ASGI app, while draining the send message queue at the same time,
         # and yielding results.
+        # TODO(gongy): we currently create one ASGI instance per concurrent input,
+        # but it would be sufficient to share this background ASGI context.
         async with TaskContext(grace=1.0) as tc:
             app_task = tc.create_task(asgi_app(scope, receive, send))
 
             while True:
                 pop_task = tc.create_task(messages_from_app.get())
 
                 try:
```

## modal/_container_entrypoint.py

```diff
@@ -1,12 +1,13 @@
 # Copyright Modal Labs 2022
 from __future__ import annotations
 
 import asyncio
 import base64
+import concurrent.futures
 import contextlib
 import importlib
 import inspect
 import math
 import pickle
 import signal
 import sys
@@ -108,14 +109,16 @@
         self.app_id = container_args.app_id
         self.function_def = container_args.function_def
         self.client = client
         self.calls_completed = 0
         self.total_user_time: float = 0
         self.current_input_id: Optional[str] = None
         self.current_input_started_at: Optional[float] = None
+        self._input_concurrency: Optional[int] = None
+        self._semaphore: Optional[asyncio.Semaphore] = None
         self._client = synchronizer._translate_in(self.client)  # make it a _Client object
         self._stub_name = self.function_def.stub_name
         self._container_app = None
         assert isinstance(self._client, _Client)
 
     @wrap()
     async def initialize_app(self):
@@ -178,57 +181,61 @@
 
     def get_max_inputs_to_fetch(self):
         if self.calls_completed == 0:
             return 1
 
         return math.ceil(RTT_S / max(self.get_average_call_time(), 1e-6))
 
-    async def _generate_inputs(
-        self,
-    ) -> AsyncIterator[tuple[str, api_pb2.FunctionInput]]:
+    async def _generate_inputs(self) -> AsyncIterator[tuple[str, api_pb2.FunctionInput]]:
         request = api_pb2.FunctionGetInputsRequest(function_id=self.function_id)
         eof_received = False
         iteration = 0
         while not eof_received:
             request.average_call_time = self.get_average_call_time()
             request.max_values = self.get_max_inputs_to_fetch()  # Deprecated; remove.
+            request.input_concurrency = self._input_concurrency
 
-            with trace("get_inputs"):
-                set_span_tag("iteration", str(iteration))  # force this to be a tag string
-                iteration += 1
-                response = await retry_transient_errors(self.client.stub.FunctionGetInputs, request)
-
-            if response.rate_limit_sleep_duration:
-                logger.info(
-                    "Task exceeded rate limit, sleeping for %.2fs before trying again."
-                    % response.rate_limit_sleep_duration
-                )
-                await asyncio.sleep(response.rate_limit_sleep_duration)
-                continue
-
-            if not response.inputs:
-                continue
-
-            for item in response.inputs:
-                if item.kill_switch:
-                    logger.debug(f"Task {self.task_id} input received kill signal.")
-                    eof_received = True
-                    break
-
-                # If we got a pointer to a blob, download it from S3.
-                if item.input.WhichOneof("args_oneof") == "args_blob_id":
-                    input_pb = await self.populate_input_blobs(item.input)
-                else:
-                    input_pb = item.input
-
-                yield (item.input_id, input_pb)
-
-                if item.input.final_input:
-                    eof_received = True
-                    break
+            await self._semaphore.acquire()
+            try:
+                # If number of active inputs is at max queue size, this will block.
+                yielded = False
+                with trace("get_inputs"):
+                    set_span_tag("iteration", str(iteration))  # force this to be a tag string
+                    iteration += 1
+                    response = await retry_transient_errors(self.client.stub.FunctionGetInputs, request)
+
+                if response.rate_limit_sleep_duration:
+                    logger.info(
+                        "Task exceeded rate limit, sleeping for %.2fs before trying again."
+                        % response.rate_limit_sleep_duration
+                    )
+                    await asyncio.sleep(response.rate_limit_sleep_duration)
+                elif response.inputs:
+                    for item in response.inputs:
+                        if item.kill_switch:
+                            logger.debug(f"Task {self.task_id} input received kill signal.")
+                            eof_received = True
+                            break
+
+                        # If we got a pointer to a blob, download it from S3.
+                        if item.input.WhichOneof("args_oneof") == "args_blob_id":
+                            input_pb = await self.populate_input_blobs(item.input)
+                        else:
+                            input_pb = item.input
+
+                        # If yielded, allow semaphore to be released via enqueue_outputs
+                        yield (item.input_id, input_pb)
+                        yielded = True
+
+                        if item.input.final_input:
+                            eof_received = True
+                            break
+            finally:
+                if not yielded:
+                    self._semaphore.release()
 
     async def _send_outputs(self):
         """Background task that tries to drain output queue until it's empty,
         or the output buffer changes, and then sends the entire batch in one request.
         """
         async for outputs in queue_batch_iterator(self.output_queue, MAX_OUTPUT_BATCH_SIZE, 0):
             req = api_pb2.FunctionPutOutputsRequest(outputs=outputs)
@@ -238,44 +245,53 @@
                 attempt_timeout=3.0,
                 total_timeout=20.0,
                 additional_status_codes=[Status.RESOURCE_EXHAUSTED],
             )
             # TODO(erikbern): we'll get a RESOURCE_EXCHAUSTED if the buffer is full server-side.
             # It's possible we want to retry "harder" for this particular error.
 
-    async def run_inputs_outputs(self):
+    async def run_inputs_outputs(self, input_concurrency: int = 1):
         # This also makes sure to terminate the outputs
         self.output_queue: asyncio.Queue = asyncio.Queue()
 
+        # Ensure we do not fetch new inputs when container is too busy.
+        # Before trying to fetch an input, acquire the semaphore:
+        # - if no input is fetched, release the semaphore.
+        # - or, when the output for the fetched input is enqueued, release the semaphore.
+        self._input_concurrency = input_concurrency
+        self._semaphore = asyncio.Semaphore(input_concurrency)
+
         async with TaskContext(grace=10) as tc:
             tc.create_task(self._send_outputs())
             try:
                 async for input_id, input_pb in self._generate_inputs():
                     args, kwargs = self.deserialize(input_pb.args) if input_pb.args else ((), {})
                     _set_current_input_id(input_id)
                     self.current_input_id, self.current_input_started_at = (input_id, time.time())
                     yield input_id, args, kwargs
                     _set_current_input_id(None)
-                    self.total_user_time += time.time() - self.current_input_started_at
                     self.current_input_id, self.current_input_started_at = (None, None)
-                    self.calls_completed += 1
             finally:
+                # collect all active input slots, meaning all outputs of outstanding inputs are enqueued
+                for _ in range(input_concurrency):
+                    await self._semaphore.acquire()
+                # send the eof to _send_outputs loop
                 await self.output_queue.put(None)
 
-    async def _enqueue_output(self, input_id, gen_index, **kwargs):
+    async def _enqueue_output(self, input_id, started_at: float, gen_index: int, **kwargs):
         # upload data to S3 if too big.
         if "data" in kwargs and kwargs["data"] and len(kwargs["data"]) > MAX_OBJECT_SIZE_BYTES:
             data_blob_id = await blob_upload(kwargs["data"], self.client.stub)
             # mutating kwargs.
             kwargs.pop("data")
             kwargs["data_blob_id"] = data_blob_id
 
         output = api_pb2.FunctionPutOutputsItem(
             input_id=input_id,
-            input_started_at=self.current_input_started_at,
+            input_started_at=started_at,
             output_created_at=time.time(),
             gen_index=gen_index,
             result=api_pb2.GenericResult(**kwargs),
         )
         await self.output_queue.put(output)
 
     def serialize_exception(self, exc: BaseException) -> Optional[bytes]:
@@ -326,15 +342,17 @@
             req = api_pb2.TaskResultRequest(result=result)
             await retry_transient_errors(self.client.stub.TaskResult, req)
 
             # Shut down the task gracefully
             raise UserException()
 
     @contextlib.asynccontextmanager
-    async def handle_input_exception(self, input_id, output_index: SequenceNumber) -> AsyncGenerator[None, None]:
+    async def handle_input_exception(
+        self, input_id, started_at: float, output_index: SequenceNumber
+    ) -> AsyncGenerator[None, None]:
         try:
             with trace("input"):
                 set_span_tag("input_id", input_id)
                 yield
         except KeyboardInterrupt:
             raise
         except BaseException as exc:
@@ -345,153 +363,187 @@
             # Note: we're not serializing the traceback since it contains
             # local references that means we can't unpickle it. We *are*
             # serializing the exception, which may have some issues (there
             # was an earlier note about it that it might not be possible
             # to unpickle it in some cases). Let's watch out for issues.
             await self._enqueue_output(
                 input_id,
-                output_index.value,
+                started_at=started_at,
+                gen_index=output_index.value,
                 status=api_pb2.GenericResult.GENERIC_STATUS_FAILURE,
                 data=self.serialize_exception(exc),
                 exception=repr(exc),
                 traceback=traceback.format_exc(),
                 serialized_tb=serialized_tb,
                 tb_line_cache=tb_line_cache,
             )
+            await self.complete_call(started_at)
 
-    async def enqueue_output(self, input_id, output_index: int, data):
+    async def complete_call(self, started_at):
+        self.total_user_time += time.time() - started_at
+        self.calls_completed += 1
+        self._semaphore.release()
+
+    async def enqueue_output(self, input_id, started_at: float, output_index: int, data):
         await self._enqueue_output(
             input_id,
+            started_at=started_at,
             gen_index=output_index,
             status=api_pb2.GenericResult.GENERIC_STATUS_SUCCESS,
             data=self.serialize(data),
         )
+        await self.complete_call(started_at)
 
-    async def enqueue_generator_value(self, input_id, output_index: int, data):
+    async def enqueue_generator_value(self, input_id, started_at: float, output_index: int, data):
         await self._enqueue_output(
             input_id,
+            started_at=started_at,
             gen_index=output_index,
             status=api_pb2.GenericResult.GENERIC_STATUS_SUCCESS,
             data=self.serialize(data),
             gen_status=api_pb2.GenericResult.GENERATOR_STATUS_INCOMPLETE,
         )
 
-    async def enqueue_generator_eof(self, input_id, output_index: int):
+    async def enqueue_generator_eof(self, input_id, started_at: float, output_index: int):
         await self._enqueue_output(
             input_id,
+            started_at=started_at,
             gen_index=output_index,
             status=api_pb2.GenericResult.GENERIC_STATUS_SUCCESS,
             gen_status=api_pb2.GenericResult.GENERATOR_STATUS_COMPLETE,
         )
+        await self.complete_call(started_at)
 
 
 # just to mark the class as synchronized, we don't care about the interfaces
 FunctionIOManager = synchronize_api(_FunctionIOManager)
 
 
 def call_function_sync(
     function_io_manager,  #: FunctionIOManager,  # TODO: this type is generated in runtime
-    obj: Optional[Any],
-    fun: Callable,
-    is_generator: bool,
+    imp_fun: ImportedFunction,
 ):
     # If this function is on a class, instantiate it and enter it
-    if obj is not None:
-        if hasattr(obj, "__enter__"):
+    if imp_fun.obj is not None:
+        if hasattr(imp_fun.obj, "__enter__"):
             # Call a user-defined method
             with function_io_manager.handle_user_exception():
-                obj.__enter__()
-        elif hasattr(obj, "__aenter__"):
+                imp_fun.obj.__enter__()
+        elif hasattr(imp_fun.obj, "__aenter__"):
             logger.warning("Not running asynchronous enter/exit handlers with a sync function")
 
     try:
-        for input_id, args, kwargs in function_io_manager.run_inputs_outputs():
+
+        def run_inputs(input_id, args, kwargs):
             output_index = SequenceNumber(0)
-            with function_io_manager.handle_input_exception(input_id, output_index):
-                res = fun(*args, **kwargs)
+            started_at = time.time()
+            with function_io_manager.handle_input_exception(input_id, started_at, output_index):
+                # TODO(gongy): run this in an executor
+                res = imp_fun.fun(*args, **kwargs)
 
                 # TODO(erikbern): any exception below shouldn't be considered a user exception
-                if is_generator:
+                if imp_fun.is_generator:
                     if not inspect.isgenerator(res):
                         raise InvalidError(f"Generator function returned value of type {type(res)}")
 
                     for value in res:
-                        function_io_manager.enqueue_generator_value(input_id, output_index.value, value)
+                        function_io_manager.enqueue_generator_value(input_id, started_at, output_index.value, value)
                         output_index.increase()
 
-                    function_io_manager.enqueue_generator_eof(input_id, output_index.value)
+                    function_io_manager.enqueue_generator_eof(input_id, started_at, output_index.value)
                 else:
                     if inspect.iscoroutine(res) or inspect.isgenerator(res) or inspect.isasyncgen(res):
                         raise InvalidError(
                             f"Sync (non-generator) function return value of type {type(res)}."
                             " You might need to use @stub.function(..., is_generator=True)."
                         )
-                    function_io_manager.enqueue_output(input_id, output_index.value, res)
+                    function_io_manager.enqueue_output(input_id, started_at, output_index.value, res)
+
+        if imp_fun.input_concurrency > 1:
+            with concurrent.futures.ThreadPoolExecutor() as executor:
+                for input_id, args, kwargs in function_io_manager.run_inputs_outputs(imp_fun.input_concurrency):
+                    executor.submit(run_inputs, input_id, args, kwargs)
+        else:
+            for input_id, args, kwargs in function_io_manager.run_inputs_outputs(imp_fun.input_concurrency):
+                run_inputs(input_id, args, kwargs)
     finally:
-        if obj is not None and hasattr(obj, "__exit__"):
+        if imp_fun.obj is not None and hasattr(imp_fun.obj, "__exit__"):
             with function_io_manager.handle_user_exception():
-                obj.__exit__(*sys.exc_info())
+                imp_fun.obj.__exit__(*sys.exc_info())
 
 
 @wrap()
 async def call_function_async(
     function_io_manager,  #: FunctionIOManager,  # TODO: this one too
-    obj: Optional[Any],
-    fun: Callable,
-    is_generator: bool,
+    imp_fun: ImportedFunction,
 ):
     # If this function is on a class, instantiate it and enter it
-    if obj is not None:
-        if hasattr(obj, "__aenter__"):
+    if imp_fun.obj is not None:
+        if hasattr(imp_fun.obj, "__aenter__"):
             # Call a user-defined method
             async with function_io_manager.handle_user_exception.aio():
-                await obj.__aenter__()
-        elif hasattr(obj, "__enter__"):
+                await imp_fun.obj.__aenter__()
+        elif hasattr(imp_fun.obj, "__enter__"):
             async with function_io_manager.handle_user_exception.aio():
-                obj.__enter__()
+                imp_fun.obj.__enter__()
 
     try:
-        async for input_id, args, kwargs in function_io_manager.run_inputs_outputs.aio():
+
+        async def run_input(input_id, args, kwargs):
             output_index = SequenceNumber(0)  # mutable number we can increase from the generator loop
-            async with function_io_manager.handle_input_exception.aio(input_id, output_index):
-                res = fun(*args, **kwargs)
+            started_at = time.time()
+            async with function_io_manager.handle_input_exception.aio(input_id, started_at, output_index):
+                res = imp_fun.fun(*args, **kwargs)
 
                 # TODO(erikbern): any exception below shouldn't be considered a user exception
-                if is_generator:
+                if imp_fun.is_generator:
                     if not inspect.isasyncgen(res):
                         raise InvalidError(f"Async generator function returned value of type {type(res)}")
                     async for value in res:
-                        await function_io_manager.enqueue_generator_value.aio(input_id, output_index.value, value)
+                        await function_io_manager.enqueue_generator_value.aio(
+                            input_id, started_at, output_index.value, value
+                        )
                         output_index.increase()
-                    await function_io_manager.enqueue_generator_eof.aio(input_id, output_index.value)
+                    await function_io_manager.enqueue_generator_eof.aio(input_id, started_at, output_index.value)
                 else:
                     if not inspect.iscoroutine(res) or inspect.isgenerator(res) or inspect.isasyncgen(res):
                         raise InvalidError(
                             f"Async (non-generator) function returned value of type {type(res)}"
                             " You might need to use @stub.function(..., is_generator=True)."
                         )
                     value = await res
-                    await function_io_manager.enqueue_output.aio(input_id, output_index.value, value)
+                    await function_io_manager.enqueue_output.aio(input_id, started_at, output_index.value, value)
+
+        if imp_fun.input_concurrency > 1:
+            async with TaskContext() as execution_context:
+                async for input_id, args, kwargs in function_io_manager.run_inputs_outputs.aio(
+                    imp_fun.input_concurrency
+                ):
+                    execution_context.create_task(run_input(input_id, args, kwargs))
+        else:
+            async for input_id, args, kwargs in function_io_manager.run_inputs_outputs.aio(imp_fun.input_concurrency):
+                await run_input(input_id, args, kwargs)
     finally:
-        if obj is not None:
-            if hasattr(obj, "__aexit__"):
+        if imp_fun.obj is not None:
+            if hasattr(imp_fun.obj, "__aexit__"):
                 async with function_io_manager.handle_user_exception.aio():
-                    await obj.__aexit__(*sys.exc_info())
-            elif hasattr(obj, "__exit__"):
+                    await imp_fun.obj.__aexit__(*sys.exc_info())
+            elif hasattr(imp_fun.obj, "__exit__"):
                 async with function_io_manager.handle_user_exception.aio():
-                    obj.__exit__(*sys.exc_info())
+                    imp_fun.obj.__exit__(*sys.exc_info())
 
 
 @dataclass
 class ImportedFunction:
     obj: Any
     fun: Callable
     stub: Optional[_Stub]
     is_async: bool
     is_generator: bool
+    input_concurrency: int
 
 
 @wrap()
 def import_function(function_def: api_pb2.Function, ser_cls, ser_fun, ser_params: Optional[bytes]) -> ImportedFunction:
     # This is not in function_io_manager, so that any global scope code that runs during import
     # runs on the main thread.
     module = None
@@ -523,14 +575,17 @@
 
     # Check this property before we turn it into a method (overriden by webhooks)
     is_async = get_is_async(fun)
 
     # Use the function definition for whether this is a generator (overriden by webhooks)
     is_generator = function_def.function_type == api_pb2.Function.FUNCTION_TYPE_GENERATOR
 
+    # Container can fetch multiple inputs simultaneously
+    input_concurrency = function_def.allow_concurrent_inputs or 1
+
     # Instantiate the class if it's defined
     if cls:
         if ser_params:
             args, kwargs = pickle.loads(ser_params)
             obj = cls(*args, **kwargs)
         else:
             obj = cls()
@@ -554,15 +609,15 @@
     elif function_def.webhook_config.type == api_pb2.WEBHOOK_TYPE_FUNCTION:
         # function is webhook without an ASGI app. Create one for it.
         asgi_app = webhook_asgi_app(fun, function_def.webhook_config.method)
         fun = asgi_app_wrapper(asgi_app)
         is_async = True
         is_generator = True
 
-    return ImportedFunction(obj, fun, active_stub, is_async, is_generator)
+    return ImportedFunction(obj, fun, active_stub, is_async, is_generator, input_concurrency)
 
 
 def main(container_args: api_pb2.ContainerArguments, client: Client):
     # TODO: if there's an exception in this scope (in particular when we import code dynamically),
     # we could catch that exception and set it properly serialized to the client. Right now the
     # whole container fails with a non-zero exit code and we send back a more opaque error message.
 
@@ -593,19 +648,17 @@
             # TODO(erikbern): the second condition is for legacy compatibility, remove soon
             # TODO(erikbern): there is no client test for this branch
             input_stream_unwrapped = synchronizer._translate_in(container_app._pty_input_stream)
             input_stream_blocking = synchronizer._translate_out(input_stream_unwrapped, Interface.BLOCKING)
             imp_fun.fun = run_in_pty(imp_fun.fun, input_stream_blocking, pty_info)
 
         if not imp_fun.is_async:
-            call_function_sync(function_io_manager, imp_fun.obj, imp_fun.fun, imp_fun.is_generator)
+            call_function_sync(function_io_manager, imp_fun)
         else:
-            run_with_signal_handler(
-                call_function_async(function_io_manager, imp_fun.obj, imp_fun.fun, imp_fun.is_generator)
-            )
+            run_with_signal_handler(call_function_async(function_io_manager, imp_fun))
 
 
 if __name__ == "__main__":
     logger.debug("Container: starting")
 
     container_args = api_pb2.ContainerArguments()
     container_args.ParseFromString(base64.b64decode(sys.argv[1]))
```

## modal/client.pyi

```diff
@@ -11,15 +11,15 @@
 
 
 async def _grpc_exc_string(exc: grpclib.exceptions.GRPCError, method_name: str, server_url: str, timeout: float) -> str:
     ...
 
 
 class _Client:
-    def __init__(self, server_url, client_type, credentials, version='0.50.2934', *, no_verify=False):
+    def __init__(self, server_url, client_type, credentials, version='0.50.2940', *, no_verify=False):
         ...
 
     @property
     def stub(self):
         ...
 
     async def _open(self):
@@ -67,15 +67,15 @@
 
     @property
     def function_invocations(self):
         ...
 
 
 class Client:
-    def __init__(self, server_url, client_type, credentials, version='0.50.2934', *, no_verify=False):
+    def __init__(self, server_url, client_type, credentials, version='0.50.2940', *, no_verify=False):
         ...
 
     @property
     def stub(self):
         ...
 
     class ___open_spec(typing_extensions.Protocol):
```

## modal/functions.py

```diff
@@ -834,14 +834,15 @@
         volumes: Dict[Union[str, os.PathLike], _Volume] = {},
         webhook_config: Optional[api_pb2.WebhookConfig] = None,
         memory: Optional[int] = None,
         proxy: Optional[_Proxy] = None,
         retries: Optional[Union[int, Retries]] = None,
         timeout: Optional[int] = None,
         concurrency_limit: Optional[int] = None,
+        allow_concurrent_inputs: Optional[int] = None,
         container_idle_timeout: Optional[int] = None,
         cpu: Optional[float] = None,
         keep_warm: Optional[int] = None,
         interactive: bool = False,
         name: Optional[str] = None,
         cloud: Optional[str] = None,
         is_builder_function: bool = False,
@@ -1107,15 +1108,15 @@
                 concurrency_limit=concurrency_limit,
                 pty_info=pty_info,
                 cloud_provider=cloud_provider,
                 warm_pool_size=keep_warm,
                 runtime=config.get("function_runtime"),
                 stub_name=stub_name,
                 is_builder_function=is_builder_function,
-                allow_concurrent_inputs=1,
+                allow_concurrent_inputs=allow_concurrent_inputs,
             )
             request = api_pb2.FunctionCreateRequest(
                 app_id=resolver.app_id,
                 function=function_definition,
                 schedule=schedule.proto_message if schedule is not None else None,
                 existing_function_id=existing_object_id,
             )
```

## modal/functions.pyi

```diff
@@ -341,15 +341,15 @@
     _cloud: typing.Union[str, None]
     _handle: _FunctionHandle
     _stub: modal.stub._Stub
     _is_builder_function: bool
     _retry_policy: typing.Union[modal_proto.api_pb2.FunctionRetryPolicy, None]
 
     @staticmethod
-    def from_args(info: modal._function_utils.FunctionInfo, stub, image=None, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Collection[modal.secret._Secret] = (), schedule: typing.Union[modal.schedule.Schedule, None] = None, is_generator=False, gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Collection[modal.mount._Mount] = (), network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume] = {}, webhook_config: typing.Union[modal_proto.api_pb2.WebhookConfig, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy._Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, timeout: typing.Union[int, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, cpu: typing.Union[float, None] = None, keep_warm: typing.Union[int, None] = None, interactive: bool = False, name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None, is_builder_function: bool = False, cls: typing.Union[type, None] = None) -> None:
+    def from_args(info: modal._function_utils.FunctionInfo, stub, image=None, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Collection[modal.secret._Secret] = (), schedule: typing.Union[modal.schedule.Schedule, None] = None, is_generator=False, gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Collection[modal.mount._Mount] = (), network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume] = {}, webhook_config: typing.Union[modal_proto.api_pb2.WebhookConfig, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy._Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, timeout: typing.Union[int, None] = None, concurrency_limit: typing.Union[int, None] = None, allow_concurrent_inputs: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, cpu: typing.Union[float, None] = None, keep_warm: typing.Union[int, None] = None, interactive: bool = False, name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None, is_builder_function: bool = False, cls: typing.Union[type, None] = None) -> None:
         ...
 
     @staticmethod
     def from_parametrized(base_handle: _FunctionHandle, *args: typing.Iterable[typing.Any], **kwargs: typing.Dict[str, typing.Any]) -> _Function:
         ...
 
     def get_panel_items(self) -> typing.List[str]:
@@ -416,15 +416,15 @@
     _is_builder_function: bool
     _retry_policy: typing.Union[modal_proto.api_pb2.FunctionRetryPolicy, None]
 
     def __init__(self):
         ...
 
     @staticmethod
-    def from_args(info: modal._function_utils.FunctionInfo, stub, image=None, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Collection[modal.secret.Secret] = (), schedule: typing.Union[modal.schedule.Schedule, None] = None, is_generator=False, gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Collection[modal.mount.Mount] = (), network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume] = {}, webhook_config: typing.Union[modal_proto.api_pb2.WebhookConfig, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy.Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, timeout: typing.Union[int, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, cpu: typing.Union[float, None] = None, keep_warm: typing.Union[int, None] = None, interactive: bool = False, name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None, is_builder_function: bool = False, cls: typing.Union[type, None] = None) -> None:
+    def from_args(info: modal._function_utils.FunctionInfo, stub, image=None, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Collection[modal.secret.Secret] = (), schedule: typing.Union[modal.schedule.Schedule, None] = None, is_generator=False, gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Collection[modal.mount.Mount] = (), network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume] = {}, webhook_config: typing.Union[modal_proto.api_pb2.WebhookConfig, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy.Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, timeout: typing.Union[int, None] = None, concurrency_limit: typing.Union[int, None] = None, allow_concurrent_inputs: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, cpu: typing.Union[float, None] = None, keep_warm: typing.Union[int, None] = None, interactive: bool = False, name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None, is_builder_function: bool = False, cls: typing.Union[type, None] = None) -> None:
         ...
 
     @staticmethod
     def from_parametrized(base_handle: FunctionHandle, *args: typing.Iterable[typing.Any], **kwargs: typing.Dict[str, typing.Any]) -> Function:
         ...
 
     def get_panel_items(self) -> typing.List[str]:
```

## modal/stub.py

```diff
@@ -429,14 +429,15 @@
         allow_cross_region_volumes: bool = False,  # Whether using network file systems from other regions is allowed.
         volumes: Dict[Union[str, os.PathLike], _Volume] = {},  # Experimental. Do not use!
         cpu: Optional[float] = None,  # How many CPU cores to request. This is a soft limit.
         memory: Optional[int] = None,  # How much memory to request, in MiB. This is a soft limit.
         proxy: Optional[_Proxy] = None,  # Reference to a Modal Proxy to use in front of this function.
         retries: Optional[Union[int, Retries]] = None,  # Number of times to retry each input in case of failure.
         concurrency_limit: Optional[int] = None,  # Limit for max concurrent containers running the function.
+        allow_concurrent_inputs: Optional[int] = None,  # Number of inputs the container may fetch to run concurrently.
         container_idle_timeout: Optional[int] = None,  # Timeout for idle containers waiting for inputs to shut down.
         timeout: Optional[int] = None,  # Maximum execution time of the function in seconds.
         interactive: bool = False,  # Whether to run the function in interactive mode.
         keep_warm: Optional[int] = None,  # An optional number of containers to always keep warm.
         name: Optional[str] = None,  # Sets the Modal name of the function within the stub
         is_generator: Optional[
             bool
@@ -501,14 +502,15 @@
                 network_file_systems=network_file_systems,
                 allow_cross_region_volumes=allow_cross_region_volumes,
                 volumes=volumes,
                 memory=memory,
                 proxy=proxy,
                 retries=retries,
                 concurrency_limit=concurrency_limit,
+                allow_concurrent_inputs=allow_concurrent_inputs,
                 container_idle_timeout=container_idle_timeout,
                 timeout=timeout,
                 cpu=cpu,
                 interactive=interactive,
                 keep_warm=keep_warm,
                 name=name,
                 cloud=cloud,
@@ -536,14 +538,15 @@
         allow_cross_region_volumes: bool = False,  # Whether using network file systems from other regions is allowed.
         volumes: Dict[Union[str, os.PathLike], _Volume] = {},  # Experimental. Do not use!
         cpu: Optional[float] = None,  # How many CPU cores to request. This is a soft limit.
         memory: Optional[int] = None,  # How much memory to request, in MiB. This is a soft limit.
         proxy: Optional[_Proxy] = None,  # Reference to a Modal Proxy to use in front of this function.
         retries: Optional[Union[int, Retries]] = None,  # Number of times to retry each input in case of failure.
         concurrency_limit: Optional[int] = None,  # Limit for max concurrent containers running the function.
+        allow_concurrent_inputs: Optional[int] = None,  # Number of inputs the container may fetch to run concurrently.
         container_idle_timeout: Optional[int] = None,  # Timeout for idle containers waiting for inputs to shut down.
         timeout: Optional[int] = None,  # Maximum execution time of the function in seconds.
         interactive: bool = False,  # Whether to run the function in interactive mode.
         keep_warm: Optional[int] = None,  # An optional number of containers to always keep warm.
         cloud: Optional[str] = None,  # Cloud provider to run the function on. Possible values are aws, gcp, oci, auto.
     ) -> Callable[[CLS_T], CLS_T]:
         decorator: Callable[[PartialFunction, type], _FunctionHandle] = self.function(
@@ -558,14 +561,15 @@
             allow_cross_region_volumes=allow_cross_region_volumes,
             volumes=volumes,
             cpu=cpu,
             memory=memory,
             proxy=proxy,
             retries=retries,
             concurrency_limit=concurrency_limit,
+            allow_concurrent_inputs=allow_concurrent_inputs,
             container_idle_timeout=container_idle_timeout,
             timeout=timeout,
             interactive=interactive,
             keep_warm=keep_warm,
             cloud=cloud,
         )
```

## modal/stub.pyi

```diff
@@ -119,18 +119,18 @@
     @property
     def registered_web_endpoints(self) -> typing.List[str]:
         ...
 
     def local_entrypoint(self, name: typing.Union[str, None] = None) -> typing.Callable[[typing.Callable[..., typing.Any]], None]:
         ...
 
-    def function(self, image: typing.Union[modal.image._Image, None] = None, schedule: typing.Union[modal.schedule.Schedule, None] = None, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Sequence[modal.secret._Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount._Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy._Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, name: typing.Union[str, None] = None, is_generator: typing.Union[bool, None] = None, cloud: typing.Union[str, None] = None) -> typing.Callable[..., modal.functions._FunctionHandle]:
+    def function(self, image: typing.Union[modal.image._Image, None] = None, schedule: typing.Union[modal.schedule.Schedule, None] = None, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Sequence[modal.secret._Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount._Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy._Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, allow_concurrent_inputs: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, name: typing.Union[str, None] = None, is_generator: typing.Union[bool, None] = None, cloud: typing.Union[str, None] = None) -> typing.Callable[..., modal.functions._FunctionHandle]:
         ...
 
-    def cls(self, image: typing.Union[modal.image._Image, None] = None, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Sequence[modal.secret._Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount._Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy._Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, cloud: typing.Union[str, None] = None) -> typing.Callable[[CLS_T], CLS_T]:
+    def cls(self, image: typing.Union[modal.image._Image, None] = None, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Sequence[modal.secret._Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount._Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy._Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, allow_concurrent_inputs: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, cloud: typing.Union[str, None] = None) -> typing.Callable[[CLS_T], CLS_T]:
         ...
 
     def _get_deduplicated_function_mounts(self, mounts: typing.Dict[str, modal.mount._Mount]):
         ...
 
 
 class Stub:
@@ -230,18 +230,18 @@
     @property
     def registered_web_endpoints(self) -> typing.List[str]:
         ...
 
     def local_entrypoint(self, name: typing.Union[str, None] = None) -> typing.Callable[[typing.Callable[..., typing.Any]], None]:
         ...
 
-    def function(self, image: typing.Union[modal.image.Image, None] = None, schedule: typing.Union[modal.schedule.Schedule, None] = None, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Sequence[modal.secret.Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount.Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy.Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, name: typing.Union[str, None] = None, is_generator: typing.Union[bool, None] = None, cloud: typing.Union[str, None] = None) -> typing.Callable[..., modal.functions.FunctionHandle]:
+    def function(self, image: typing.Union[modal.image.Image, None] = None, schedule: typing.Union[modal.schedule.Schedule, None] = None, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Sequence[modal.secret.Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount.Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy.Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, allow_concurrent_inputs: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, name: typing.Union[str, None] = None, is_generator: typing.Union[bool, None] = None, cloud: typing.Union[str, None] = None) -> typing.Callable[..., modal.functions.FunctionHandle]:
         ...
 
-    def cls(self, image: typing.Union[modal.image.Image, None] = None, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Sequence[modal.secret.Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount.Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy.Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, cloud: typing.Union[str, None] = None) -> typing.Callable[[CLS_T], CLS_T]:
+    def cls(self, image: typing.Union[modal.image.Image, None] = None, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Sequence[modal.secret.Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount.Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy.Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, allow_concurrent_inputs: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, cloud: typing.Union[str, None] = None) -> typing.Callable[[CLS_T], CLS_T]:
         ...
 
     def _get_deduplicated_function_mounts(self, mounts: typing.Dict[str, modal.mount.Mount]):
         ...
 
 
 _default_image: modal.image._Image
```

## modal_test_support/functions.py

```diff
@@ -164,7 +164,19 @@
     def __init__(self, x: int, y: str) -> None:
         self.x = x
         self.y = y
 
     @method()
     def f(self, z: int):
         return f"{self.x} {self.y} {z}"
+
+
+@stub.function(allow_concurrent_inputs=5)
+def sleep_700_sync(x):
+    time.sleep(0.7)
+    return x * x
+
+
+@stub.function(allow_concurrent_inputs=5)
+async def sleep_700_async(x):
+    await asyncio.sleep(0.7)
+    return x * x
```

## modal_version/_version_generated.py

```diff
@@ -1,2 +1,2 @@
 # Copyright Modal Labs 2023
-build_number = 2934
+build_number = 2940
```

## Comparing `modal_client-0.50.2934.dist-info/LICENSE` & `modal_client-0.50.2940.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `modal_client-0.50.2934.dist-info/METADATA` & `modal_client-0.50.2940.dist-info/METADATA`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: modal-client
-Version: 0.50.2934
+Version: 0.50.2940
 Summary: Python client library for Modal
 Author: Modal Labs
 Author-email: erik@modal.com
 Project-URL: Homepage, https://modal.com
 Keywords: modal,client,cloud,serverless,infrastructure
 Classifier: Topic :: System :: Distributed Computing
 Classifier: Operating System :: OS Independent
```

## Comparing `modal_client-0.50.2934.dist-info/RECORD` & `modal_client-0.50.2940.dist-info/RECORD`

 * *Files 2% similar despite different names*

```diff
@@ -5,15 +5,15 @@
 client_test/cli_imports_test.py,sha256=CJYkSI0gF8Zz32xD24JWX2LSlI_jXbwQ_Osqxh80xvc,3979
 client_test/cli_test.py,sha256=RGYejLgAZuLx4wxgmHi787Jgthzz_hCfU4XN1Mp2utE,17970
 client_test/client_test.py,sha256=AVDt8PzLbr5QoYUsA94jfQ8GeoQwEhT81xGUQf2uzAA,4768
 client_test/cls_test.py,sha256=f5UT4NZWYFwKlwtzTLj4RykQpWqOO8Fn9Ad9MK8xzw0,4877
 client_test/config_test.py,sha256=nXcFcqYZnAord4OOV1HDTGUCav0a0ga4ce80DSijR4w,2622
 client_test/conftest.py,sha256=23ef0RaVvHvd06EDOq1qtzOZEm9A2lAGrd8QCw7JW8E,34296
 client_test/container_app_test.py,sha256=-HOFzI-PCt3K1qicGdZ8bWgTMibtNS_ioIptbIZRb2E,4230
-client_test/container_test.py,sha256=HivwUUvQsvrX-mlDUChHVJPr6nWsWF6XPacFyu8oTmk,25162
+client_test/container_test.py,sha256=drNXEylt2n3JSqLedVJzl_WD5B_I07KbRnltqnK7L5E,27398
 client_test/cpu_test.py,sha256=CoJhxhHH9ZjZh3wnpKFfPku2Vq6xIZJoB6j7O-v2278,405
 client_test/deprecation_test.py,sha256=I74YCSVxiNnrMz7XFFm4bzZWpdkFcGQAVlDxSLCcqmE,1086
 client_test/dict_test.py,sha256=1DHrEMhZhM-sn07wjH_97YqNPJvEaZkxnPGeAaE5cKQ,475
 client_test/e2e_test.py,sha256=UEDenuTYU7laTIDNurz-dsta_BuFX76sgHn7Ul16v_0,2182
 client_test/error_test.py,sha256=bDxKUwE4WJ1qwAfm0Jlzqkb3WetF0YLxplrgjevAv4U,165
 client_test/function_serialization_test.py,sha256=cVwwiXcyRWWlBIC1gTjreTCFKwZYvlEAtrYQx__1x7A,964
 client_test/function_test.py,sha256=E7xQ1WZpDfw3I-uo86oEsnvuuOhKsXKc6mjFTQKavU8,18374
@@ -41,17 +41,17 @@
 client_test/utils_test.py,sha256=rt2SZ4M5t6UyKMFEAhTPzhbExw0pZGHjvWrUi4zu98I,2690
 client_test/version_test.py,sha256=XEiHOjqHd97yuhuUiaVU22-C72XhXJXQ4wPmPJt9n08,410
 client_test/volume_test.py,sha256=iz6ENf5sOewGrqpY1GK69T8MMZYRX1Hp0cUGMjYjsJE,3195
 client_test/watcher_test.py,sha256=kz--ZcsJC41gFr3-D7kKN7Co1ixn_yGqG13KdoGBomM,1160
 client_test/webhook_test.py,sha256=kGT4HMepkHDAbyw_av_9PaqJ-_mEPZ8wGEr1jZOwj1o,3888
 modal/__init__.py,sha256=pNA3mr2pRetNjgl89ovrHBl_Xbpt7AkdbJU4h2oR_i0,1159
 modal/__main__.py,sha256=HIOFyoYAuCrSKzWKYrUhTYZMx-BzN9-XMWlgod1cKX0,157
-modal/_asgi.py,sha256=7mRziltjlStd2lixWerBFmPpGp9fTamveVC7i98RBGo,2135
+modal/_asgi.py,sha256=Fj5o8HAcfY4JYfANnXERd73PuNGsQ0bDB18ZMJDD3vs,2294
 modal/_blob_utils.py,sha256=oPPjS1XBm_JOPjbcX_9bz-yfEE3hOsW34BW88BDZFEM,13413
-modal/_container_entrypoint.py,sha256=--wT33toG285Yy3NNr0Ug-col6mOn3r_q_QeCbXi3vA,26589
+modal/_container_entrypoint.py,sha256=w_jSnCucHnUiDTXlgt6oKbxqukJhN6qRDc12gQ1do5U,29782
 modal/_function_utils.py,sha256=rU5QyzqsmAuIIgaCyzSKrHKbdCiJVdVfE1ziP9rOQl8,11041
 modal/_ipython.py,sha256=HF_DYy0e0qM9WnGDmTY30s1RxzGya9GeORCauCEpRaE,450
 modal/_location.py,sha256=_SdCPzVOl7HRwLWIxzTJjhdpOo1sIl4flfEJ-bAbiDE,929
 modal/_output.py,sha256=cU78LyZxCAXXrUY-jZeKitjlFsTe1yvTkzfCoFmWOEk,17814
 modal/_proxy_tunnel.py,sha256=XTB23djYwYa8PzMsiNwkIF2y3nxfOyR8CSBtLiKomFs,1785
 modal/_pty.py,sha256=JkIbIUVea8_GrNO6oVzrlb8RB9z4Rl-s4qfaNZKWCrI,5267
 modal/_resolver.py,sha256=-oCcQOZchNvEXZW1-3ecY1OOL-BwWxajoUtKC4cwbMg,5804
@@ -61,24 +61,24 @@
 modal/_types.py,sha256=vUvweCqAt0S-mni_V_EGc_rDCKgJlU5g0P8r08zl1ko,490
 modal/_watcher.py,sha256=mwQpes-FIkaR7KO0C6IzGLwZrGFv6_msmwTgJ2yo6S8,3408
 modal/aio.py,sha256=26WoS6aTr-cx5X3DmwbbLsNzXKf__IDfsrP8nbzt-D8,702
 modal/app.py,sha256=Pm_C6bTClWQNzgOwHGebmUxUFitYVQ5IfPyGPAzmjIo,13768
 modal/app.pyi,sha256=1v08pQRJ2y9IZifY8IyhyG5GvKRjmiLtQLJvlj9sEE8,8062
 modal/call_graph.py,sha256=_cCMOMg7IeWNiRXdd-gJbb7pUYw2Ahl-KbXsizM6Lcg,2462
 modal/client.py,sha256=Z_3NWnUIz-H_0vmhAUDyZ0k7-Ml7HXB-oic7-qPnrYk,9478
-modal/client.pyi,sha256=a0bxBUSreQVLvokqfwaOfyElx7uOsTlXGqBJlI2Ak8Y,3966
+modal/client.pyi,sha256=xokdseZ16vyhmWmiay73jEOQIcEXEE6rDzpBYjT0Lds,3966
 modal/cls.py,sha256=mMe4XMxYZOEBKaGXWlJZ6dmOvH-kTC4Oo9IDeb8OMSk,1963
 modal/config.py,sha256=ObJHOjTFMjs257oBst1Q6zQ3aQwyT7WScfClxFg2gcc,7224
 modal/dict.py,sha256=rMs63IproD4fNnOPtJVnmOwj8Nyh9cbmznHF21QULoE,6463
 modal/dict.pyi,sha256=A3u6RMdMsImqVyEDT9SBcRuB82HtW7NjR2R1NvqHb9s,4028
 modal/environments.py,sha256=S45gsH5p4ENP4Kzqm_JyTeCSTeP3_8_K5hstZSMStdI,2189
 modal/environments.pyi,sha256=I0CFWTrnwB_deMBNPxyc8SLnQQ6XpTNpkEOW-PXLz7U,1195
 modal/exception.py,sha256=gxHMYe7CiH1ijgGyiPe-KAxJOVkUquIMPgrOc-QIdSc,2750
-modal/functions.py,sha256=4rsuA9HGxVHINPfg9uxza57AqiIu8z0nzkA_tXKc_UE,64613
-modal/functions.pyi,sha256=nf43AaDyOM6_zCjQeFVjzFgc5eTICqTGpF_FxDEyQOo,20358
+modal/functions.py,sha256=jgYghXG_OAHjxXTW62Rjg_xfXSfu6Zf5IJ8YLDjW5nE,64690
+modal/functions.pyi,sha256=fJuDwRjz_bPUg78l2L-bx1028znzw_iKz3_HPtLyMl0,20472
 modal/gpu.py,sha256=qISvMiVdZmHXnRodgdKu35BOnHZoJYo_bWMZdaXJQLQ,4858
 modal/image.py,sha256=FyWt6iV5gMhJTLqBRJPYSEWqMySCfcEIRTIT3F1AMBU,49420
 modal/image.pyi,sha256=3gY7ZzYqjPFn6hID26Tlotha_QQWXnZOLQnQ6FnKrEU,15110
 modal/mount.py,sha256=dDduRz56lZ23-1R3BLxEqTgZ-NxUKaEMyxCMYG4c4us,15521
 modal/mount.pyi,sha256=eaCyWJx0X5NpgZHp9O0-Y1sa7WjbU6TDMxAArgrxrBk,6034
 modal/network_file_system.py,sha256=n8w6zk_P_5QfrVLT0fdqyMDly4X3d5qr__Yyf_CORmg,11140
 modal/network_file_system.pyi,sha256=3kaULFA-mppMRl44kK_-VKT_2qi2s_6ZARuD8VrDVJM,6993
@@ -95,16 +95,16 @@
 modal/sandbox.py,sha256=QcjOFJ-eBZCyNFx7YnNQN4TYh5cMl2fbXP36IFwJuyA,6202
 modal/sandbox.pyi,sha256=TKm-nKspCYU34bS0W02PQ3J1KbwX8tqk_PLecldBiz8,2906
 modal/schedule.py,sha256=KUzkyV8bUZ1Oclx9thoR6q1ujX0JwPHkHKroJFS4X4k,2619
 modal/secret.py,sha256=DssC9U6l3jj7XgZ1vGxJFj8NaZ5tbHmCYIQ55hLFSH0,5065
 modal/secret.pyi,sha256=ziuW9YW-vuLOQG0HKbuWaiWPouQClo_E3TJcEJCl9yA,720
 modal/serving.py,sha256=wDFWhlG1JDPKqFazCXBHHwVO9SwcXdxi4f5VHNfyIh0,4717
 modal/shared_volume.py,sha256=CHd5axj4gyb0FRMQJLu7ES7VqFAwXawhrhmKsM2uyv0,1242
-modal/stub.py,sha256=a3MgZv0VFiwFNcvjPwEsdthQwcFqRUqNQVYYmfuV3BI,25098
-modal/stub.pyi,sha256=LS0I9Hi5EtXcCVmclOpDV3XtzQtpdfUJzHcVnVoIMy0,12043
+modal/stub.py,sha256=hP9gWK6pY8IgZfnazaLwkBl8eTca5XXpHh2erEuBoa0,25464
+modal/stub.pyi,sha256=DsGbHVPFf0yFxl1t_n36NzcuINAYq9Hvs5mT2yHmYqs,12271
 modal/volume.py,sha256=CIa4nvSko2hRROphbOlI1ISOqyEAx1TPuNvX91kpraY,7566
 modal/volume.pyi,sha256=Anuy8njqo9sSXYsoCRX1gQHgL4_feCWzZ327iXDCK58,3787
 modal/cli/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
 modal/cli/_shared_volume.py,sha256=Hntd-bkQpkydTwNSusJgojNWWePCWTIo4NuDA_Zw3v8,1709
 modal/cli/app.py,sha256=-LCNpdADmmf0RAmnnMDY5BjvM7LZUhCDQZ3jXeWAbbE,3057
 modal/cli/config.py,sha256=ACSKAVi-qfcsGtRgwZhUrREgBq-lR_DZGf-fjlZFnWM,1360
 modal/cli/entry_point.py,sha256=ZeiPRfrsk7BzA19avcQFD0kHwZ5BBq63rrKlJEkcKgo,2039
@@ -129,15 +129,15 @@
 modal_proto/api.proto,sha256=hIPZKzAhTI-_9AzuBhkB8LWnmqG6K4Z8_MtcSCMetZY,32918
 modal_proto/api_grpc.py,sha256=JsfBGeKvHlDdVGvE8ds4Ttf0rkIDUwyOjgSHabVL9M4,55111
 modal_proto/api_pb2.py,sha256=O969TfEEv4f5KvBoUibKsGxoMrMVw6pBgjreEh-l3Oc,138479
 modal_proto/api_pb2_grpc.py,sha256=TSzP2ivc-wqth6p3M_690H9L5BbzDnoLq9CQNgyRxRU,119140
 modal_test_support/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
 modal_test_support/assert_package.py,sha256=jDvK7mjZQKbm9GVsBaAm4wgTjELYBLbGsyB0_ZDr7yM,134
 modal_test_support/consumed_map.py,sha256=YkCQpaY_vJoafoPBwJJpHzcYdLkY86rQGY3DMOzvec4,171
-modal_test_support/functions.py,sha256=yxQEfqCuhuN-uppjPrQOypWiEvAx9A2F926ySRJU_Bw,3013
+modal_test_support/functions.py,sha256=Rt366xGJRHNdkMSZPPJmafXb_zoIBp5gAq1nggrItBY,3237
 modal_test_support/hello.py,sha256=oltEALpja2gl61svotm2yRfnp_A0oXtX1xLxoyW_XZs,183
 modal_test_support/image_run_function.py,sha256=W2q39RmWdsYHXQJJJQHqx18TT_cKQNkYu_Bc82xtqh4,266
 modal_test_support/is_inside.py,sha256=xZ528NUiAQzO5QQ4JE-4Wdmd5tGzySCvNJLWj6ZO93c,180
 modal_test_support/missing_main_conditional.py,sha256=XcBOXWdcdz0YRXiakD3WhPn2_gxQFrvYHKRp_ug4gjk,187
 modal_test_support/module_1.py,sha256=UYzBJ1qENH4j8o3vy7EDngz2xEfrHAKDL9G6Z3R8z4c,59
 modal_test_support/module_2.py,sha256=UYzBJ1qENH4j8o3vy7EDngz2xEfrHAKDL9G6Z3R8z4c,59
 modal_test_support/multistub.py,sha256=qhKtq_0ywc0L2Si895cljwdcWVRgGR6_C9Qhy4t2r9k,276
@@ -160,14 +160,14 @@
 modal_utils/grpc_testing.py,sha256=4OZcs7dD6WvK3hWg9u0sPx2Fl_ZoJsW7M2LHAn0n_us,6538
 modal_utils/grpc_utils.py,sha256=_8TKgTaztP8fjlT63K2j1glfnwotgAXywEREH9ssjpQ,9320
 modal_utils/hash_utils.py,sha256=YOE1LZwyqaTQSZajrF-H_5_iJkjxMclJewC0SgH_8xA,1597
 modal_utils/http_utils.py,sha256=DGKvrSQxAHjP_LNdM6EaL-TIQPGDX5vt3gcMGg2xkz4,1426
 modal_utils/logger.py,sha256=odPE0R8_9GkufC_74wqolLikZVIbdxmwDF5xeoILklU,113
 modal_utils/package_utils.py,sha256=TLF7GygWqsqZpL-dVnchts55IcTwkMPFLBGeZjuRXCw,1226
 modal_version/__init__.py,sha256=4HAjuKbNhfE463OlLVk6aZlZ7bPvEm90fXDuz6wyxRs,458
-modal_version/_version_generated.py,sha256=Q40b_DxQAAnwVEfFgai6Sj9ny_5w3uES4WeJRxcGJdQ,48
-modal_client-0.50.2934.dist-info/LICENSE,sha256=psuoW8kuDP96RQsdhzwOqi6fyWv0ct8CR6Jr7He_P_k,10173
-modal_client-0.50.2934.dist-info/METADATA,sha256=7VTHGolBFQJbhUd--3IN30zEPHFxowLUS75TNKA6D8s,1923
-modal_client-0.50.2934.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-modal_client-0.50.2934.dist-info/entry_points.txt,sha256=An-wYgeEUnm6xzrAP9_NTSTSciYvvEWsMZILtYrvpAI,46
-modal_client-0.50.2934.dist-info/top_level.txt,sha256=vTBZ60jGY6Z2jEeHlo3uEJRmrR3M1rZoXur0ZaqOrS4,93
-modal_client-0.50.2934.dist-info/RECORD,,
+modal_version/_version_generated.py,sha256=dOi2ifyjnOXeFPCAEYEP8Sfh8DZ-wLFxbXIILE0aU4c,48
+modal_client-0.50.2940.dist-info/LICENSE,sha256=psuoW8kuDP96RQsdhzwOqi6fyWv0ct8CR6Jr7He_P_k,10173
+modal_client-0.50.2940.dist-info/METADATA,sha256=6dCnGxOcudrO60RK8OQnbiuNal5txHUYl9kDaAYExh8,1923
+modal_client-0.50.2940.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+modal_client-0.50.2940.dist-info/entry_points.txt,sha256=An-wYgeEUnm6xzrAP9_NTSTSciYvvEWsMZILtYrvpAI,46
+modal_client-0.50.2940.dist-info/top_level.txt,sha256=vTBZ60jGY6Z2jEeHlo3uEJRmrR3M1rZoXur0ZaqOrS4,93
+modal_client-0.50.2940.dist-info/RECORD,,
```

